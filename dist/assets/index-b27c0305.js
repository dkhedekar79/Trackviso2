(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),n}var t0={exports:{}},Fa={},n0={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),Zv=Symbol.for("react.portal"),ew=Symbol.for("react.fragment"),tw=Symbol.for("react.strict_mode"),nw=Symbol.for("react.profiler"),sw=Symbol.for("react.provider"),rw=Symbol.for("react.context"),iw=Symbol.for("react.forward_ref"),ow=Symbol.for("react.suspense"),aw=Symbol.for("react.memo"),lw=Symbol.for("react.lazy"),zh=Symbol.iterator;function cw(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var s0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r0=Object.assign,i0={};function Tr(e,t,n){this.props=e,this.context=t,this.refs=i0,this.updater=n||s0}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o0(){}o0.prototype=Tr.prototype;function Hu(e,t,n){this.props=e,this.context=t,this.refs=i0,this.updater=n||s0}var Gu=Hu.prototype=new o0;Gu.constructor=Hu;r0(Gu,Tr.prototype);Gu.isPureReactComponent=!0;var Wh=Array.isArray,a0=Object.prototype.hasOwnProperty,Xu={current:null},l0={key:!0,ref:!0,__self:!0,__source:!0};function c0(e,t,n){var s,r={},o=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)a0.call(t,s)&&!l0.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Ji,type:e,key:o,ref:a,props:r,_owner:Xu.current}}function uw(e,t){return{$$typeof:Ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ji}function dw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hh=/\/+/g;function vl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dw(""+e.key):t.toString(36)}function Vo(e,t,n,s,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ji:case Zv:a=!0}}if(a)return a=e,r=r(a),e=s===""?"."+vl(a,0):s,Wh(r)?(n="",e!=null&&(n=e.replace(Hh,"$&/")+"/"),Vo(r,t,n,"",function(u){return u})):r!=null&&(Ku(r)&&(r=uw(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Hh,"$&/")+"/")+e)),t.push(r)),1;if(a=0,s=s===""?".":s+":",Wh(e))for(var l=0;l<e.length;l++){o=e[l];var c=s+vl(o,l);a+=Vo(o,t,n,c,r)}else if(c=cw(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=s+vl(o,l++),a+=Vo(o,t,n,c,r);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function mo(e,t,n){if(e==null)return e;var s=[],r=0;return Vo(e,s,"","",function(o){return t.call(n,o,r++)}),s}function hw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Bo={transition:null},fw={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:Xu};function u0(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:mo,forEach:function(e,t,n){mo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mo(e,function(){t++}),t},toArray:function(e){return mo(e,function(t){return t})||[]},only:function(e){if(!Ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Tr;J.Fragment=ew;J.Profiler=nw;J.PureComponent=Hu;J.StrictMode=tw;J.Suspense=ow;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fw;J.act=u0;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=r0({},e.props),r=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Xu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)a0.call(t,c)&&!l0.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ji,type:e.type,key:r,ref:o,props:s,_owner:a}};J.createContext=function(e){return e={$$typeof:rw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sw,_context:e},e.Consumer=e};J.createElement=c0;J.createFactory=function(e){var t=c0.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:iw,render:e}};J.isValidElement=Ku;J.lazy=function(e){return{$$typeof:lw,_payload:{_status:-1,_result:e},_init:hw}};J.memo=function(e,t){return{$$typeof:aw,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Bo.transition;Bo.transition={};try{e()}finally{Bo.transition=t}};J.unstable_act=u0;J.useCallback=function(e,t){return tt.current.useCallback(e,t)};J.useContext=function(e){return tt.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};J.useEffect=function(e,t){return tt.current.useEffect(e,t)};J.useId=function(){return tt.current.useId()};J.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return tt.current.useMemo(e,t)};J.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};J.useRef=function(e){return tt.current.useRef(e)};J.useState=function(e){return tt.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return tt.current.useTransition()};J.version="18.3.1";n0.exports=J;var y=n0.exports;const mw=Yv(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=y,gw=Symbol.for("react.element"),xw=Symbol.for("react.fragment"),yw=Object.prototype.hasOwnProperty,vw=pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ww={key:!0,ref:!0,__self:!0,__source:!0};function d0(e,t,n){var s,r={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)yw.call(t,s)&&!ww.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:gw,type:e,key:o,ref:a,props:r,_owner:vw.current}}Fa.Fragment=xw;Fa.jsx=d0;Fa.jsxs=d0;t0.exports=Fa;var i=t0.exports,gc={},h0={exports:{}},xt={},f0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var F=T.length;T.push(D);e:for(;0<F;){var H=F-1>>>1,z=T[H];if(0<r(z,D))T[H]=D,T[F]=z,F=H;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var D=T[0],F=T.pop();if(F!==D){T[0]=F;e:for(var H=0,z=T.length,K=z>>>1;H<K;){var te=2*(H+1)-1,P=T[te],L=te+1,U=T[L];if(0>r(P,F))L<z&&0>r(U,P)?(T[H]=U,T[L]=F,H=L):(T[H]=P,T[te]=F,H=te);else if(L<z&&0>r(U,F))T[H]=U,T[L]=F,H=L;else break e}}return D}function r(T,D){var F=T.sortIndex-D.sortIndex;return F!==0?F:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,v=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=T)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function w(T){if(b=!1,p(T),!v)if(n(c)!==null)v=!0,M(N);else{var D=n(u);D!==null&&E(w,D.startTime-T)}}function N(T,D){v=!1,b&&(b=!1,x(_),_=-1),m=!0;var F=f;try{for(p(D),h=n(c);h!==null&&(!(h.expirationTime>D)||T&&!V());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var z=H(h.expirationTime<=D);D=e.unstable_now(),typeof z=="function"?h.callback=z:h===n(c)&&s(c),p(D)}else s(c);h=n(c)}if(h!==null)var K=!0;else{var te=n(u);te!==null&&E(w,te.startTime-D),K=!1}return K}finally{h=null,f=F,m=!1}}var j=!1,k=null,_=-1,$=5,C=-1;function V(){return!(e.unstable_now()-C<$)}function Z(){if(k!==null){var T=e.unstable_now();C=T;var D=!0;try{D=k(!0,T)}finally{D?ne():(j=!1,k=null)}}else j=!1}var ne;if(typeof g=="function")ne=function(){g(Z)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,W=A.port2;A.port1.onmessage=Z,ne=function(){W.postMessage(null)}}else ne=function(){S(Z,0)};function M(T){k=T,j||(j=!0,ne())}function E(T,D){_=S(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,M(N))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var F=f;f=D;try{return T()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=f;f=T;try{return D()}finally{f=F}},e.unstable_scheduleCallback=function(T,D,F){var H=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,T){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,T={id:d++,callback:D,priorityLevel:T,startTime:F,expirationTime:z,sortIndex:-1},F>H?(T.sortIndex=F,t(u,T),n(c)===null&&T===n(u)&&(b?(x(_),_=-1):b=!0,E(w,F-H))):(T.sortIndex=z,t(c,T),v||m||(v=!0,M(N))),T},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(T){var D=f;return function(){var F=f;f=D;try{return T.apply(this,arguments)}finally{f=F}}}})(m0);f0.exports=m0;var bw=f0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw=y,gt=bw;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p0=new Set,ki={};function Ds(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for(ki[e]=t,e=0;e<t.length;e++)p0.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xc=Object.prototype.hasOwnProperty,Sw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gh={},Xh={};function kw(e){return xc.call(Xh,e)?!0:xc.call(Gh,e)?!1:Sw.test(e)?Xh[e]=!0:(Gh[e]=!0,!1)}function Nw(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _w(e,t,n,s){if(t===null||typeof t>"u"||Nw(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,s,r,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qu=/[\-:]([a-z])/g;function qu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qu,qu);Be[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qu,qu);Be[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qu,qu);Be[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yu(e,t,n,s){var r=Be.hasOwnProperty(t)?Be[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_w(t,n,r,s)&&(n=null),s||r===null?kw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Tn=jw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,po=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),yc=Symbol.for("react.profiler"),g0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),Zu=Symbol.for("react.forward_ref"),vc=Symbol.for("react.suspense"),wc=Symbol.for("react.suspense_list"),ed=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),y0=Symbol.for("react.offscreen"),Kh=Symbol.iterator;function Br(e){return e===null||typeof e!="object"?null:(e=Kh&&e[Kh]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,wl;function ti(e){if(wl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wl=t&&t[1]||""}return`
`+wl+e}var bl=!1;function jl(e,t){if(!e||bl)return"";bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=s.stack.split(`
`),a=r.length-1,l=o.length-1;1<=a&&0<=l&&r[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==o[l]){var c=`
`+r[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{bl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ti(e):""}function Tw(e){switch(e.tag){case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 2:case 15:return e=jl(e.type,!1),e;case 11:return e=jl(e.type.render,!1),e;case 1:return e=jl(e.type,!0),e;default:return""}}function bc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case Ws:return"Portal";case yc:return"Profiler";case Ju:return"StrictMode";case vc:return"Suspense";case wc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x0:return(e.displayName||"Context")+".Consumer";case g0:return(e._context.displayName||"Context")+".Provider";case Zu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ed:return t=e.displayName||null,t!==null?t:bc(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return bc(e(t))}catch{}}return null}function Cw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bc(t);case 8:return t===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function v0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ew(e){var t=v0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function go(e){e._valueTracker||(e._valueTracker=Ew(e))}function w0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=v0(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jc(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qh(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function b0(e,t){t=t.checked,t!=null&&Yu(e,"checked",t,!1)}function Sc(e,t){b0(e,t);var n=Zn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kc(e,t.type,n):t.hasOwnProperty("defaultValue")&&kc(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kc(e,t,n){(t!=="number"||ia(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ni=Array.isArray;function ar(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Nc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(ni(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function j0(e,t){var n=Zn(t.value),s=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _c(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xo,k0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xo=xo||document.createElement("div"),xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ni(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pw=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){Pw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function N0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function _0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=N0(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Dw=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tc(e,t){if(t){if(Dw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Cc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=null;function td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pc=null,lr=null,cr=null;function Zh(e){if(e=to(e)){if(typeof Pc!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Wa(t),Pc(e.stateNode,e.type,t))}}function T0(e){lr?cr?cr.push(e):cr=[e]:lr=e}function C0(){if(lr){var e=lr,t=cr;if(cr=lr=null,Zh(e),t)for(e=0;e<t.length;e++)Zh(t[e])}}function E0(e,t){return e(t)}function P0(){}var Sl=!1;function D0(e,t,n){if(Sl)return e(t,n);Sl=!0;try{return E0(e,t,n)}finally{Sl=!1,(lr!==null||cr!==null)&&(P0(),C0())}}function _i(e,t){var n=e.stateNode;if(n===null)return null;var s=Wa(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Dc=!1;if(wn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Dc=!1}function Aw(e,t,n,s,r,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var li=!1,oa=null,aa=!1,Ac=null,Rw={onError:function(e){li=!0,oa=e}};function Mw(e,t,n,s,r,o,a,l,c){li=!1,oa=null,Aw.apply(Rw,arguments)}function Lw(e,t,n,s,r,o,a,l,c){if(Mw.apply(this,arguments),li){if(li){var u=oa;li=!1,oa=null}else throw Error(I(198));aa||(aa=!0,Ac=u)}}function As(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function A0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ef(e){if(As(e)!==e)throw Error(I(188))}function Ow(e){var t=e.alternate;if(!t){if(t=As(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return ef(r),e;if(o===s)return ef(r),t;o=o.sibling}throw Error(I(188))}if(n.return!==s.return)n=r,s=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=o;break}if(l===s){a=!0,s=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,s=r;break}if(l===s){a=!0,s=o,n=r;break}l=l.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function R0(e){return e=Ow(e),e!==null?M0(e):null}function M0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=M0(e);if(t!==null)return t;e=e.sibling}return null}var L0=gt.unstable_scheduleCallback,tf=gt.unstable_cancelCallback,Iw=gt.unstable_shouldYield,$w=gt.unstable_requestPaint,ke=gt.unstable_now,Fw=gt.unstable_getCurrentPriorityLevel,nd=gt.unstable_ImmediatePriority,O0=gt.unstable_UserBlockingPriority,la=gt.unstable_NormalPriority,Uw=gt.unstable_LowPriority,I0=gt.unstable_IdlePriority,Ua=null,tn=null;function Vw(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ua,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Ww,Bw=Math.log,zw=Math.LN2;function Ww(e){return e>>>=0,e===0?32:31-(Bw(e)/zw|0)|0}var yo=64,vo=4194304;function si(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ca(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?s=si(l):(o&=a,o!==0&&(s=si(o)))}else a=n&~r,a!==0?s=si(a):o!==0&&(s=si(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Bt(t),r=1<<n,s|=e[n],t&=~r;return s}function Hw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gw(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Bt(o),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=Hw(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Rc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $0(){var e=yo;return yo<<=1,!(yo&4194240)&&(yo=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function Xw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Bt(n),o=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~o}}function sd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Bt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var re=0;function F0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var U0,rd,V0,B0,z0,Mc=!1,wo=[],Hn=null,Gn=null,Xn=null,Ti=new Map,Ci=new Map,Un=[],Kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Wr(e,t,n,s,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[r]},t!==null&&(t=to(t),t!==null&&rd(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Qw(e,t,n,s,r){switch(t){case"focusin":return Hn=Wr(Hn,e,t,n,s,r),!0;case"dragenter":return Gn=Wr(Gn,e,t,n,s,r),!0;case"mouseover":return Xn=Wr(Xn,e,t,n,s,r),!0;case"pointerover":var o=r.pointerId;return Ti.set(o,Wr(Ti.get(o)||null,e,t,n,s,r)),!0;case"gotpointercapture":return o=r.pointerId,Ci.set(o,Wr(Ci.get(o)||null,e,t,n,s,r)),!0}return!1}function W0(e){var t=gs(e.target);if(t!==null){var n=As(t);if(n!==null){if(t=n.tag,t===13){if(t=A0(n),t!==null){e.blockedOn=t,z0(e.priority,function(){V0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ec=s,n.target.dispatchEvent(s),Ec=null}else return t=to(n),t!==null&&rd(t),e.blockedOn=n,!1;t.shift()}return!0}function sf(e,t,n){zo(e)&&n.delete(t)}function qw(){Mc=!1,Hn!==null&&zo(Hn)&&(Hn=null),Gn!==null&&zo(Gn)&&(Gn=null),Xn!==null&&zo(Xn)&&(Xn=null),Ti.forEach(sf),Ci.forEach(sf)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,Mc||(Mc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,qw)))}function Ei(e){function t(r){return Hr(r,e)}if(0<wo.length){Hr(wo[0],e);for(var n=1;n<wo.length;n++){var s=wo[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Hn!==null&&Hr(Hn,e),Gn!==null&&Hr(Gn,e),Xn!==null&&Hr(Xn,e),Ti.forEach(t),Ci.forEach(t),n=0;n<Un.length;n++)s=Un[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)W0(n),n.blockedOn===null&&Un.shift()}var ur=Tn.ReactCurrentBatchConfig,ua=!0;function Yw(e,t,n,s){var r=re,o=ur.transition;ur.transition=null;try{re=1,id(e,t,n,s)}finally{re=r,ur.transition=o}}function Jw(e,t,n,s){var r=re,o=ur.transition;ur.transition=null;try{re=4,id(e,t,n,s)}finally{re=r,ur.transition=o}}function id(e,t,n,s){if(ua){var r=Lc(e,t,n,s);if(r===null)Ml(e,t,s,da,n),nf(e,s);else if(Qw(r,e,t,n,s))s.stopPropagation();else if(nf(e,s),t&4&&-1<Kw.indexOf(e)){for(;r!==null;){var o=to(r);if(o!==null&&U0(o),o=Lc(e,t,n,s),o===null&&Ml(e,t,s,da,n),o===r)break;r=o}r!==null&&s.stopPropagation()}else Ml(e,t,s,null,n)}}var da=null;function Lc(e,t,n,s){if(da=null,e=td(s),e=gs(e),e!==null)if(t=As(e),t===null)e=null;else if(n=t.tag,n===13){if(e=A0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return da=e,null}function H0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fw()){case nd:return 1;case O0:return 4;case la:case Uw:return 16;case I0:return 536870912;default:return 16}default:return 16}}var zn=null,od=null,Wo=null;function G0(){if(Wo)return Wo;var e,t=od,n=t.length,s,r="value"in zn?zn.value:zn.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===r[o-s];s++);return Wo=r.slice(e,1<s?1-s:void 0)}function Ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function rf(){return!1}function yt(e){function t(n,s,r,o,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bo:rf,this.isPropagationStopped=rf,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ad=yt(Cr),eo=ye({},Cr,{view:0,detail:0}),Zw=yt(eo),Nl,_l,Gr,Va=ye({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(Nl=e.screenX-Gr.screenX,_l=e.screenY-Gr.screenY):_l=Nl=0,Gr=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),of=yt(Va),eb=ye({},Va,{dataTransfer:0}),tb=yt(eb),nb=ye({},eo,{relatedTarget:0}),Tl=yt(nb),sb=ye({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),rb=yt(sb),ib=ye({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ob=yt(ib),ab=ye({},Cr,{data:0}),af=yt(ab),lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ub={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function db(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ub[e])?!!t[e]:!1}function ld(){return db}var hb=ye({},eo,{key:function(e){if(e.key){var t=lb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fb=yt(hb),mb=ye({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=yt(mb),pb=ye({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),gb=yt(pb),xb=ye({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yb=yt(xb),vb=ye({},Va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wb=yt(vb),bb=[9,13,27,32],cd=wn&&"CompositionEvent"in window,ci=null;wn&&"documentMode"in document&&(ci=document.documentMode);var jb=wn&&"TextEvent"in window&&!ci,X0=wn&&(!cd||ci&&8<ci&&11>=ci),cf=String.fromCharCode(32),uf=!1;function K0(e,t){switch(e){case"keyup":return bb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function Sb(e,t){switch(e){case"compositionend":return Q0(t);case"keypress":return t.which!==32?null:(uf=!0,cf);case"textInput":return e=t.data,e===cf&&uf?null:e;default:return null}}function kb(e,t){if(Gs)return e==="compositionend"||!cd&&K0(e,t)?(e=G0(),Wo=od=zn=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X0&&t.locale!=="ko"?null:t.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nb[e.type]:t==="textarea"}function q0(e,t,n,s){T0(s),t=ha(t,"onChange"),0<t.length&&(n=new ad("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ui=null,Pi=null;function _b(e){ag(e,0)}function Ba(e){var t=Qs(e);if(w0(t))return e}function Tb(e,t){if(e==="change")return t}var Y0=!1;if(wn){var Cl;if(wn){var El="oninput"in document;if(!El){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),El=typeof hf.oninput=="function"}Cl=El}else Cl=!1;Y0=Cl&&(!document.documentMode||9<document.documentMode)}function ff(){ui&&(ui.detachEvent("onpropertychange",J0),Pi=ui=null)}function J0(e){if(e.propertyName==="value"&&Ba(Pi)){var t=[];q0(t,Pi,e,td(e)),D0(_b,t)}}function Cb(e,t,n){e==="focusin"?(ff(),ui=t,Pi=n,ui.attachEvent("onpropertychange",J0)):e==="focusout"&&ff()}function Eb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ba(Pi)}function Pb(e,t){if(e==="click")return Ba(t)}function Db(e,t){if(e==="input"||e==="change")return Ba(t)}function Ab(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:Ab;function Di(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!xc.call(t,r)||!Wt(e[r],t[r]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,t){var n=mf(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mf(n)}}function Z0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Z0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eg(){for(var e=window,t=ia();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ia(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rb(e){var t=eg(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Z0(n.ownerDocument.documentElement,n)){if(s!==null&&ud(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(s.start,r);s=s.end===void 0?o:Math.min(s.end,r),!e.extend&&o>s&&(r=s,s=o,o=r),r=pf(n,o);var a=pf(n,s);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mb=wn&&"documentMode"in document&&11>=document.documentMode,Xs=null,Oc=null,di=null,Ic=!1;function gf(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ic||Xs==null||Xs!==ia(s)||(s=Xs,"selectionStart"in s&&ud(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),di&&Di(di,s)||(di=s,s=ha(Oc,"onSelect"),0<s.length&&(t=new ad("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Xs)))}function jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ks={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},Pl={},tg={};wn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function za(e){if(Pl[e])return Pl[e];if(!Ks[e])return e;var t=Ks[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tg)return Pl[e]=t[n];return e}var ng=za("animationend"),sg=za("animationiteration"),rg=za("animationstart"),ig=za("transitionend"),og=new Map,xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(e,t){og.set(e,t),Ds(t,[e])}for(var Dl=0;Dl<xf.length;Dl++){var Al=xf[Dl],Lb=Al.toLowerCase(),Ob=Al[0].toUpperCase()+Al.slice(1);ss(Lb,"on"+Ob)}ss(ng,"onAnimationEnd");ss(sg,"onAnimationIteration");ss(rg,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(ig,"onTransitionEnd");mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function yf(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Lw(s,t,void 0,e),e.currentTarget=null}function ag(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&r.isPropagationStopped())break e;yf(r,l,u),o=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&r.isPropagationStopped())break e;yf(r,l,u),o=c}}}if(aa)throw e=Ac,aa=!1,Ac=null,e}function ce(e,t){var n=t[Bc];n===void 0&&(n=t[Bc]=new Set);var s=e+"__bubble";n.has(s)||(lg(t,e,2,!1),n.add(s))}function Rl(e,t,n){var s=0;t&&(s|=4),lg(n,e,s,t)}var So="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[So]){e[So]=!0,p0.forEach(function(n){n!=="selectionchange"&&(Ib.has(n)||Rl(n,!1,e),Rl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[So]||(t[So]=!0,Rl("selectionchange",!1,t))}}function lg(e,t,n,s){switch(H0(t)){case 1:var r=Yw;break;case 4:r=Jw;break;default:r=id}n=r.bind(null,t,n,e),r=void 0,!Dc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ml(e,t,n,s,r){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(c=a.tag,c===5||c===6){s=o=a;continue e}l=l.parentNode}}s=s.return}D0(function(){var u=o,d=td(n),h=[];e:{var f=og.get(e);if(f!==void 0){var m=ad,v=e;switch(e){case"keypress":if(Ho(n)===0)break e;case"keydown":case"keyup":m=fb;break;case"focusin":v="focus",m=Tl;break;case"focusout":v="blur",m=Tl;break;case"beforeblur":case"afterblur":m=Tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gb;break;case ng:case sg:case rg:m=rb;break;case ig:m=yb;break;case"scroll":m=Zw;break;case"wheel":m=wb;break;case"copy":case"cut":case"paste":m=ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lf}var b=(t&4)!==0,S=!b&&e==="scroll",x=b?f!==null?f+"Capture":null:f;b=[];for(var g=u,p;g!==null;){p=g;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,x!==null&&(w=_i(g,x),w!=null&&b.push(Ri(g,w,p)))),S)break;g=g.return}0<b.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Ec&&(v=n.relatedTarget||n.fromElement)&&(gs(v)||v[bn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?gs(v):null,v!==null&&(S=As(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(b=of,w="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=lf,w="onPointerLeave",x="onPointerEnter",g="pointer"),S=m==null?f:Qs(m),p=v==null?f:Qs(v),f=new b(w,g+"leave",m,n,d),f.target=S,f.relatedTarget=p,w=null,gs(d)===u&&(b=new b(x,g+"enter",v,n,d),b.target=p,b.relatedTarget=S,w=b),S=w,m&&v)t:{for(b=m,x=v,g=0,p=b;p;p=Os(p))g++;for(p=0,w=x;w;w=Os(w))p++;for(;0<g-p;)b=Os(b),g--;for(;0<p-g;)x=Os(x),p--;for(;g--;){if(b===x||x!==null&&b===x.alternate)break t;b=Os(b),x=Os(x)}b=null}else b=null;m!==null&&vf(h,f,m,b,!1),v!==null&&S!==null&&vf(h,S,v,b,!0)}}e:{if(f=u?Qs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=Tb;else if(df(f))if(Y0)N=Db;else{N=Eb;var j=Cb}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Pb);if(N&&(N=N(e,u))){q0(h,N,n,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&kc(f,"number",f.value)}switch(j=u?Qs(u):window,e){case"focusin":(df(j)||j.contentEditable==="true")&&(Xs=j,Oc=u,di=null);break;case"focusout":di=Oc=Xs=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,gf(h,n,d);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":gf(h,n,d)}var k;if(cd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Gs?K0(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(X0&&n.locale!=="ko"&&(Gs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Gs&&(k=G0()):(zn=d,od="value"in zn?zn.value:zn.textContent,Gs=!0)),j=ha(u,_),0<j.length&&(_=new af(_,e,null,n,d),h.push({event:_,listeners:j}),k?_.data=k:(k=Q0(n),k!==null&&(_.data=k)))),(k=jb?Sb(e,n):kb(e,n))&&(u=ha(u,"onBeforeInput"),0<u.length&&(d=new af("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}ag(h,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ha(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=_i(e,n),o!=null&&s.unshift(Ri(e,o,r)),o=_i(e,t),o!=null&&s.push(Ri(e,o,r))),e=e.return}return s}function Os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,t,n,s,r){for(var o=t._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=_i(n,o),c!=null&&a.unshift(Ri(n,c,l))):r||(c=_i(n,o),c!=null&&a.push(Ri(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var $b=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace($b,`
`).replace(Fb,"")}function ko(e,t,n){if(t=wf(t),wf(e)!==t&&n)throw Error(I(425))}function fa(){}var $c=null,Fc=null;function Uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vc=typeof setTimeout=="function"?setTimeout:void 0,Ub=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(e){return bf.resolve(null).then(e).catch(Bb)}:Vc;function Bb(e){setTimeout(function(){throw e})}function Ll(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),Ei(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Ei(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),en="__reactFiber$"+Er,Mi="__reactProps$"+Er,bn="__reactContainer$"+Er,Bc="__reactEvents$"+Er,zb="__reactListeners$"+Er,Wb="__reactHandles$"+Er;function gs(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jf(e);e!==null;){if(n=e[en])return n;e=jf(e)}return t}e=n,n=e.parentNode}return null}function to(e){return e=e[en]||e[bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Wa(e){return e[Mi]||null}var zc=[],qs=-1;function rs(e){return{current:e}}function ue(e){0>qs||(e.current=zc[qs],zc[qs]=null,qs--)}function le(e,t){qs++,zc[qs]=e.current,e.current=t}var es={},Ke=rs(es),at=rs(!1),Ns=es;function pr(e,t){var n=e.type.contextTypes;if(!n)return es;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function lt(e){return e=e.childContextTypes,e!=null}function ma(){ue(at),ue(Ke)}function Sf(e,t,n){if(Ke.current!==es)throw Error(I(168));le(Ke,t),le(at,n)}function cg(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(I(108,Cw(e)||"Unknown",r));return ye({},n,s)}function pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Ns=Ke.current,le(Ke,e),le(at,at.current),!0}function kf(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=cg(e,t,Ns),s.__reactInternalMemoizedMergedChildContext=e,ue(at),ue(Ke),le(Ke,e)):ue(at),le(at,n)}var pn=null,Ha=!1,Ol=!1;function ug(e){pn===null?pn=[e]:pn.push(e)}function Hb(e){Ha=!0,ug(e)}function is(){if(!Ol&&pn!==null){Ol=!0;var e=0,t=re;try{var n=pn;for(re=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}pn=null,Ha=!1}catch(r){throw pn!==null&&(pn=pn.slice(e+1)),L0(nd,is),r}finally{re=t,Ol=!1}}return null}var Ys=[],Js=0,ga=null,xa=0,St=[],kt=0,_s=null,gn=1,xn="";function ds(e,t){Ys[Js++]=xa,Ys[Js++]=ga,ga=e,xa=t}function dg(e,t,n){St[kt++]=gn,St[kt++]=xn,St[kt++]=_s,_s=e;var s=gn;e=xn;var r=32-Bt(s)-1;s&=~(1<<r),n+=1;var o=32-Bt(t)+r;if(30<o){var a=r-r%5;o=(s&(1<<a)-1).toString(32),s>>=a,r-=a,gn=1<<32-Bt(t)+r|n<<r|s,xn=o+e}else gn=1<<o|n<<r|s,xn=e}function dd(e){e.return!==null&&(ds(e,1),dg(e,1,0))}function hd(e){for(;e===ga;)ga=Ys[--Js],Ys[Js]=null,xa=Ys[--Js],Ys[Js]=null;for(;e===_s;)_s=St[--kt],St[kt]=null,xn=St[--kt],St[kt]=null,gn=St[--kt],St[kt]=null}var pt=null,ft=null,he=!1,Vt=null;function hg(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ft=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_s!==null?{id:gn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ft=null,!0):!1;default:return!1}}function Wc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hc(e){if(he){var t=ft;if(t){var n=t;if(!Nf(e,t)){if(Wc(e))throw Error(I(418));t=Kn(n.nextSibling);var s=pt;t&&Nf(e,t)?hg(s,n):(e.flags=e.flags&-4097|2,he=!1,pt=e)}}else{if(Wc(e))throw Error(I(418));e.flags=e.flags&-4097|2,he=!1,pt=e}}}function _f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function No(e){if(e!==pt)return!1;if(!he)return _f(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uc(e.type,e.memoizedProps)),t&&(t=ft)){if(Wc(e))throw fg(),Error(I(418));for(;t;)hg(e,t),t=Kn(t.nextSibling)}if(_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ft=Kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=pt?Kn(e.stateNode.nextSibling):null;return!0}function fg(){for(var e=ft;e;)e=Kn(e.nextSibling)}function gr(){ft=pt=null,he=!1}function fd(e){Vt===null?Vt=[e]:Vt.push(e)}var Gb=Tn.ReactCurrentBatchConfig;function Xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var r=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=r.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function _o(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tf(e){var t=e._init;return t(e._payload)}function mg(e){function t(x,g){if(e){var p=x.deletions;p===null?(x.deletions=[g],x.flags|=16):p.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function s(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function r(x,g){return x=Jn(x,g),x.index=0,x.sibling=null,x}function o(x,g,p){return x.index=p,e?(p=x.alternate,p!==null?(p=p.index,p<g?(x.flags|=2,g):p):(x.flags|=2,g)):(x.flags|=1048576,g)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,p,w){return g===null||g.tag!==6?(g=zl(p,x.mode,w),g.return=x,g):(g=r(g,p),g.return=x,g)}function c(x,g,p,w){var N=p.type;return N===Hs?d(x,g,p.props.children,w,p.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$n&&Tf(N)===g.type)?(w=r(g,p.props),w.ref=Xr(x,g,p),w.return=x,w):(w=Jo(p.type,p.key,p.props,null,x.mode,w),w.ref=Xr(x,g,p),w.return=x,w)}function u(x,g,p,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Wl(p,x.mode,w),g.return=x,g):(g=r(g,p.children||[]),g.return=x,g)}function d(x,g,p,w,N){return g===null||g.tag!==7?(g=js(p,x.mode,w,N),g.return=x,g):(g=r(g,p),g.return=x,g)}function h(x,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=zl(""+g,x.mode,p),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case po:return p=Jo(g.type,g.key,g.props,null,x.mode,p),p.ref=Xr(x,null,g),p.return=x,p;case Ws:return g=Wl(g,x.mode,p),g.return=x,g;case $n:var w=g._init;return h(x,w(g._payload),p)}if(ni(g)||Br(g))return g=js(g,x.mode,p,null),g.return=x,g;_o(x,g)}return null}function f(x,g,p,w){var N=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:l(x,g,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case po:return p.key===N?c(x,g,p,w):null;case Ws:return p.key===N?u(x,g,p,w):null;case $n:return N=p._init,f(x,g,N(p._payload),w)}if(ni(p)||Br(p))return N!==null?null:d(x,g,p,w,null);_o(x,p)}return null}function m(x,g,p,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(p)||null,l(g,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case po:return x=x.get(w.key===null?p:w.key)||null,c(g,x,w,N);case Ws:return x=x.get(w.key===null?p:w.key)||null,u(g,x,w,N);case $n:var j=w._init;return m(x,g,p,j(w._payload),N)}if(ni(w)||Br(w))return x=x.get(p)||null,d(g,x,w,N,null);_o(g,w)}return null}function v(x,g,p,w){for(var N=null,j=null,k=g,_=g=0,$=null;k!==null&&_<p.length;_++){k.index>_?($=k,k=null):$=k.sibling;var C=f(x,k,p[_],w);if(C===null){k===null&&(k=$);break}e&&k&&C.alternate===null&&t(x,k),g=o(C,g,_),j===null?N=C:j.sibling=C,j=C,k=$}if(_===p.length)return n(x,k),he&&ds(x,_),N;if(k===null){for(;_<p.length;_++)k=h(x,p[_],w),k!==null&&(g=o(k,g,_),j===null?N=k:j.sibling=k,j=k);return he&&ds(x,_),N}for(k=s(x,k);_<p.length;_++)$=m(k,x,_,p[_],w),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?_:$.key),g=o($,g,_),j===null?N=$:j.sibling=$,j=$);return e&&k.forEach(function(V){return t(x,V)}),he&&ds(x,_),N}function b(x,g,p,w){var N=Br(p);if(typeof N!="function")throw Error(I(150));if(p=N.call(p),p==null)throw Error(I(151));for(var j=N=null,k=g,_=g=0,$=null,C=p.next();k!==null&&!C.done;_++,C=p.next()){k.index>_?($=k,k=null):$=k.sibling;var V=f(x,k,C.value,w);if(V===null){k===null&&(k=$);break}e&&k&&V.alternate===null&&t(x,k),g=o(V,g,_),j===null?N=V:j.sibling=V,j=V,k=$}if(C.done)return n(x,k),he&&ds(x,_),N;if(k===null){for(;!C.done;_++,C=p.next())C=h(x,C.value,w),C!==null&&(g=o(C,g,_),j===null?N=C:j.sibling=C,j=C);return he&&ds(x,_),N}for(k=s(x,k);!C.done;_++,C=p.next())C=m(k,x,_,C.value,w),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?_:C.key),g=o(C,g,_),j===null?N=C:j.sibling=C,j=C);return e&&k.forEach(function(Z){return t(x,Z)}),he&&ds(x,_),N}function S(x,g,p,w){if(typeof p=="object"&&p!==null&&p.type===Hs&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case po:e:{for(var N=p.key,j=g;j!==null;){if(j.key===N){if(N=p.type,N===Hs){if(j.tag===7){n(x,j.sibling),g=r(j,p.props.children),g.return=x,x=g;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$n&&Tf(N)===j.type){n(x,j.sibling),g=r(j,p.props),g.ref=Xr(x,j,p),g.return=x,x=g;break e}n(x,j);break}else t(x,j);j=j.sibling}p.type===Hs?(g=js(p.props.children,x.mode,w,p.key),g.return=x,x=g):(w=Jo(p.type,p.key,p.props,null,x.mode,w),w.ref=Xr(x,g,p),w.return=x,x=w)}return a(x);case Ws:e:{for(j=p.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(x,g.sibling),g=r(g,p.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=Wl(p,x.mode,w),g.return=x,x=g}return a(x);case $n:return j=p._init,S(x,g,j(p._payload),w)}if(ni(p))return v(x,g,p,w);if(Br(p))return b(x,g,p,w);_o(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(x,g.sibling),g=r(g,p),g.return=x,x=g):(n(x,g),g=zl(p,x.mode,w),g.return=x,x=g),a(x)):n(x,g)}return S}var xr=mg(!0),pg=mg(!1),ya=rs(null),va=null,Zs=null,md=null;function pd(){md=Zs=va=null}function gd(e){var t=ya.current;ue(ya),e._currentValue=t}function Gc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function dr(e,t){va=e,md=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(md!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(va===null)throw Error(I(308));Zs=e,va.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var xs=null;function xd(e){xs===null?xs=[e]:xs.push(e)}function gg(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,xd(t)):(n.next=r.next,r.next=n),t.interleaved=n,jn(e,s)}function jn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fn=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ee&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,jn(e,n)}return r=s.interleaved,r===null?(t.next=t,xd(s)):(t.next=r.next,r.next=t),s.interleaved=t,jn(e,n)}function Go(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sd(e,n)}}function Cf(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wa(e,t,n,s){var r=e.updateQueue;Fn=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=r.baseState;a=0,d=u=c=null,l=o;do{var f=l.lane,m=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,b=l;switch(f=t,m=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=ye({},h,f);break e;case 2:Fn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);Cs|=a,e.lanes=a,e.memoizedState=h}}function Ef(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(I(191,r));r.call(s)}}}var no={},nn=rs(no),Li=rs(no),Oi=rs(no);function ys(e){if(e===no)throw Error(I(174));return e}function vd(e,t){switch(le(Oi,t),le(Li,e),le(nn,no),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_c(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_c(t,e)}ue(nn),le(nn,t)}function yr(){ue(nn),ue(Li),ue(Oi)}function yg(e){ys(Oi.current);var t=ys(nn.current),n=_c(t,e.type);t!==n&&(le(Li,e),le(nn,n))}function wd(e){Li.current===e&&(ue(nn),ue(Li))}var pe=rs(0);function ba(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Il=[];function bd(){for(var e=0;e<Il.length;e++)Il[e]._workInProgressVersionPrimary=null;Il.length=0}var Xo=Tn.ReactCurrentDispatcher,$l=Tn.ReactCurrentBatchConfig,Ts=0,xe=null,De=null,Oe=null,ja=!1,hi=!1,Ii=0,Xb=0;function ze(){throw Error(I(321))}function jd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Sd(e,t,n,s,r,o){if(Ts=o,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=e===null||e.memoizedState===null?Yb:Jb,e=n(s,r),hi){o=0;do{if(hi=!1,Ii=0,25<=o)throw Error(I(301));o+=1,Oe=De=null,t.updateQueue=null,Xo.current=Zb,e=n(s,r)}while(hi)}if(Xo.current=Sa,t=De!==null&&De.next!==null,Ts=0,Oe=De=xe=null,ja=!1,t)throw Error(I(300));return e}function kd(){var e=Ii!==0;return Ii=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?xe.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function At(){if(De===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Oe===null?xe.memoizedState:Oe.next;if(t!==null)Oe=t,De=e;else{if(e===null)throw Error(I(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Oe===null?xe.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function $i(e,t){return typeof t=="function"?t(e):t}function Fl(e){var t=At(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=De,r=s.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}s.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,s=s.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Ts&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=s):c=c.next=h,xe.lanes|=d,Cs|=d}u=u.next}while(u!==null&&u!==o);c===null?a=s:c.next=l,Wt(s,t.memoizedState)||(it=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do o=r.lane,xe.lanes|=o,Cs|=o,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ul(e){var t=At(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=e(o,a.action),a=a.next;while(a!==r);Wt(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function vg(){}function wg(e,t){var n=xe,s=At(),r=t(),o=!Wt(s.memoizedState,r);if(o&&(s.memoizedState=r,it=!0),s=s.queue,Nd(Sg.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Fi(9,jg.bind(null,n,s,r,t),void 0,null),$e===null)throw Error(I(349));Ts&30||bg(n,t,r)}return r}function bg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jg(e,t,n,s){t.value=n,t.getSnapshot=s,kg(t)&&Ng(e)}function Sg(e,t,n){return n(function(){kg(t)&&Ng(e)})}function kg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function Ng(e){var t=jn(e,1);t!==null&&zt(t,e,1,-1)}function Pf(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t.queue=e,e=e.dispatch=qb.bind(null,xe,e),[t.memoizedState,e]}function Fi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function _g(){return At().memoizedState}function Ko(e,t,n,s){var r=Jt();xe.flags|=e,r.memoizedState=Fi(1|t,n,void 0,s===void 0?null:s)}function Ga(e,t,n,s){var r=At();s=s===void 0?null:s;var o=void 0;if(De!==null){var a=De.memoizedState;if(o=a.destroy,s!==null&&jd(s,a.deps)){r.memoizedState=Fi(t,n,o,s);return}}xe.flags|=e,r.memoizedState=Fi(1|t,n,o,s)}function Df(e,t){return Ko(8390656,8,e,t)}function Nd(e,t){return Ga(2048,8,e,t)}function Tg(e,t){return Ga(4,2,e,t)}function Cg(e,t){return Ga(4,4,e,t)}function Eg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pg(e,t,n){return n=n!=null?n.concat([e]):null,Ga(4,4,Eg.bind(null,t,e),n)}function _d(){}function Dg(e,t){var n=At();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&jd(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ag(e,t){var n=At();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&jd(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Rg(e,t,n){return Ts&21?(Wt(n,t)||(n=$0(),xe.lanes|=n,Cs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function Kb(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var s=$l.transition;$l.transition={};try{e(!1),t()}finally{re=n,$l.transition=s}}function Mg(){return At().memoizedState}function Qb(e,t,n){var s=Yn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Lg(e))Og(t,n);else if(n=gg(e,t,n,s),n!==null){var r=et();zt(n,e,s,r),Ig(n,t,s)}}function qb(e,t,n){var s=Yn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lg(e))Og(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(r.hasEagerState=!0,r.eagerState=l,Wt(l,a)){var c=t.interleaved;c===null?(r.next=r,xd(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=gg(e,t,r,s),n!==null&&(r=et(),zt(n,e,s,r),Ig(n,t,s))}}function Lg(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Og(e,t){hi=ja=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ig(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sd(e,n)}}var Sa={readContext:Dt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Yb={readContext:Dt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Df,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ko(4194308,4,Eg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ko(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Jt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Qb.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Pf,useDebugValue:_d,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Pf(!1),t=e[0];return e=Kb.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=xe,r=Jt();if(he){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),$e===null)throw Error(I(349));Ts&30||bg(s,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Df(Sg.bind(null,s,o,e),[e]),s.flags|=2048,Fi(9,jg.bind(null,s,o,n,t),void 0,null),n},useId:function(){var e=Jt(),t=$e.identifierPrefix;if(he){var n=xn,s=gn;n=(s&~(1<<32-Bt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ii++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jb={readContext:Dt,useCallback:Dg,useContext:Dt,useEffect:Nd,useImperativeHandle:Pg,useInsertionEffect:Tg,useLayoutEffect:Cg,useMemo:Ag,useReducer:Fl,useRef:_g,useState:function(){return Fl($i)},useDebugValue:_d,useDeferredValue:function(e){var t=At();return Rg(t,De.memoizedState,e)},useTransition:function(){var e=Fl($i)[0],t=At().memoizedState;return[e,t]},useMutableSource:vg,useSyncExternalStore:wg,useId:Mg,unstable_isNewReconciler:!1},Zb={readContext:Dt,useCallback:Dg,useContext:Dt,useEffect:Nd,useImperativeHandle:Pg,useInsertionEffect:Tg,useLayoutEffect:Cg,useMemo:Ag,useReducer:Ul,useRef:_g,useState:function(){return Ul($i)},useDebugValue:_d,useDeferredValue:function(e){var t=At();return De===null?t.memoizedState=e:Rg(t,De.memoizedState,e)},useTransition:function(){var e=Ul($i)[0],t=At().memoizedState;return[e,t]},useMutableSource:vg,useSyncExternalStore:wg,useId:Mg,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xa={isMounted:function(e){return(e=e._reactInternals)?As(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=et(),r=Yn(e),o=yn(s,r);o.payload=t,n!=null&&(o.callback=n),t=Qn(e,o,r),t!==null&&(zt(t,e,r,s),Go(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=et(),r=Yn(e),o=yn(s,r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Qn(e,o,r),t!==null&&(zt(t,e,r,s),Go(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),s=Yn(e),r=yn(n,s);r.tag=2,t!=null&&(r.callback=t),t=Qn(e,r,s),t!==null&&(zt(t,e,s,n),Go(t,e,s))}};function Af(e,t,n,s,r,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,a):t.prototype&&t.prototype.isPureReactComponent?!Di(n,s)||!Di(r,o):!0}function $g(e,t,n){var s=!1,r=es,o=t.contextType;return typeof o=="object"&&o!==null?o=Dt(o):(r=lt(t)?Ns:Ke.current,s=t.contextTypes,o=(s=s!=null)?pr(e,r):es),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Rf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Xa.enqueueReplaceState(t,t.state,null)}function Kc(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},yd(e);var o=t.contextType;typeof o=="object"&&o!==null?r.context=Dt(o):(o=lt(t)?Ns:Ke.current,r.context=pr(e,o)),r.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Xc(e,t,o,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Xa.enqueueReplaceState(r,r.state,null),wa(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function vr(e,t){try{var n="",s=t;do n+=Tw(s),s=s.return;while(s);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:r,digest:null}}function Vl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var e1=typeof WeakMap=="function"?WeakMap:Map;function Fg(e,t,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Na||(Na=!0,iu=s),Qc(e,t)},n}function Ug(e,t,n){n=yn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){Qc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qc(e,t),typeof s!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Mf(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new e1;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=m1.bind(null,e,t,n),t.then(e,e))}function Lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Of(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var t1=Tn.ReactCurrentOwner,it=!1;function Ye(e,t,n,s){t.child=e===null?pg(t,null,n,s):xr(t,e.child,n,s)}function If(e,t,n,s,r){n=n.render;var o=t.ref;return dr(t,r),s=Sd(e,t,n,s,o,r),n=kd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Sn(e,t,r)):(he&&n&&dd(t),t.flags|=1,Ye(e,t,s,r),t.child)}function $f(e,t,n,s,r){if(e===null){var o=n.type;return typeof o=="function"&&!Md(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Vg(e,t,o,s,r)):(e=Jo(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Di,n(a,s)&&e.ref===t.ref)return Sn(e,t,r)}return t.flags|=1,e=Jn(o,s),e.ref=t.ref,e.return=t,t.child=e}function Vg(e,t,n,s,r){if(e!==null){var o=e.memoizedProps;if(Di(o,s)&&e.ref===t.ref)if(it=!1,t.pendingProps=s=o,(e.lanes&r)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,Sn(e,t,r)}return qc(e,t,n,s,r)}function Bg(e,t,n){var s=t.pendingProps,r=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(tr,ht),ht|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(tr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,le(tr,ht),ht|=s}else o!==null?(s=o.baseLanes|n,t.memoizedState=null):s=n,le(tr,ht),ht|=s;return Ye(e,t,r,n),t.child}function zg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qc(e,t,n,s,r){var o=lt(n)?Ns:Ke.current;return o=pr(t,o),dr(t,r),n=Sd(e,t,n,s,o,r),s=kd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Sn(e,t,r)):(he&&s&&dd(t),t.flags|=1,Ye(e,t,n,r),t.child)}function Ff(e,t,n,s,r){if(lt(n)){var o=!0;pa(t)}else o=!1;if(dr(t,r),t.stateNode===null)Qo(e,t),$g(t,n,s),Kc(t,n,s,r),s=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=lt(n)?Ns:Ke.current,u=pr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Rf(t,a,s,u),Fn=!1;var f=t.memoizedState;a.state=f,wa(t,s,a,r),c=t.memoizedState,l!==s||f!==c||at.current||Fn?(typeof d=="function"&&(Xc(t,n,d,s),c=t.memoizedState),(l=Fn||Af(t,n,l,s,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=u,s=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,xg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$t(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Dt(c):(c=lt(n)?Ns:Ke.current,c=pr(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Rf(t,a,s,c),Fn=!1,f=t.memoizedState,a.state=f,wa(t,s,a,r);var v=t.memoizedState;l!==h||f!==v||at.current||Fn?(typeof m=="function"&&(Xc(t,n,m,s),v=t.memoizedState),(u=Fn||Af(t,n,u,s,f,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),a.props=s,a.state=v,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return Yc(e,t,n,s,o,r)}function Yc(e,t,n,s,r,o){zg(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return r&&kf(t,n,!1),Sn(e,t,o);s=t.stateNode,t1.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=xr(t,e.child,null,o),t.child=xr(t,null,l,o)):Ye(e,t,l,o),t.memoizedState=s.state,r&&kf(t,n,!0),t.child}function Wg(e){var t=e.stateNode;t.pendingContext?Sf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sf(e,t.context,!1),vd(e,t.containerInfo)}function Uf(e,t,n,s,r){return gr(),fd(r),t.flags|=256,Ye(e,t,n,s),t.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Zc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hg(e,t,n){var s=t.pendingProps,r=pe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),le(pe,r&1),e===null)return Hc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=qa(a,s,0,null),e=js(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zc(n),t.memoizedState=Jc,e):Td(t,a));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return n1(e,t,a,s,l,r,n);if(o){o=s.fallback,a=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Jn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=Jn(l,o):(o=js(o,a,n,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,a=e.child.memoizedState,a=a===null?Zc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Jc,s}return o=e.child,e=o.sibling,s=Jn(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Td(e,t){return t=qa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function To(e,t,n,s){return s!==null&&fd(s),xr(t,e.child,null,n),e=Td(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function n1(e,t,n,s,r,o,a){if(n)return t.flags&256?(t.flags&=-257,s=Vl(Error(I(422))),To(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,r=t.mode,s=qa({mode:"visible",children:s.children},r,0,null),o=js(o,r,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&xr(t,e.child,null,a),t.child.memoizedState=Zc(a),t.memoizedState=Jc,o);if(!(t.mode&1))return To(e,t,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(I(419)),s=Vl(o,s,void 0),To(e,t,a,s)}if(l=(a&e.childLanes)!==0,it||l){if(s=$e,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,jn(e,r),zt(s,e,r,-1))}return Rd(),s=Vl(Error(I(421))),To(e,t,a,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=p1.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ft=Kn(r.nextSibling),pt=t,he=!0,Vt=null,e!==null&&(St[kt++]=gn,St[kt++]=xn,St[kt++]=_s,gn=e.id,xn=e.overflow,_s=t),t=Td(t,s.children),t.flags|=4096,t)}function Vf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Gc(e.return,t,n)}function Bl(e,t,n,s,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=r)}function Gg(e,t,n){var s=t.pendingProps,r=s.revealOrder,o=s.tail;if(Ye(e,t,s.children,n),s=pe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,n,t);else if(e.tag===19)Vf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(le(pe,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ba(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Bl(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ba(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Bl(t,!0,n,null,o);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function s1(e,t,n){switch(t.tag){case 3:Wg(t),gr();break;case 5:yg(t);break;case 1:lt(t.type)&&pa(t);break;case 4:vd(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;le(ya,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(le(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Hg(e,t,n):(le(pe,pe.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);le(pe,pe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Gg(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(pe,pe.current),s)break;return null;case 22:case 23:return t.lanes=0,Bg(e,t,n)}return Sn(e,t,n)}var Xg,eu,Kg,Qg;Xg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eu=function(){};Kg=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,ys(nn.current);var o=null;switch(n){case"input":r=jc(e,r),s=jc(e,s),o=[];break;case"select":r=ye({},r,{value:void 0}),s=ye({},s,{value:void 0}),o=[];break;case"textarea":r=Nc(e,r),s=Nc(e,s),o=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=fa)}Tc(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ki.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ki.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Qg=function(e,t,n,s){n!==s&&(t.flags|=4)};function Kr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function r1(e,t,n){var s=t.pendingProps;switch(hd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return lt(t.type)&&ma(),We(t),null;case 3:return s=t.stateNode,yr(),ue(at),ue(Ke),bd(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(No(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(lu(Vt),Vt=null))),eu(e,t),We(t),null;case 5:wd(t);var r=ys(Oi.current);if(n=t.type,e!==null&&t.stateNode!=null)Kg(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return We(t),null}if(e=ys(nn.current),No(t)){s=t.stateNode,n=t.type;var o=t.memoizedProps;switch(s[en]=t,s[Mi]=o,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(r=0;r<ri.length;r++)ce(ri[r],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":Qh(s,o),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},ce("invalid",s);break;case"textarea":Yh(s,o),ce("invalid",s)}Tc(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&ko(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ko(s.textContent,l,e),r=["children",""+l]):ki.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ce("scroll",s)}switch(n){case"input":go(s),qh(s,o,!0);break;case"textarea":go(s),Jh(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=fa)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[en]=t,e[Mi]=s,Xg(e,t,!1,!1),t.stateNode=e;e:{switch(a=Cc(n,s),n){case"dialog":ce("cancel",e),ce("close",e),r=s;break;case"iframe":case"object":case"embed":ce("load",e),r=s;break;case"video":case"audio":for(r=0;r<ri.length;r++)ce(ri[r],e);r=s;break;case"source":ce("error",e),r=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),r=s;break;case"details":ce("toggle",e),r=s;break;case"input":Qh(e,s),r=jc(e,s),ce("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=ye({},s,{value:void 0}),ce("invalid",e);break;case"textarea":Yh(e,s),r=Nc(e,s),ce("invalid",e);break;default:r=s}Tc(n,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?_0(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k0(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ni(e,c):typeof c=="number"&&Ni(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ki.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ce("scroll",e):c!=null&&Yu(e,o,c,a))}switch(n){case"input":go(e),qh(e,s,!1);break;case"textarea":go(e),Jh(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Zn(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?ar(e,!!s.multiple,o,!1):s.defaultValue!=null&&ar(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=fa)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Qg(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=ys(Oi.current),ys(nn.current),No(t)){if(s=t.stateNode,n=t.memoizedProps,s[en]=t,(o=s.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:ko(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ko(s.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[en]=t,t.stateNode=s}return We(t),null;case 13:if(ue(pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&ft!==null&&t.mode&1&&!(t.flags&128))fg(),gr(),t.flags|=98560,o=!1;else if(o=No(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(I(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(I(317));o[en]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),o=!1}else Vt!==null&&(lu(Vt),Vt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Re===0&&(Re=3):Rd())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return yr(),eu(e,t),e===null&&Ai(t.stateNode.containerInfo),We(t),null;case 10:return gd(t.type._context),We(t),null;case 17:return lt(t.type)&&ma(),We(t),null;case 19:if(ue(pe),o=t.memoizedState,o===null)return We(t),null;if(s=(t.flags&128)!==0,a=o.rendering,a===null)if(s)Kr(o,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ba(e),a!==null){for(t.flags|=128,Kr(o,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)o=n,e=s,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(pe,pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&ke()>wr&&(t.flags|=128,s=!0,Kr(o,!1),t.lanes=4194304)}else{if(!s)if(e=ba(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Kr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!he)return We(t),null}else 2*ke()-o.renderingStartTime>wr&&n!==1073741824&&(t.flags|=128,s=!0,Kr(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ke(),t.sibling=null,n=pe.current,le(pe,s?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Ad(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ht&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function i1(e,t){switch(hd(t),t.tag){case 1:return lt(t.type)&&ma(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),ue(at),ue(Ke),bd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wd(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return yr(),null;case 10:return gd(t.type._context),null;case 22:case 23:return Ad(),null;case 24:return null;default:return null}}var Co=!1,Ge=!1,o1=typeof WeakSet=="function"?WeakSet:Set,B=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){be(e,t,s)}else n.current=null}function tu(e,t,n){try{n()}catch(s){be(e,t,s)}}var Bf=!1;function a1(e,t){if($c=ua,e=eg(),ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==o||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===r&&(l=a),f===o&&++d===s&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fc={focusedElem:e,selectionRange:n},ua=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,S=v.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:$t(t.type,b),S);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){be(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return v=Bf,Bf=!1,v}function fi(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,o!==void 0&&tu(t,n,o)}r=r.next}while(r!==s)}}function Ka(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qg(e){var t=e.alternate;t!==null&&(e.alternate=null,qg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Mi],delete t[Bc],delete t[zb],delete t[Wb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yg(e){return e.tag===5||e.tag===3||e.tag===4}function zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function su(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fa));else if(s!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}function ru(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}var Fe=null,Ft=!1;function An(e,t,n){for(n=n.child;n!==null;)Jg(e,t,n),n=n.sibling}function Jg(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ua,n)}catch{}switch(n.tag){case 5:Ge||er(n,t);case 6:var s=Fe,r=Ft;Fe=null,An(e,t,n),Fe=s,Ft=r,Fe!==null&&(Ft?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Ft?(e=Fe,n=n.stateNode,e.nodeType===8?Ll(e.parentNode,n):e.nodeType===1&&Ll(e,n),Ei(e)):Ll(Fe,n.stateNode));break;case 4:s=Fe,r=Ft,Fe=n.stateNode.containerInfo,Ft=!0,An(e,t,n),Fe=s,Ft=r;break;case 0:case 11:case 14:case 15:if(!Ge&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&tu(n,t,a),r=r.next}while(r!==s)}An(e,t,n);break;case 1:if(!Ge&&(er(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){be(n,t,l)}An(e,t,n);break;case 21:An(e,t,n);break;case 22:n.mode&1?(Ge=(s=Ge)||n.memoizedState!==null,An(e,t,n),Ge=s):An(e,t,n);break;default:An(e,t,n)}}function Wf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o1),t.forEach(function(s){var r=g1.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Fe=l.stateNode,Ft=!1;break e;case 3:Fe=l.stateNode.containerInfo,Ft=!0;break e;case 4:Fe=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if(Fe===null)throw Error(I(160));Jg(o,a,r),Fe=null,Ft=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){be(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zg(t,e),t=t.sibling}function Zg(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Yt(e),s&4){try{fi(3,e,e.return),Ka(3,e)}catch(b){be(e,e.return,b)}try{fi(5,e,e.return)}catch(b){be(e,e.return,b)}}break;case 1:Lt(t,e),Yt(e),s&512&&n!==null&&er(n,n.return);break;case 5:if(Lt(t,e),Yt(e),s&512&&n!==null&&er(n,n.return),e.flags&32){var r=e.stateNode;try{Ni(r,"")}catch(b){be(e,e.return,b)}}if(s&4&&(r=e.stateNode,r!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&b0(r,o),Cc(l,a);var u=Cc(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?_0(r,h):d==="dangerouslySetInnerHTML"?k0(r,h):d==="children"?Ni(r,h):Yu(r,d,h,u)}switch(l){case"input":Sc(r,o);break;case"textarea":j0(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ar(r,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?ar(r,!!o.multiple,o.defaultValue,!0):ar(r,!!o.multiple,o.multiple?[]:"",!1))}r[Mi]=o}catch(b){be(e,e.return,b)}}break;case 6:if(Lt(t,e),Yt(e),s&4){if(e.stateNode===null)throw Error(I(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(b){be(e,e.return,b)}}break;case 3:if(Lt(t,e),Yt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ei(t.containerInfo)}catch(b){be(e,e.return,b)}break;case 4:Lt(t,e),Yt(e);break;case 13:Lt(t,e),Yt(e),r=e.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Pd=ke())),s&4&&Wf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||d,Lt(t,e),Ge=u):Lt(t,e),Yt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(h=B=d;B!==null;){switch(f=B,m=f.child,f.tag){case 0:case 11:case 14:case 15:fi(4,f,f.return);break;case 1:er(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){be(s,n,b)}}break;case 5:er(f,f.return);break;case 22:if(f.memoizedState!==null){Gf(h);continue}}m!==null?(m.return=f,B=m):Gf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=N0("display",a))}catch(b){be(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){be(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lt(t,e),Yt(e),s&4&&Wf(e);break;case 21:break;default:Lt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yg(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Ni(r,""),s.flags&=-33);var o=zf(e);ru(e,o,r);break;case 3:case 4:var a=s.stateNode.containerInfo,l=zf(e);su(e,l,a);break;default:throw Error(I(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l1(e,t,n){B=e,ex(e)}function ex(e,t,n){for(var s=(e.mode&1)!==0;B!==null;){var r=B,o=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||Co;if(!a){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ge;l=Co;var u=Ge;if(Co=a,(Ge=c)&&!u)for(B=r;B!==null;)a=B,c=a.child,a.tag===22&&a.memoizedState!==null?Xf(r):c!==null?(c.return=a,B=c):Xf(r);for(;o!==null;)B=o,ex(o),o=o.sibling;B=r,Co=l,Ge=u}Hf(e)}else r.subtreeFlags&8772&&o!==null?(o.return=r,B=o):Hf(e)}}function Hf(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Ka(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ge)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:$t(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ef(t,o,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ef(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ei(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ge||t.flags&512&&nu(t)}catch(f){be(t,t.return,f)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Gf(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Xf(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ka(4,t)}catch(c){be(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){be(t,r,c)}}var o=t.return;try{nu(t)}catch(c){be(t,o,c)}break;case 5:var a=t.return;try{nu(t)}catch(c){be(t,a,c)}}}catch(c){be(t,t.return,c)}if(t===e){B=null;break}var l=t.sibling;if(l!==null){l.return=t.return,B=l;break}B=t.return}}var c1=Math.ceil,ka=Tn.ReactCurrentDispatcher,Cd=Tn.ReactCurrentOwner,_t=Tn.ReactCurrentBatchConfig,ee=0,$e=null,_e=null,Ve=0,ht=0,tr=rs(0),Re=0,Ui=null,Cs=0,Qa=0,Ed=0,mi=null,st=null,Pd=0,wr=1/0,fn=null,Na=!1,iu=null,qn=null,Eo=!1,Wn=null,_a=0,pi=0,ou=null,qo=-1,Yo=0;function et(){return ee&6?ke():qo!==-1?qo:qo=ke()}function Yn(e){return e.mode&1?ee&2&&Ve!==0?Ve&-Ve:Gb.transition!==null?(Yo===0&&(Yo=$0()),Yo):(e=re,e!==0||(e=window.event,e=e===void 0?16:H0(e.type)),e):1}function zt(e,t,n,s){if(50<pi)throw pi=0,ou=null,Error(I(185));Zi(e,n,s),(!(ee&2)||e!==$e)&&(e===$e&&(!(ee&2)&&(Qa|=n),Re===4&&Vn(e,Ve)),ct(e,s),n===1&&ee===0&&!(t.mode&1)&&(wr=ke()+500,Ha&&is()))}function ct(e,t){var n=e.callbackNode;Gw(e,t);var s=ca(e,e===$e?Ve:0);if(s===0)n!==null&&tf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&tf(n),t===1)e.tag===0?Hb(Kf.bind(null,e)):ug(Kf.bind(null,e)),Vb(function(){!(ee&6)&&is()}),n=null;else{switch(F0(s)){case 1:n=nd;break;case 4:n=O0;break;case 16:n=la;break;case 536870912:n=I0;break;default:n=la}n=lx(n,tx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tx(e,t){if(qo=-1,Yo=0,ee&6)throw Error(I(327));var n=e.callbackNode;if(hr()&&e.callbackNode!==n)return null;var s=ca(e,e===$e?Ve:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ta(e,s);else{t=s;var r=ee;ee|=2;var o=sx();($e!==e||Ve!==t)&&(fn=null,wr=ke()+500,bs(e,t));do try{h1();break}catch(l){nx(e,l)}while(1);pd(),ka.current=o,ee=r,_e!==null?t=0:($e=null,Ve=0,t=Re)}if(t!==0){if(t===2&&(r=Rc(e),r!==0&&(s=r,t=au(e,r))),t===1)throw n=Ui,bs(e,0),Vn(e,s),ct(e,ke()),n;if(t===6)Vn(e,s);else{if(r=e.current.alternate,!(s&30)&&!u1(r)&&(t=Ta(e,s),t===2&&(o=Rc(e),o!==0&&(s=o,t=au(e,o))),t===1))throw n=Ui,bs(e,0),Vn(e,s),ct(e,ke()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:hs(e,st,fn);break;case 3:if(Vn(e,s),(s&130023424)===s&&(t=Pd+500-ke(),10<t)){if(ca(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){et(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Vc(hs.bind(null,e,st,fn),t);break}hs(e,st,fn);break;case 4:if(Vn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var a=31-Bt(s);o=1<<a,a=t[a],a>r&&(r=a),s&=~o}if(s=r,s=ke()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*c1(s/1960))-s,10<s){e.timeoutHandle=Vc(hs.bind(null,e,st,fn),s);break}hs(e,st,fn);break;case 5:hs(e,st,fn);break;default:throw Error(I(329))}}}return ct(e,ke()),e.callbackNode===n?tx.bind(null,e):null}function au(e,t){var n=mi;return e.current.memoizedState.isDehydrated&&(bs(e,t).flags|=256),e=Ta(e,t),e!==2&&(t=st,st=n,t!==null&&lu(t)),e}function lu(e){st===null?st=e:st.push.apply(st,e)}function u1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],o=r.getSnapshot;r=r.value;try{if(!Wt(o(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t){for(t&=~Ed,t&=~Qa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),s=1<<n;e[n]=-1,t&=~s}}function Kf(e){if(ee&6)throw Error(I(327));hr();var t=ca(e,0);if(!(t&1))return ct(e,ke()),null;var n=Ta(e,t);if(e.tag!==0&&n===2){var s=Rc(e);s!==0&&(t=s,n=au(e,s))}if(n===1)throw n=Ui,bs(e,0),Vn(e,t),ct(e,ke()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,st,fn),ct(e,ke()),null}function Dd(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(wr=ke()+500,Ha&&is())}}function Es(e){Wn!==null&&Wn.tag===0&&!(ee&6)&&hr();var t=ee;ee|=1;var n=_t.transition,s=re;try{if(_t.transition=null,re=1,e)return e()}finally{re=s,_t.transition=n,ee=t,!(ee&6)&&is()}}function Ad(){ht=tr.current,ue(tr)}function bs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ub(n)),_e!==null)for(n=_e.return;n!==null;){var s=n;switch(hd(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ma();break;case 3:yr(),ue(at),ue(Ke),bd();break;case 5:wd(s);break;case 4:yr();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:gd(s.type._context);break;case 22:case 23:Ad()}n=n.return}if($e=e,_e=e=Jn(e.current,null),Ve=ht=t,Re=0,Ui=null,Ed=Qa=Cs=0,st=mi=null,xs!==null){for(t=0;t<xs.length;t++)if(n=xs[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,s.next=a}n.pending=s}xs=null}return e}function nx(e,t){do{var n=_e;try{if(pd(),Xo.current=Sa,ja){for(var s=xe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ja=!1}if(Ts=0,Oe=De=xe=null,hi=!1,Ii=0,Cd.current=null,n===null||n.return===null){Re=1,Ui=t,_e=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ve,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Lf(a);if(m!==null){m.flags&=-257,Of(m,a,l,o,t),m.mode&1&&Mf(o,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(c),t.updateQueue=b}else v.add(c);break e}else{if(!(t&1)){Mf(o,u,t),Rd();break e}c=Error(I(426))}}else if(he&&l.mode&1){var S=Lf(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Of(S,a,l,o,t),fd(vr(c,l));break e}}o=c=vr(c,l),Re!==4&&(Re=2),mi===null?mi=[o]:mi.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=Fg(o,c,t);Cf(o,x);break e;case 1:l=c;var g=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(qn===null||!qn.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Ug(o,l,t);Cf(o,w);break e}}o=o.return}while(o!==null)}ix(n)}catch(N){t=N,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(1)}function sx(){var e=ka.current;return ka.current=Sa,e===null?Sa:e}function Rd(){(Re===0||Re===3||Re===2)&&(Re=4),$e===null||!(Cs&268435455)&&!(Qa&268435455)||Vn($e,Ve)}function Ta(e,t){var n=ee;ee|=2;var s=sx();($e!==e||Ve!==t)&&(fn=null,bs(e,t));do try{d1();break}catch(r){nx(e,r)}while(1);if(pd(),ee=n,ka.current=s,_e!==null)throw Error(I(261));return $e=null,Ve=0,Re}function d1(){for(;_e!==null;)rx(_e)}function h1(){for(;_e!==null&&!Iw();)rx(_e)}function rx(e){var t=ax(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?ix(e):_e=t,Cd.current=null}function ix(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=i1(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,_e=null;return}}else if(n=r1(n,t,ht),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Re===0&&(Re=5)}function hs(e,t,n){var s=re,r=_t.transition;try{_t.transition=null,re=1,f1(e,t,n,s)}finally{_t.transition=r,re=s}return null}function f1(e,t,n,s){do hr();while(Wn!==null);if(ee&6)throw Error(I(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Xw(e,o),e===$e&&(_e=$e=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eo||(Eo=!0,lx(la,function(){return hr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_t.transition,_t.transition=null;var a=re;re=1;var l=ee;ee|=4,Cd.current=null,a1(e,n),Zg(n,e),Rb(Fc),ua=!!$c,Fc=$c=null,e.current=n,l1(n),$w(),ee=l,re=a,_t.transition=o}else e.current=n;if(Eo&&(Eo=!1,Wn=e,_a=r),o=e.pendingLanes,o===0&&(qn=null),Vw(n.stateNode),ct(e,ke()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Na)throw Na=!1,e=iu,iu=null,e;return _a&1&&e.tag!==0&&hr(),o=e.pendingLanes,o&1?e===ou?pi++:(pi=0,ou=e):pi=0,is(),null}function hr(){if(Wn!==null){var e=F0(_a),t=_t.transition,n=re;try{if(_t.transition=null,re=16>e?16:e,Wn===null)var s=!1;else{if(e=Wn,Wn=null,_a=0,ee&6)throw Error(I(331));var r=ee;for(ee|=4,B=e.current;B!==null;){var o=B,a=o.child;if(B.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:fi(8,d,o)}var h=d.child;if(h!==null)h.return=d,B=h;else for(;B!==null;){d=B;var f=d.sibling,m=d.return;if(qg(d),d===u){B=null;break}if(f!==null){f.return=m,B=f;break}B=m}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}B=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,B=a;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fi(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,B=x;break e}B=o.return}}var g=e.current;for(B=g;B!==null;){a=B;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,B=p;else e:for(a=g;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ka(9,l)}}catch(N){be(l,l.return,N)}if(l===a){B=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,B=w;break e}B=l.return}}if(ee=r,is(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ua,e)}catch{}s=!0}return s}finally{re=n,_t.transition=t}}return!1}function Qf(e,t,n){t=vr(n,t),t=Fg(e,t,1),e=Qn(e,t,1),t=et(),e!==null&&(Zi(e,1,t),ct(e,t))}function be(e,t,n){if(e.tag===3)Qf(e,e,n);else for(;t!==null;){if(t.tag===3){Qf(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){e=vr(n,e),e=Ug(t,e,1),t=Qn(t,e,1),e=et(),t!==null&&(Zi(t,1,e),ct(t,e));break}}t=t.return}}function m1(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ve&n)===n&&(Re===4||Re===3&&(Ve&130023424)===Ve&&500>ke()-Pd?bs(e,0):Ed|=n),ct(e,t)}function ox(e,t){t===0&&(e.mode&1?(t=vo,vo<<=1,!(vo&130023424)&&(vo=4194304)):t=1);var n=et();e=jn(e,t),e!==null&&(Zi(e,t,n),ct(e,n))}function p1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ox(e,n)}function g1(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),ox(e,n)}var ax;ax=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,s1(e,t,n);it=!!(e.flags&131072)}else it=!1,he&&t.flags&1048576&&dg(t,xa,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Qo(e,t),e=t.pendingProps;var r=pr(t,Ke.current);dr(t,n),r=Sd(null,t,s,e,r,n);var o=kd();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(s)?(o=!0,pa(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,yd(t),r.updater=Xa,t.stateNode=r,r._reactInternals=t,Kc(t,s,e,n),t=Yc(null,t,s,!0,o,n)):(t.tag=0,he&&o&&dd(t),Ye(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=y1(s),e=$t(s,e),r){case 0:t=qc(null,t,s,e,n);break e;case 1:t=Ff(null,t,s,e,n);break e;case 11:t=If(null,t,s,e,n);break e;case 14:t=$f(null,t,s,$t(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:$t(s,r),qc(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:$t(s,r),Ff(e,t,s,r,n);case 3:e:{if(Wg(t),e===null)throw Error(I(387));s=t.pendingProps,o=t.memoizedState,r=o.element,xg(e,t),wa(t,s,null,n);var a=t.memoizedState;if(s=a.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=vr(Error(I(423)),t),t=Uf(e,t,s,n,r);break e}else if(s!==r){r=vr(Error(I(424)),t),t=Uf(e,t,s,n,r);break e}else for(ft=Kn(t.stateNode.containerInfo.firstChild),pt=t,he=!0,Vt=null,n=pg(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),s===r){t=Sn(e,t,n);break e}Ye(e,t,s,n)}t=t.child}return t;case 5:return yg(t),e===null&&Hc(t),s=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,a=r.children,Uc(s,r)?a=null:o!==null&&Uc(s,o)&&(t.flags|=32),zg(e,t),Ye(e,t,a,n),t.child;case 6:return e===null&&Hc(t),null;case 13:return Hg(e,t,n);case 4:return vd(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=xr(t,null,s,n):Ye(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:$t(s,r),If(e,t,s,r,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,le(ya,s._currentValue),s._currentValue=a,o!==null)if(Wt(o.value,a)){if(o.children===r.children&&!at.current){t=Sn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=yn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Gc(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(I(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Gc(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ye(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,dr(t,n),r=Dt(r),s=s(r),t.flags|=1,Ye(e,t,s,n),t.child;case 14:return s=t.type,r=$t(s,t.pendingProps),r=$t(s.type,r),$f(e,t,s,r,n);case 15:return Vg(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:$t(s,r),Qo(e,t),t.tag=1,lt(s)?(e=!0,pa(t)):e=!1,dr(t,n),$g(t,s,r),Kc(t,s,r,n),Yc(null,t,s,!0,e,n);case 19:return Gg(e,t,n);case 22:return Bg(e,t,n)}throw Error(I(156,t.tag))};function lx(e,t){return L0(e,t)}function x1(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,s){return new x1(e,t,n,s)}function Md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y1(e){if(typeof e=="function")return Md(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zu)return 11;if(e===ed)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jo(e,t,n,s,r,o){var a=2;if(s=e,typeof e=="function")Md(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Hs:return js(n.children,r,o,t);case Ju:a=8,r|=8;break;case yc:return e=Nt(12,n,t,r|2),e.elementType=yc,e.lanes=o,e;case vc:return e=Nt(13,n,t,r),e.elementType=vc,e.lanes=o,e;case wc:return e=Nt(19,n,t,r),e.elementType=wc,e.lanes=o,e;case y0:return qa(n,r,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g0:a=10;break e;case x0:a=9;break e;case Zu:a=11;break e;case ed:a=14;break e;case $n:a=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Nt(a,n,t,r),t.elementType=e,t.type=s,t.lanes=o,t}function js(e,t,n,s){return e=Nt(7,e,s,t),e.lanes=n,e}function qa(e,t,n,s){return e=Nt(22,e,s,t),e.elementType=y0,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Wl(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v1(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ld(e,t,n,s,r,o,a,l,c){return e=new v1(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(o),e}function w1(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function cx(e){if(!e)return es;e=e._reactInternals;e:{if(As(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(lt(n))return cg(e,n,t)}return t}function ux(e,t,n,s,r,o,a,l,c){return e=Ld(n,s,!0,e,r,o,a,l,c),e.context=cx(null),n=e.current,s=et(),r=Yn(n),o=yn(s,r),o.callback=t??null,Qn(n,o,r),e.current.lanes=r,Zi(e,r,s),ct(e,s),e}function Ya(e,t,n,s){var r=t.current,o=et(),a=Yn(r);return n=cx(n),t.context===null?t.context=n:t.pendingContext=n,t=yn(o,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Qn(r,t,a),e!==null&&(zt(e,r,a,o),Go(e,r,a)),a}function Ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Od(e,t){qf(e,t),(e=e.alternate)&&qf(e,t)}function b1(){return null}var dx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Id(e){this._internalRoot=e}Ja.prototype.render=Id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ya(e,t,null,null)};Ja.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Es(function(){Ya(null,e,null,null)}),t[bn]=null}};function Ja(e){this._internalRoot=e}Ja.prototype.unstable_scheduleHydration=function(e){if(e){var t=B0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Un.length&&t!==0&&t<Un[n].priority;n++);Un.splice(n,0,e),n===0&&W0(e)}};function $d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function j1(e,t,n,s,r){if(r){if(typeof s=="function"){var o=s;s=function(){var u=Ca(a);o.call(u)}}var a=ux(t,s,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=a,e[bn]=a.current,Ai(e.nodeType===8?e.parentNode:e),Es(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=Ca(c);l.call(u)}}var c=Ld(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=c,e[bn]=c.current,Ai(e.nodeType===8?e.parentNode:e),Es(function(){Ya(t,c,n,s)}),c}function el(e,t,n,s,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var l=r;r=function(){var c=Ca(a);l.call(c)}}Ya(t,a,e,r)}else a=j1(n,t,e,r,s);return Ca(a)}U0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=si(t.pendingLanes);n!==0&&(sd(t,n|1),ct(t,ke()),!(ee&6)&&(wr=ke()+500,is()))}break;case 13:Es(function(){var s=jn(e,1);if(s!==null){var r=et();zt(s,e,1,r)}}),Od(e,1)}};rd=function(e){if(e.tag===13){var t=jn(e,134217728);if(t!==null){var n=et();zt(t,e,134217728,n)}Od(e,134217728)}};V0=function(e){if(e.tag===13){var t=Yn(e),n=jn(e,t);if(n!==null){var s=et();zt(n,e,t,s)}Od(e,t)}};B0=function(){return re};z0=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Pc=function(e,t,n){switch(t){case"input":if(Sc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=Wa(s);if(!r)throw Error(I(90));w0(s),Sc(s,r)}}}break;case"textarea":j0(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};E0=Dd;P0=Es;var S1={usingClientEntryPoint:!1,Events:[to,Qs,Wa,T0,C0,Dd]},Qr={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k1={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R0(e),e===null?null:e.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance||b1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Ua=Po.inject(k1),tn=Po}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S1;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(t))throw Error(I(200));return w1(e,t,null,n)};xt.createRoot=function(e,t){if(!$d(e))throw Error(I(299));var n=!1,s="",r=dx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ld(e,1,!1,null,null,n,!1,s,r),e[bn]=t.current,Ai(e.nodeType===8?e.parentNode:e),new Id(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=R0(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Es(e)};xt.hydrate=function(e,t,n){if(!Za(t))throw Error(I(200));return el(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!$d(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,r=!1,o="",a=dx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ux(t,null,e,1,n??null,r,!1,o,a),e[bn]=t.current,Ai(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ja(t)};xt.render=function(e,t,n){if(!Za(t))throw Error(I(200));return el(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!Za(e))throw Error(I(40));return e._reactRootContainer?(Es(function(){el(null,null,e,!1,function(){e._reactRootContainer=null,e[bn]=null})}),!0):!1};xt.unstable_batchedUpdates=Dd;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Za(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return el(e,t,n,!1,s)};xt.version="18.3.1-next-f1338f8080-20240426";function hx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hx)}catch(e){console.error(e)}}hx(),h0.exports=xt;var N1=h0.exports,Jf=N1;gc.createRoot=Jf.createRoot,gc.hydrateRoot=Jf.hydrateRoot;const _1="modulepreload",T1=function(e){return"/"+e},Zf={},Pr=function(t,n,s){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=T1(o),o in Zf)return;Zf[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===o&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":_1,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.parse=M1;Fd.serialize=L1;const C1=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,E1=/^[\u0021-\u003A\u003C-\u007E]*$/,P1=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,D1=/^[\u0020-\u003A\u003D-\u007E]*$/,A1=Object.prototype.toString,R1=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function M1(e,t){const n=new R1,s=e.length;if(s<2)return n;const r=(t==null?void 0:t.decode)||O1;let o=0;do{const a=e.indexOf("=",o);if(a===-1)break;const l=e.indexOf(";",o),c=l===-1?s:l;if(a>c){o=e.lastIndexOf(";",a-1)+1;continue}const u=em(e,o,a),d=tm(e,a,u),h=e.slice(u,d);if(n[h]===void 0){let f=em(e,a+1,c),m=tm(e,c,f);const v=r(e.slice(f,m));n[h]=v}o=c+1}while(o<s);return n}function em(e,t,n){do{const s=e.charCodeAt(t);if(s!==32&&s!==9)return t}while(++t<n);return n}function tm(e,t,n){for(;t>n;){const s=e.charCodeAt(--t);if(s!==32&&s!==9)return t+1}return n}function L1(e,t,n){const s=(n==null?void 0:n.encode)||encodeURIComponent;if(!C1.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=s(t);if(!E1.test(r))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+r;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!P1.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!D1.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!I1(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function O1(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function I1(e){return A1.call(e)==="[object Date]"}var nm="popstate";function $1(e={}){function t(s,r){let{pathname:o,search:a,hash:l}=s.location;return cu("",{pathname:o,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Vi(r)}return U1(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ht(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function F1(){return Math.random().toString(36).substring(2,10)}function sm(e,t){return{usr:e.state,key:e.key,idx:t}}function cu(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dr(t):t,state:n,key:t&&t.key||s||F1()}}function Vi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function U1(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,a=r.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let S=d(),x=S==null?null:S-u;u=S,c&&c({action:l,location:b.location,delta:x})}function f(S,x){l="PUSH";let g=cu(b.location,S,x);n&&n(g,S),u=d()+1;let p=sm(g,u),w=b.createHref(g);try{a.pushState(p,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(w)}o&&c&&c({action:l,location:b.location,delta:1})}function m(S,x){l="REPLACE";let g=cu(b.location,S,x);n&&n(g,S),u=d();let p=sm(g,u),w=b.createHref(g);a.replaceState(p,"",w),o&&c&&c({action:l,location:b.location,delta:0})}function v(S){return V1(S)}let b={get action(){return l},get location(){return e(r,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(nm,h),c=S,()=>{r.removeEventListener(nm,h),c=null}},createHref(S){return t(r,S)},createURL:v,encodeLocation(S){let x=v(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(S){return a.go(S)}};return b}function V1(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),me(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Vi(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function fx(e,t,n="/"){return B1(e,t,n,!1)}function B1(e,t,n,s){let r=typeof t=="string"?Dr(t):t,o=kn(r.pathname||"/",n);if(o==null)return null;let a=mx(e);z1(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=ej(o);l=J1(a[c],u,s)}return l}function mx(e,t=[],n=[],s=""){let r=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(me(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let u=vn([s,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(me(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),mx(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:q1(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))r(o,a);else for(let c of px(o.path))r(o,a,c)}),t}function px(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let a=px(s.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),r&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function z1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Y1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var W1=/^:[\w-]+$/,H1=3,G1=2,X1=1,K1=10,Q1=-2,rm=e=>e==="*";function q1(e,t){let n=e.split("/"),s=n.length;return n.some(rm)&&(s+=Q1),t&&(s+=G1),n.filter(r=>!rm(r)).reduce((r,o)=>r+(W1.test(o)?H1:o===""?X1:K1),s)}function Y1(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function J1(e,t,n=!1){let{routesMeta:s}=e,r={},o="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=Ea({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=Ea({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:vn([o,h.pathname]),pathnameBase:rj(vn([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=vn([o,h.pathnameBase]))}return a}function Ea(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Z1(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let v=l[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function Z1(e,t=!1,n=!0){Ht(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function ej(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ht(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function kn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function tj(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Dr(e):e;return{pathname:n?n.startsWith("/")?n:nj(n,t):t,search:ij(s),hash:oj(r)}}function nj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Hl(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ud(e){let t=sj(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Vd(e,t,n,s=!1){let r;typeof e=="string"?r=Dr(e):(r={...e},me(!r.pathname||!r.pathname.includes("?"),Hl("?","pathname","search",r)),me(!r.pathname||!r.pathname.includes("#"),Hl("#","pathname","hash",r)),me(!r.search||!r.search.includes("#"),Hl("#","search","hash",r)));let o=e===""||r.pathname==="",a=o?"/":r.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!s&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=tj(r,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var vn=e=>e.join("/").replace(/\/\/+/g,"/"),rj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ij=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var gx=["POST","PUT","PATCH","DELETE"];new Set(gx);var lj=["GET",...gx];new Set(lj);var Ar=y.createContext(null);Ar.displayName="DataRouter";var tl=y.createContext(null);tl.displayName="DataRouterState";var xx=y.createContext({isTransitioning:!1});xx.displayName="ViewTransition";var cj=y.createContext(new Map);cj.displayName="Fetchers";var uj=y.createContext(null);uj.displayName="Await";var Kt=y.createContext(null);Kt.displayName="Navigation";var so=y.createContext(null);so.displayName="Location";var cn=y.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var Bd=y.createContext(null);Bd.displayName="RouteError";function dj(e,{relative:t}={}){me(Rr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=y.useContext(Kt),{hash:r,pathname:o,search:a}=ro(e,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:vn([n,o])),s.createHref({pathname:l,search:a,hash:r})}function Rr(){return y.useContext(so)!=null}function un(){return me(Rr(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(so).location}var yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vx(e){y.useContext(Kt).static||y.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=y.useContext(cn);return e?kj():hj()}function hj(){me(Rr(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Ar),{basename:t,navigator:n}=y.useContext(Kt),{matches:s}=y.useContext(cn),{pathname:r}=un(),o=JSON.stringify(Ud(s)),a=y.useRef(!1);return vx(()=>{a.current=!0}),y.useCallback((c,u={})=>{if(Ht(a.current,yx),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Vd(c,JSON.parse(o),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:vn([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,r,e])}y.createContext(null);function ro(e,{relative:t}={}){let{matches:n}=y.useContext(cn),{pathname:s}=un(),r=JSON.stringify(Ud(n));return y.useMemo(()=>Vd(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function fj(e,t){return wx(e,t)}function wx(e,t,n,s){var x;me(Rr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=y.useContext(Kt),{matches:o}=y.useContext(cn),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let g=d&&d.path||"";bx(c,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=un(),f;if(t){let g=typeof t=="string"?Dr(t):t;me(u==="/"||((x=g.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),f=g}else f=h;let m=f.pathname||"/",v=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=fx(e,{pathname:v});Ht(d||b!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ht(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=yj(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:vn([u,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:vn([u,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,s);return t&&S?y.createElement(so.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},S):S}function mj(){let e=Sj(),t=aj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:o},"ErrorBoundary")," or"," ",y.createElement("code",{style:o},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:r},n):null,a)}var pj=y.createElement(mj,null),gj=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(cn.Provider,{value:this.props.routeContext},y.createElement(Bd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xj({routeContext:e,match:t,children:n}){let s=y.useContext(Ar);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(cn.Provider,{value:e},n)}function yj(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,o=n==null?void 0:n.errors;if(o!=null){let c=r.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);me(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){a=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let h,f=!1,m=null,v=null;n&&(h=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||pj,a&&(l<0&&d===0?(bx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):l===d&&(f=!0,v=u.route.hydrateFallbackElement||null)));let b=t.concat(r.slice(0,d+1)),S=()=>{let x;return h?x=m:f?x=v:u.route.Component?x=y.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,y.createElement(xj,{match:u,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?y.createElement(gj,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function zd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vj(e){let t=y.useContext(Ar);return me(t,zd(e)),t}function wj(e){let t=y.useContext(tl);return me(t,zd(e)),t}function bj(e){let t=y.useContext(cn);return me(t,zd(e)),t}function Wd(e){let t=bj(e),n=t.matches[t.matches.length-1];return me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function jj(){return Wd("useRouteId")}function Sj(){var s;let e=y.useContext(Bd),t=wj("useRouteError"),n=Wd("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function kj(){let{router:e}=vj("useNavigate"),t=Wd("useNavigate"),n=y.useRef(!1);return vx(()=>{n.current=!0}),y.useCallback(async(r,o={})=>{Ht(n.current,yx),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))},[e,t])}var im={};function bx(e,t,n){!t&&!im[e]&&(im[e]=!0,Ht(!1,n))}y.memo(Nj);function Nj({routes:e,future:t,state:n}){return wx(e,void 0,n,t)}function _j({to:e,replace:t,state:n,relative:s}){me(Rr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=y.useContext(Kt);Ht(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=y.useContext(cn),{pathname:a}=un(),l=Qt(),c=Vd(e,Ud(o),a,s==="path"),u=JSON.stringify(c);return y.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:s})},[l,u,s,t,n]),null}function bt(e){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tj({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:o=!1}){me(!Rr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:a,navigator:r,static:o,future:{}}),[a,r,o]);typeof n=="string"&&(n=Dr(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=y.useMemo(()=>{let v=kn(c,a);return v==null?null:{location:{pathname:v,search:u,hash:d,state:h,key:f},navigationType:s}},[a,c,u,d,h,f,s]);return Ht(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(Kt.Provider,{value:l},y.createElement(so.Provider,{children:t,value:m}))}function Cj({children:e,location:t}){return fj(uu(e),t)}function uu(e,t=[]){let n=[];return y.Children.forEach(e,(s,r)=>{if(!y.isValidElement(s))return;let o=[...t,r];if(s.type===y.Fragment){n.push.apply(n,uu(s.props.children,o));return}me(s.type===bt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=uu(s.props.children,o)),n.push(a)}),n}var Zo="get",ea="application/x-www-form-urlencoded";function nl(e){return e!=null&&typeof e.tagName=="string"}function Ej(e){return nl(e)&&e.tagName.toLowerCase()==="button"}function Pj(e){return nl(e)&&e.tagName.toLowerCase()==="form"}function Dj(e){return nl(e)&&e.tagName.toLowerCase()==="input"}function Aj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rj(e,t){return e.button===0&&(!t||t==="_self")&&!Aj(e)}var Do=null;function Mj(){if(Do===null)try{new FormData(document.createElement("form"),0),Do=!1}catch{Do=!0}return Do}var Lj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gl(e){return e!=null&&!Lj.has(e)?(Ht(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ea}"`),null):e}function Oj(e,t){let n,s,r,o,a;if(Pj(e)){let l=e.getAttribute("action");s=l?kn(l,t):null,n=e.getAttribute("method")||Zo,r=Gl(e.getAttribute("enctype"))||ea,o=new FormData(e)}else if(Ej(e)||Dj(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?kn(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Zo,r=Gl(e.getAttribute("formenctype"))||Gl(l.getAttribute("enctype"))||ea,o=new FormData(l,e),!Mj()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,h)}}else{if(nl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zo,s=null,r=ea,a=e}return o&&r==="text/plain"&&(a=o,o=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:o,body:a}}function Hd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Ij(e,t){if(e.id in t)return t[e.id];try{let n=await Pr(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $j(e){return e!=null&&typeof e.page=="string"}function Fj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Uj(e,t,n){let s=await Promise.all(e.map(async r=>{let o=t.routes[r.route.id];if(o){let a=await Ij(o,n);return a.links?a.links():[]}return[]}));return Wj(s.flat(1).filter(Fj).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function om(e,t,n,s,r,o){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):o==="data"?t.filter((c,u)=>{var h;let d=s.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Vj(e,t,{includeHydrateFallback:n}={}){return Bj(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function Bj(e){return[...new Set(e)]}function zj(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function Wj(e,t){let n=new Set,s=new Set(t);return e.reduce((r,o)=>{if(t&&!$j(o)&&o.as==="script"&&o.href&&s.has(o.href))return r;let l=JSON.stringify(zj(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hj=new Set([100,101,204,205]);function Gj(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&kn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function jx(){let e=y.useContext(Ar);return Hd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xj(){let e=y.useContext(tl);return Hd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gd=y.createContext(void 0);Gd.displayName="FrameworkContext";function Sx(){let e=y.useContext(Gd);return Hd(e,"You must render this element inside a <HydratedRouter> element"),e}function Kj(e,t){let n=y.useContext(Gd),[s,r]=y.useState(!1),[o,a]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=y.useRef(null);y.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let b=x=>{x.forEach(g=>{a(g.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[e]),y.useEffect(()=>{if(s){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[s]);let m=()=>{r(!0)},v=()=>{r(!1),a(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:qr(l,m),onBlur:qr(c,v),onMouseEnter:qr(u,m),onMouseLeave:qr(d,v),onTouchStart:qr(h,m)}]:[!1,f,{}]}function qr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Qj({page:e,...t}){let{router:n}=jx(),s=y.useMemo(()=>fx(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?y.createElement(Yj,{page:e,matches:s,...t}):null}function qj(e){let{manifest:t,routeModules:n}=Sx(),[s,r]=y.useState([]);return y.useEffect(()=>{let o=!1;return Uj(e,t,n).then(a=>{o||r(a)}),()=>{o=!0}},[e,t,n]),s}function Yj({page:e,matches:t,...n}){let s=un(),{manifest:r,routeModules:o}=Sx(),{basename:a}=jx(),{loaderData:l,matches:c}=Xj(),u=y.useMemo(()=>om(e,t,c,r,s,"data"),[e,t,c,r,s]),d=y.useMemo(()=>om(e,t,c,r,s,"assets"),[e,t,c,r,s]),h=y.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let v=new Set,b=!1;if(t.forEach(x=>{var p;let g=r.routes[x.route.id];!g||!g.hasLoader||(!u.some(w=>w.route.id===x.route.id)&&x.route.id in l&&((p=o[x.route.id])!=null&&p.shouldRevalidate)||g.hasClientLoader?b=!0:v.add(x.route.id))}),v.size===0)return[];let S=Gj(e,a);return b&&v.size>0&&S.searchParams.set("_routes",t.filter(x=>v.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[a,l,s,r,u,t,e,o]),f=y.useMemo(()=>Vj(d,r),[d,r]),m=qj(d);return y.createElement(y.Fragment,null,h.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),f.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:b})=>y.createElement("link",{key:v,...b})))}function Jj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kx&&(window.__reactRouterVersion="7.6.3")}catch{}function Zj({basename:e,children:t,window:n}){let s=y.useRef();s.current==null&&(s.current=$1({window:n,v5Compat:!0}));let r=s.current,[o,a]=y.useState({action:r.action,location:r.location}),l=y.useCallback(c=>{y.startTransition(()=>a(c))},[a]);return y.useLayoutEffect(()=>r.listen(l),[r,l]),y.createElement(Tj,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}var Nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=y.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:v}=y.useContext(Kt),b=typeof u=="string"&&Nx.test(u),S,x=!1;if(typeof u=="string"&&b&&(S=u,kx))try{let $=new URL(window.location.href),C=u.startsWith("//")?new URL($.protocol+u):new URL(u),V=kn(C.pathname,v);C.origin===$.origin&&V!=null?u=V+C.search+C.hash:x=!0}catch{Ht(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=dj(u,{relative:r}),[p,w,N]=Kj(s,f),j=sS(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function k($){t&&t($),$.defaultPrevented||j($)}let _=y.createElement("a",{...f,...N,href:S||g,onClick:x||o?t:k,ref:Jj(m,w),target:c,"data-discover":!b&&n==="render"?"true":void 0});return p&&!b?y.createElement(y.Fragment,null,_,y.createElement(Qj,{page:g})):_});Ae.displayName="Link";var eS=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:o,to:a,viewTransition:l,children:c,...u},d){let h=ro(a,{relative:u.relative}),f=un(),m=y.useContext(tl),{navigator:v,basename:b}=y.useContext(Kt),S=m!=null&&lS(h)&&l===!0,x=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,g=f.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(g=g.toLowerCase(),p=p?p.toLowerCase():null,x=x.toLowerCase()),p&&b&&(p=kn(p,b)||p);const w=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let N=g===x||!r&&g.startsWith(x)&&g.charAt(w)==="/",j=p!=null&&(p===x||!r&&p.startsWith(x)&&p.charAt(x.length)==="/"),k={isActive:N,isPending:j,isTransitioning:S},_=N?t:void 0,$;typeof s=="function"?$=s(k):$=[s,N?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(k):o;return y.createElement(Ae,{...u,"aria-current":_,className:$,ref:d,style:C,to:a,viewTransition:l},typeof c=="function"?c(k):c)});eS.displayName="NavLink";var tS=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:o,method:a=Zo,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let v=oS(),b=aS(l,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&Nx.test(l),g=p=>{if(c&&c(p),p.defaultPrevented)return;p.preventDefault();let w=p.nativeEvent.submitter,N=(w==null?void 0:w.getAttribute("formmethod"))||a;v(w||p.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:r,state:o,relative:u,preventScrollReset:d,viewTransition:h})};return y.createElement("form",{ref:m,method:S,action:b,onSubmit:s?c:g,...f,"data-discover":!x&&e==="render"?"true":void 0})});tS.displayName="Form";function nS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _x(e){let t=y.useContext(Ar);return me(t,nS(e)),t}function sS(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:o,viewTransition:a}={}){let l=Qt(),c=un(),u=ro(e,{relative:o});return y.useCallback(d=>{if(Rj(d,t)){d.preventDefault();let h=n!==void 0?n:Vi(c)===Vi(u);l(e,{replace:h,state:s,preventScrollReset:r,relative:o,viewTransition:a})}},[c,l,u,n,s,t,e,r,o,a])}var rS=0,iS=()=>`__${String(++rS)}__`;function oS(){let{router:e}=_x("useSubmit"),{basename:t}=y.useContext(Kt),n=jj();return y.useCallback(async(s,r={})=>{let{action:o,method:a,encType:l,formData:c,body:u}=Oj(s,t);if(r.navigate===!1){let d=r.fetcherKey||iS();await e.fetch(d,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function aS(e,{relative:t}={}){let{basename:n}=y.useContext(Kt),s=y.useContext(cn);me(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...ro(e||".",{relative:t})},a=un();if(e==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:vn([n,o.pathname])),Vi(o)}function lS(e,t={}){let n=y.useContext(xx);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_x("useViewTransitionState"),r=ro(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=kn(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=kn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ea(r.pathname,a)!=null||Ea(r.pathname,o)!=null}[...Hj];const cS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Pr(()=>Promise.resolve().then(()=>Mr),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Xd extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class uS extends Xd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class am extends Xd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lm extends Xd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var du;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(du||(du={}));var dS=globalThis&&globalThis.__awaiter||function(e,t,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class hS{constructor(t,{headers:n={},customFetch:s,region:r=du.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=cS(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return dS(this,void 0,void 0,function*(){try{const{headers:r,method:o,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:d}).catch(b=>{throw new uS(b)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new am(h);if(!h.ok)throw new lm(h);let m=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield h.json():m==="application/octet-stream"?v=yield h.blob():m==="text/event-stream"?v=h:m==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(r){return{data:null,error:r,response:r instanceof lm||r instanceof am?r.context:void 0}}})}}var rt={},Kd={},sl={},io={},rl={},il={},fS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},br=fS();const mS=br.fetch,Tx=br.fetch.bind(br),Cx=br.Headers,pS=br.Request,gS=br.Response,Mr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cx,Request:pS,Response:gS,default:Tx,fetch:mS},Symbol.toStringTag,{value:"Module"})),xS=Jv(Mr);var ol={};Object.defineProperty(ol,"__esModule",{value:!0});let yS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ol.default=yS;var Ex=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(il,"__esModule",{value:!0});const vS=Ex(xS),wS=Ex(ol);let bS=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,d=null,h=null,f=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const b=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),S=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await o.text();try{u=JSON.parse(b),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,m="OK")}catch{o.status===404&&b===""?(f=204,m="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new wS.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(r=r.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}returns(){return this}overrideTypes(){return this}};il.default=bS;var jS=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rl,"__esModule",{value:!0});const SS=jS(il);let kS=class extends SS.default{select(t){let n=!1;const s=(t??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:r=s}={}){const o=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rl.default=kS;var NS=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(io,"__esModule",{value:!0});const _S=NS(rl);let TS=class extends _S.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};io.default=TS;var CS=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sl,"__esModule",{value:!0});const Yr=CS(io);let ES=class{constructor(t,{headers:n={},schema:s,fetch:r}){this.url=t,this.headers=n,this.schema=s,this.fetch=r}select(t,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),s&&(this.headers.Prefer=`count=${s}`),new Yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new Yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Yr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sl.default=ES;var al={},ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.version=void 0;ll.version="0.0.0-automated";Object.defineProperty(al,"__esModule",{value:!0});al.DEFAULT_HEADERS=void 0;const PS=ll;al.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${PS.version}`};var Px=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kd,"__esModule",{value:!0});const DS=Px(sl),AS=Px(io),RS=al;let MS=class Dx{constructor(t,{headers:n={},schema:s,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},RS.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=r}from(t){const n=new URL(`${this.url}/${t}`);return new DS.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:r=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;s||r?(a=s?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new AS.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Kd.default=MS;var Lr=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const Ax=Lr(Kd);rt.PostgrestClient=Ax.default;const Rx=Lr(sl);rt.PostgrestQueryBuilder=Rx.default;const Mx=Lr(io);rt.PostgrestFilterBuilder=Mx.default;const Lx=Lr(rl);rt.PostgrestTransformBuilder=Lx.default;const Ox=Lr(il);rt.PostgrestBuilder=Ox.default;const Ix=Lr(ol);rt.PostgrestError=Ix.default;var LS=rt.default={PostgrestClient:Ax.default,PostgrestQueryBuilder:Rx.default,PostgrestFilterBuilder:Mx.default,PostgrestTransformBuilder:Lx.default,PostgrestBuilder:Ox.default,PostgrestError:Ix.default};const{PostgrestClient:OS,PostgrestQueryBuilder:CP,PostgrestFilterBuilder:EP,PostgrestTransformBuilder:PP,PostgrestBuilder:DP,PostgrestError:AP}=LS;class IS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $S="2.15.1",FS=`realtime-js/${$S}`,US="1.0.0",hu=1e4,VS=1e3,BS=100;var gi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(gi||(gi={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var Ut;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ut||(Ut={}));var fu;(function(e){e.websocket="websocket"})(fu||(fu={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class zS{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const r=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=s.decode(t.slice(a,a+r));a=a+r;const c=s.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(s.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let $x=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const cm=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((o,a)=>(o[a]=WS(a,e,t,r),o),{})},WS=(e,t,n,s)=>{const r=t.find(l=>l.name===e),o=r==null?void 0:r.type,a=n[e];return o&&!s.includes(o)?Fx(o,a):mu(a)},Fx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return KS(t,n)}switch(e){case ae.bool:return HS(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return GS(t);case ae.json:case ae.jsonb:return XS(t);case ae.timestamp:return QS(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return mu(t);default:return mu(t)}},mu=e=>e,HS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},KS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>Fx(t,l))}return e},QS=e=>typeof e=="string"?e.replace(" ","T"):e,Ux=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xl{constructor(t,n,s={},r=hu){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var um;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(um||(um={}));class xi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xi.syncState(this.state,r,o,a),this.pendingDiffs.forEach(c=>{this.state=xi.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=xi.syncDiff(this.state,r,o,a),l())}),this.onJoin((r,o,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:a})}),this.onLeave((r,o,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const o=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=o[u];if(h){const f=d.map(S=>S.presence_ref),m=h.map(S=>S.presence_ref),v=d.filter(S=>m.indexOf(S.presence_ref)<0),b=h.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(l[u]=v),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},s,r)}static syncDiff(t,n,s,r){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}s(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,r(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dm||(dm={}));var yi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yi||(yi={}));var mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mn||(mn={}));class Qd{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xl(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new $x(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new xi(this),this.broadcastEndpointURL=Ux(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[yi.PRESENCE]&&this.bindings[yi.PRESENCE].length>0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(mn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(mn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){t==null||t(mn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,S=[];for(let x=0;x<b;x++){const g=v[x],{filter:{event:p,schema:w,table:N,filter:j}}=g,k=f&&f[x];if(k&&k.event===p&&k.schema===w&&k.table===N&&k.filter===j)S.push(Object.assign(Object.assign({},g),{id:k.id}));else{this.unsubscribe(),this.state=Ee.errored,t==null||t(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(mn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ee.errored,t==null||t(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Ee.joined&&t===yi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ut.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Xl(this,Ut.leave,{},t),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const r=new AbortController,o=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(o),a}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Xl(this,t,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>BS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ut;if(s&&[l,c,u,d].indexOf(a)>=0&&s!==this._joinRef())return;let f=this._onMessage(a,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var v,b,S;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(b=m.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(m=>m.callback(f,s)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var v,b,S,x,g,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const w=m.id,N=(v=m.filter)===null||v===void 0?void 0:v.event;return w&&((b=n.ids)===null||b===void 0?void 0:b.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(g=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:b,table:S,commit_timestamp:x,type:g,errors:p}=v;f=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:x,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(v))}m.callback(f,s)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),o={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Qd.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ut.close,{},t)}_onError(t){this._on(Ut.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cm(t.columns,t.old_record)),n}}const hm=()=>{},Ao={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qS=[1e3,2e3,5e3,1e4],YS=1e4,JS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZS{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hu,this.transport=null,this.heartbeatIntervalMs=Ao.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hm,this.ref=0,this.reconnectTimer=null,this.logger=hm,this.conn=null,this.sendBuffer=[],this.serializer=new zS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>Pr(()=>Promise.resolve().then(()=>Mr),void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${fu.websocket}`,this.httpEndpoint=Ux(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:US}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case gi.connecting:return ps.Connecting;case gi.open:return ps.Open;case gi.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,r=this.getChannels().find(o=>o.topic===s);if(r)return r;{const o=new Qd(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:s,payload:r,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${o})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ao.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:o,ref:a}=n,l=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${s} ${r} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(r,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ut.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([JS],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:FS};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(Ut.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new $x(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ao.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,r,o,a,l,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:hu,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:Ao.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>qS[d-1]||YS,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class qd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ek extends qd{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pu extends qd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var tk=globalThis&&globalThis.__awaiter||function(e,t,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Vx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Pr(()=>Promise.resolve().then(()=>Mr),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},nk=()=>tk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pr(()=>Promise.resolve().then(()=>Mr),void 0)).Response:Response}),gu=e=>{if(Array.isArray(e))return e.map(n=>gu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[r]=gu(s)}),t},sk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Rs=globalThis&&globalThis.__awaiter||function(e,t,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Kl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rk=(e,t,n)=>Rs(void 0,void 0,void 0,function*(){const s=yield nk();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const o=e.status||500,a=(r==null?void 0:r.statusCode)||o+"";t(new ek(Kl(r),o,a))}).catch(r=>{t(new pu(Kl(r),r))}):t(new pu(Kl(e),e))}),ik=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?r:(sk(s)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(s)):r.body=s,t!=null&&t.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),n))};function oo(e,t,n,s,r,o){return Rs(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,ik(t,s,r,o)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>rk(c,l,s))})})}function Pa(e,t,n,s){return Rs(this,void 0,void 0,function*(){return oo(e,"GET",t,n,s)})}function Zt(e,t,n,s,r){return Rs(this,void 0,void 0,function*(){return oo(e,"POST",t,s,r,n)})}function xu(e,t,n,s,r){return Rs(this,void 0,void 0,function*(){return oo(e,"PUT",t,s,r,n)})}function ok(e,t,n,s){return Rs(this,void 0,void 0,function*(){return oo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Bx(e,t,n,s,r){return Rs(this,void 0,void 0,function*(){return oo(e,"DELETE",t,s,r,n)})}var qe=globalThis&&globalThis.__awaiter||function(e,t,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const ak={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lk{constructor(t,n={},s,r){this.url=t,this.headers=n,this.bucketId=s,this.fetch=Vx(r)}uploadOrUpdate(t,n,s,r){return qe(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},fm),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=s,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?xu:Zt)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(Pe(o))return{data:null,error:o};throw o}})}upload(t,n,s){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,r){return qe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:fm.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield xu(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(Pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const o=yield Zt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new qd("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}update(t,n,s){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return qe(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}copy(t,n,s){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,s){return qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=yield Zt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,s){return qe(this,void 0,void 0,function*(){try{const r=yield Zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}download(t,n){return qe(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Pa(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pe(l))return{data:null,error:l};throw l}})}info(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Pa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gu(s),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}exists(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ok(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Pe(s)&&s instanceof pu){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),r=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&r.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Bx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}list(t,n,s){return qe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},ak),n),{prefix:t||""});return{data:yield Zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}listV2(t,n){return qe(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Zt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ck="2.11.0",uk={"X-Client-Info":`storage-js/${ck}`};var Is=globalThis&&globalThis.__awaiter||function(e,t,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class dk{constructor(t,n={},s,r){const o=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},uk),n),this.fetch=Vx(s)}listBuckets(){return Is(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}getBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Is(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Is(this,void 0,void 0,function*(){try{return{data:yield xu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield Bx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}}class hk extends dk{constructor(t,n={},s,r){super(t,n,s,r)}from(t){return new lk(this.url,this.headers,t,this.fetch)}}const fk="2.55.0";let ii="";typeof Deno<"u"?ii="deno":typeof document<"u"?ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ii="react-native":ii="node";const mk={"X-Client-Info":`supabase-js-${ii}/${fk}`},pk={headers:mk},gk={schema:"public"},xk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yk={};var vk=globalThis&&globalThis.__awaiter||function(e,t,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const wk=e=>{let t;return e?t=e:typeof fetch>"u"?t=Tx:t=fetch,(...n)=>t(...n)},bk=()=>typeof Headers>"u"?Cx:Headers,jk=(e,t,n)=>{const s=wk(n),r=bk();return(o,a)=>vk(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new r(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(o,Object.assign(Object.assign({},a),{headers:u}))})};var Sk=globalThis&&globalThis.__awaiter||function(e,t,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};function kk(e){return e.endsWith("/")?e:e+"/"}function Nk(e,t){var n,s;const{db:r,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Sk(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const zx="2.71.1",Bs=30*1e3,yu=3,Ql=yu*Bs,_k="http://localhost:9999",Tk="supabase.auth.token",Ck={"X-Client-Info":`gotrue-js/${zx}`},vu="X-Supabase-Api-Version",Wx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ek=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pk=10*60*1e3;class Yd extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dk extends Yd{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Ak(e){return Q(e)&&e.name==="AuthApiError"}class Hx extends Yd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class os extends Yd{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class On extends os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rk(e){return Q(e)&&e.name==="AuthSessionMissingError"}class Ro extends os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mo extends os{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Lo extends os{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mk(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class mm extends os{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wu extends os{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ql(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class pm extends os{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class bu extends os{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gm=` 	
\r=`.split(""),Lk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gm.length;t+=1)e[gm[t].charCodeAt(0)]=-2;for(let t=0;t<Da.length;t+=1)e[Da[t].charCodeAt(0)]=t;return e})();function xm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Da[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Da[s]),t.queuedBits-=6}}function Gx(e,t,n){const s=Lk[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ym(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=a=>{$k(a,s,n)};for(let a=0;a<e.length;a+=1)Gx(e.charCodeAt(a),r,o);return t.join("")}function Ok(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ik(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Ok(s,t)}}function $k(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Fk(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)Gx(e.charCodeAt(r),n,s);return new Uint8Array(t)}function Uk(e){const t=[];return Ik(e,n=>t.push(n)),new Uint8Array(t)}function Vk(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};return e.forEach(r=>xm(r,n,s)),xm(null,n,s),t.join("")}function Bk(e){return Math.round(Date.now()/1e3)+e}function zk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ot=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},Xx=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function Wk(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,o)=>{t[o]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const Kx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Pr(()=>Promise.resolve().then(()=>Mr),void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},Hk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},cs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rn=async(e,t)=>{await e.removeItem(t)};class cl{constructor(){this.promise=new cl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}cl.promiseConstructor=Promise;function Yl(e){const t=e.split(".");if(t.length!==3)throw new bu("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Ek.test(t[s]))throw new bu("JWT not in base64url format");return{header:JSON.parse(ym(t[0])),payload:JSON.parse(ym(t[1])),signature:Fk(t[2]),raw:{header:t[0],payload:t[1]}}}async function Gk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xk(e,t){return new Promise((s,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){s(a);return}}catch(a){if(!t(o,a)){r(a);return}}})()})}function Kk(e){return("0"+e.toString(16)).substr(-2)}function Qk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let o=0;o<56;o++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,Kk).join("")}async function qk(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function Yk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await qk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(e,t,n=!1){const s=Qk();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await zs(e,`${t}-code-verifier`,r);const o=await Yk(s);return[o,s===o?"plain":"s256"]}const Jk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zk(e){const t=e.headers.get(vu);if(!t||!t.match(Jk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(e){if(!nN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jl(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vm(e){return JSON.parse(JSON.stringify(e))}var sN=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};const fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rN=[502,503,504];async function wm(e){var t;if(!Hk(e))throw new wu(fs(e),0);if(rN.includes(e.status))throw new wu(fs(e),e.status);let n;try{n=await e.json()}catch(o){throw new Hx(fs(o),o)}let s;const r=Zk(e);if(r&&r.getTime()>=Wx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new pm(fs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new On}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new pm(fs(n),e.status,n.weak_password.reasons);throw new Dk(fs(n),e.status||500,s)}const iN=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function Y(e,t,n,s){var r;const o=Object.assign({},s==null?void 0:s.headers);o[vu]||(o[vu]=Wx["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const a=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(a.redirect_to=s.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await oN(e,t,n+l,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function oN(e,t,n,s,r,o){const a=iN(t,s,r,o);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new wu(fs(c),0)}if(l.ok||await wm(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await wm(c)}}function dn(e){var t;let n=null;uN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Bk(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function bm(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function aN(e){return{data:e,error:null}}function lN(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:o}=e,a=sN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function cN(e){return e}function uN(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zl=["global","local","others"];var dN=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};class hN{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Kx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Zl[0]){if(Zl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zl.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bn})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=dN(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:lN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:cN});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fs(t);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fs(t);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Bn})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Fs(t);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bn})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Fs(t.userId);try{const{data:n,error:s}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fs(t.userId),Fs(t.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function jm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function fN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Us={debug:!!(globalThis&&Xx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class mN extends Qx{}async function pN(e,t,n){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Us.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}fN();const gN={url:_k,storageKey:Tk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ck,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sm(e,t,n){return await n()}const Vs={};class Bi{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bi.nextInstanceID,Bi.nextInstanceID+=1,this.instanceID>0&&Ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},gN),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new hN({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Kx(r.fetch),this.lock=r.lock||Sm,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pN:this.lock=Sm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Xx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jm(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=jm(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Vs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Vs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Wk(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ot()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Mk(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new Hx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:dn}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,s,r;try{let o;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await $s(this.storage,this.storageKey)),o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:dn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:dn})}else throw new Mo("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:l}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bm})}else if("phone"in t){const{phone:o,password:a,options:l}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bm})}else throw new Mo("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ro}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,r,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,r,o,a,l,c,u,d,h,f,m;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:S,wallet:x,statement:g,options:p}=t;let w;if(Ot())if(typeof x=="object")w=x;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),b=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(r=(s=p==null?void 0:p.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=j}}try{const{data:S,error:x}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Vk(b)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:dn});if(x)throw x;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Ro}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:x})}catch(S){if(Q(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await cs(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:o,error:a}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:dn});if(await Rn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ro}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:a})}catch(o){if(Q(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:o,nonce:a}=t,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ro}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,r,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $s(this.storage,this.storageKey));const{error:h}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Mo("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let r,o;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:dn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,s,r;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await $s(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:aN})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new On;const{error:r}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:o}=t,{error:a}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:s,type:r,options:o}=t,{data:a,error:l}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Mo("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Ql:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const a=await cs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Jl()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:r,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bn}):await this._useSession(async n=>{var s,r,o;const{data:a,error:l}=n;if(l)throw l;return!(!((s=a.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Bn})})}catch(n){if(Q(n))return Rk(n)&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:o}=s;if(o)throw o;if(!r.session)throw new On;const a=r.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $s(this.storage,this.storageKey));const{data:u,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Bn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new On;const n=Date.now()/1e3;let s=n,r=!0,o=null;const{payload:a}=Yl(t.access_token);if(a.exp&&(s=a.exp,r=s<=n),r){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(s=a.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new On;const{session:r,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ot())throw new Lo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Lo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mm("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new Lo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:b,error:S}=await this._getUser(o);if(S)throw S;const x={provider_token:s,provider_refresh_token:r,access_token:o,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(s){if(Q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await cs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{error:o};const a=(s=r.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Ak(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=zk(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:o},error:a}=n;if(a)throw a;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await $s(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:r}=await this._useSession(async o=>{var a,l,c,u,d;const{data:h,error:f}=o;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Ot()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Q(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:o,error:a}=n;if(a)throw a;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Xk(async r=>(r>0&&await Gk(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(r,o)=>{const a=200*Math.pow(2,r);return o&&ql(o)&&Date.now()+a-s<Bs})}catch(s){if(this._debug(n,"error",s),Q(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Ot()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await cs(this.storage,this.storageKey);if(r&&this.userStorage){let a=await cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:r.user},await zs(this.userStorage,this.storageKey+"-user",a)),r.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Jl()}else if(r&&!r.user&&!r.user){const a=await cs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(r.user=a.user,await Rn(this.storage,this.storageKey+"-user"),await zs(this.storage,this.storageKey,r)):r.user=Jl()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const o=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ql;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Ql}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),ql(a)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(r.access_token);!l&&(a!=null&&a.user)?(r.user=a.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(s,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new cl;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new On;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(r,"error",o),Q(o)){const a={session:null,error:o};return ql(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await zs(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const o=vm(r);await zs(this.storage,this.storageKey,o)}else{const r=vm(n);await zs(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Rn(this.storage,this.storageKey),await Rn(this.storage,this.storageKey+"-code-verifier"),await Rn(this.storage,this.storageKey+"-user"),this.userStorage&&await Rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/Bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Bs}ms, refresh threshold is ${yu} ticks`),r<=yu&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,a]=await $s(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);r.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;return o?{data:null,error:o}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;return o?{data:null,error:o}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],r=s.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=s.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:s,totp:r,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:r},error:o}=t;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Yl(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Pk>r)return s;const{data:o,error:a}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,s=o.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};s=m.session.access_token}const{header:r,payload:o,signature:a,raw:{header:l,payload:c}}=Yl(s);n!=null&&n.allowExpired||eN(o.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:o,header:r,signature:a},error:null}}const d=tN(r.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Uk(`${l}.${c}`)))throw new bu("Invalid JWT signature");return{data:{claims:o,header:r,signature:a},error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}}Bi.nextInstanceID=0;const xN=Bi;class yN extends xN{constructor(t){super(t)}}var vN=globalThis&&globalThis.__awaiter||function(e,t,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class wN{constructor(t,n,s){var r,o,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=kk(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:gk,realtime:yk,auth:Object.assign(Object.assign({},xk),{storageKey:u}),global:pk},h=Nk(s??{},d);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=jk(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new OS(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new hk(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new hS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return vN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yN({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ZS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bN=(e,t,n)=>new wN(e,t,n);function jN(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jN()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SN="https://aiqhubqezacvcnaalwnm.supabase.co",kN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFpcWh1YnFlemFjdmNuYWFsd25tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU3OTI4NDQsImV4cCI6MjA3MTM2ODg0NH0.OC30Zw7RlUZSUbyEHW7YTxUkxH_y2pwOsc2thuIGrNg",He=bN(SN,kN,{auth:{storage:window.localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),qx=y.createContext(),Ms=()=>y.useContext(qx),Yx=({children:e})=>{const[t,n]=y.useState(null),[s,r]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const{data:{session:d},error:h}=await He.auth.getSession();h&&console.error("Error getting session:",h),n((d==null?void 0:d.user)??null)}catch(d){console.error("Error in getInitialSession:",d),n(null)}finally{r(!1)}})();const{data:{subscription:u}}=He.auth.onAuthStateChange(async(d,h)=>{var f;console.log("Auth state change:",d,(f=h==null?void 0:h.user)==null?void 0:f.email),n((h==null?void 0:h.user)??null),r(!1)});return()=>u.unsubscribe()},[]);const o=async(c,u)=>{const{error:d,data:h}=await He.auth.signInWithPassword({email:c,password:u});if(d)throw d;return h},a=async(c,u)=>{const{error:d,data:h}=await He.auth.signUp({email:c,password:u,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});if(d)throw d;return h},l=async()=>{const{error:c}=await He.auth.signOut();if(c)throw c;n(null)};return i.jsx(qx.Provider,{value:{user:t,loading:s,login:o,signup:a,logout:l},children:e})},Jx=y.createContext(),Jd=()=>{const e=y.useContext(Jx);if(!e)throw new Error("useTimer must be used within a TimerProvider");return e},NN=({children:e})=>{const[t,n]=y.useState({isRunning:!1,mode:"pomodoro",secondsLeft:1500,stopwatchSeconds:0,isPomodoroBreak:!1,pomodoroCount:0,subjectName:"",customMinutes:25,startTime:null,pausedTime:null,lastUpdateTime:null}),{isRunning:s,mode:r,secondsLeft:o,stopwatchSeconds:a,isPomodoroBreak:l,pomodoroCount:c,subjectName:u,startTime:d,pausedTime:h,lastUpdateTime:f,customMinutes:m}=t,v=y.useCallback(()=>d?s?Math.floor((Date.now()-d)/1e3):h!==null?h:0:0,[d,s,h]),b=()=>{if(r==="stopwatch"){const C=v();n(V=>({...V,stopwatchSeconds:C}))}else{const C=v(),V=S(r),Z=Math.max(0,V-C);n(ne=>({...ne,secondsLeft:Z}))}};y.useEffect(()=>{if(!s)return;const C=setInterval(()=>{if(b(),r!=="stopwatch"){const V=v(),Z=S(r);V>=Z&&k()}},100);return()=>clearInterval(C)},[s,r,d,h,m,l]),y.useEffect(()=>{const C=()=>{if(document.hidden){if(s){const V=v();n(Z=>({...Z,pausedTime:V,lastUpdateTime:Date.now()}))}}else if(s&&h!==null){const V=Date.now(),Z=V-(f||V);n(ne=>({...ne,startTime:ne.startTime?ne.startTime+Z:V,pausedTime:null}))}};return document.addEventListener("visibilitychange",C),()=>document.removeEventListener("visibilitychange",C)},[s,h,f]);const S=C=>{switch(C){case"pomodoro":return l?5*60:25*60;case"custom":return(m||25)*60;case"stopwatch":return 0;default:return 25*60}},x=y.useCallback(()=>{const C=Date.now();n(V=>({...V,isRunning:!0,startTime:V.pausedTime!==null?C-V.pausedTime*1e3:C,pausedTime:null,lastUpdateTime:C}))},[]),g=y.useCallback(()=>{const C=v();n(V=>({...V,isRunning:!1,pausedTime:C,lastUpdateTime:Date.now()}))},[v]),p=y.useCallback(()=>{const C=S(r);n(V=>({...V,isRunning:!1,secondsLeft:r==="stopwatch"?0:C,stopwatchSeconds:0,startTime:null,pausedTime:null,lastUpdateTime:null}))},[r]),w=y.useCallback(C=>{n(V=>{const Z={...V,customMinutes:C};return!V.isRunning&&V.mode==="custom"&&(Z.secondsLeft=(C||25)*60),Z})},[]),N=y.useCallback(C=>{const V=S(C);n(Z=>({...Z,mode:C,secondsLeft:C==="stopwatch"?0:V,stopwatchSeconds:0,isPomodoroBreak:!1,pomodoroCount:0,startTime:null,pausedTime:null,lastUpdateTime:null}))},[]),j=y.useCallback(C=>{n(V=>({...V,subjectName:C}))},[]),k=()=>{r==="pomodoro"?n(l?C=>({...C,isPomodoroBreak:!1,pomodoroCount:C.pomodoroCount+1,startTime:Date.now(),pausedTime:null}):C=>({...C,isPomodoroBreak:!0,startTime:Date.now(),pausedTime:null})):g()},_=y.useCallback(C=>{const V=r==="stopwatch"?a:S(r)-o,Z={...C,durationMinutes:Math.round(V/60*100)/100,timestamp:new Date().toISOString(),subjectName:u||C.subjectName},A=[...JSON.parse(localStorage.getItem("studySessions")||"[]"),Z];localStorage.setItem("studySessions",JSON.stringify(A))},[r,a,o,u]),$={...t,startTimer:x,stopTimer:g,resetTimer:p,setCustomMinutes:w,setTimerMode:N,setTimerSubject:C=>{console.log("Setting timer subject:",C),j(C)},saveStudySession:_,getActualElapsedTime:v};return i.jsx(Jx.Provider,{value:$,children:e})},Zx=y.createContext(),qt=()=>{const e=y.useContext(Zx);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e},_N=({children:e})=>{const[t,n]=y.useState(()=>{const M=localStorage.getItem("userStats"),E={xp:0,level:1,prestigeLevel:0,totalSessions:0,totalStudyTime:0,sessionHistory:[],currentStreak:0,longestStreak:0,lastStudyDate:null,streakSavers:3,badges:[],achievements:[],unlockedTitles:[],currentTitle:"Rookie Scholar",dailyQuests:[],weeklyQuests:[],completedQuestsToday:0,questStreak:0,weeklyXP:0,weeklyRank:0,friends:[],challenges:[],isPremium:!1,xpMultiplier:1,premiumSkins:[],currentSkin:"default",subjectMastery:{},weeklyGoal:0,weeklyProgress:0,totalXPEarned:0,lastRewardTime:null,rewardStreak:0,luckyStreak:0,jackpotCount:0};if(M){const T=JSON.parse(M);return{...E,...T,totalXPEarned:T.totalXPEarned??T.xp??0,totalSessions:T.totalSessions??0,totalStudyTime:T.totalStudyTime??0,subjectMastery:T.subjectMastery??{},achievements:T.achievements??[],dailyQuests:T.dailyQuests??[],weeklyQuests:T.weeklyQuests??[]}}return E}),[s,r]=y.useState([]),[o,a]=y.useState(!1);y.useState([]),y.useEffect(()=>{console.log("💾 Saving userStats to localStorage:",t),localStorage.setItem("userStats",JSON.stringify(t))},[t]);const l=(M,E,T=1)=>{const D=Math.floor(M/.1),F=Math.min(3,1+M/120),H=Math.floor(t.currentStreak*(Math.log(t.currentStreak+1)*5)),z=t.subjectMastery[E]>=1e3?D*.2:0,K=1+t.prestigeLevel*.1,te=t.isPremium?t.xpMultiplier:1;let P=Math.floor((D*F+H+z)*K*te);const L=c(P,M);return P+=L.bonusXP,{baseXP:D,totalXP:P,bonuses:{focus:Math.floor(D*(F-1)),streak:H,mastery:Math.floor(z),prestige:Math.floor(P*(K-1)),premium:Math.floor(P*(te-1)),variable:L.bonusXP},reward:L}},c=(M,E)=>{const T=Math.random(),D=Math.min(2,E/60),F=t.sessionHistory.slice(0,10),H=F.length>0?F.reduce((K,te)=>K+te.durationMinutes,0)/F.length:E,z=E>H?1.5:1;return T<.1*z?{tier:"legendary",type:"XP_JACKPOT",bonusXP:Math.floor(M*5*D),title:"🏆 LEGENDARY JACKPOT!",description:`+500% bonus XP for ${E}min session!`,animation:"jackpot",sound:"legendary",extras:{title:"Jackpot Hunter",badge:"legendary_jackpot"}}:T<.2*z?{tier:"epic",type:"XP_BONUS",bonusXP:Math.floor(M*2*D),title:"✨ EPIC BONUS!",description:"+200% bonus XP for great focus!",animation:"epic",sound:"epic"}:T<.3*z?{tier:"rare",type:"XP_BONUS",bonusXP:Math.floor(M*1.5*D),title:"🌟 RARE BONUS!",description:"+150% bonus XP for consistency!",animation:"rare",sound:"rare"}:T<.4*z?{tier:"uncommon",type:"XP_BONUS",bonusXP:Math.floor(M*.5*D),title:"⭐ Lucky Scholar!",description:"+50% bonus XP for good work!",animation:"uncommon",sound:"uncommon"}:{tier:"none",bonusXP:0}},u=M=>Math.floor(50*Math.pow(M,1.5)),d=M=>{let E=0;for(let T=1;T<=M;T++)E+=u(T);return E},h=M=>{let E=1,T=0;for(;T<=M;)T+=u(E+1),T<=M&&E++;return E},f=()=>{const M=t.level,E=d(M),T=d(M+1),D=Math.max(0,t.xp-E),F=T-E;return{current:D,needed:F,percentage:Math.min(100,Math.max(0,D/F*100))}},m=()=>{const M=new Date().toDateString(),E=t.lastStudyDate?new Date(t.lastStudyDate).toDateString():null;if(E===M)return{streak:t.currentStreak,isNewDay:!1,streakBroken:!1};const T=new Date;T.setDate(T.getDate()-1);const D=T.toDateString();let F,H=!1;if(E===D)F=t.currentStreak+1;else{if(E&&t.streakSavers>0)return{streak:t.currentStreak,isNewDay:!0,streakBroken:!0,canUseSaver:!0};F=1,H=!0}return n(z=>({...z,currentStreak:F,longestStreak:Math.max(z.longestStreak,F),lastStudyDate:new Date().toISOString()})),b(F),{streak:F,isNewDay:!0,streakBroken:H}},v=()=>t.streakSavers>0?(n(M=>({...M,streakSavers:M.streakSavers-1,lastStudyDate:new Date().toISOString()})),p({type:"STREAK_SAVED",title:"🛡️ Streak Protected!",description:`Used streak saver! ${t.streakSavers-1} remaining`,tier:"premium"}),!0):!1,b=M=>{[{days:3,title:"Getting Started",icon:"🌱",xp:50},{days:7,title:"Week Warrior",icon:"⚔️",xp:100},{days:14,title:"Fortnight Fighter",icon:"🏰",xp:200},{days:30,title:"Month Master",icon:"👑",xp:500},{days:50,title:"Unstoppable Force",icon:"🌪️",xp:750},{days:100,title:"Century Club",icon:"💎",xp:1500},{days:365,title:"Year Champion",icon:"🏆",xp:5e3}].forEach(T=>{M===T.days&&j({id:`streak_${T.days}`,name:T.title,description:`Maintained a ${T.days}-day study streak!`,icon:T.icon,xp:T.xp,type:"streak",tier:T.days>=100?"legendary":T.days>=30?"epic":"rare"})})},S=()=>{if(t.level<100)return!1;const M=t.prestigeLevel+1;return n(E=>({...E,level:1,xp:0,prestigeLevel:M,currentTitle:`Prestige ${M} Scholar`})),p({type:"PRESTIGE",title:`🌟 PRESTIGE ${M}!`,description:"Welcome to the elite! +10% permanent XP bonus",tier:"legendary",animation:"prestige"}),!0},x=(M,E,T=1)=>{const D=l(M,E,T),F=t.level,H=t.xp+D.totalXP,z=h(H);if(n(K=>{const te={...K,xp:H,level:z,totalSessions:(K.totalSessions||0)+1,totalStudyTime:(K.totalStudyTime||0)+M,totalXPEarned:(K.totalXPEarned||K.xp||0)+D.totalXP,weeklyXP:(K.weeklyXP||0)+D.totalXP,subjectMastery:{...K.subjectMastery,[E]:(K.subjectMastery[E]||0)+M}};return console.log("🎯 Awarding XP:",{sessionDuration:M,subjectName:E,oldXP:K.xp,newXP:H,xpGained:D.totalXP,oldTotalXPEarned:K.totalXPEarned,newTotalXPEarned:te.totalXPEarned}),te}),p({type:"XP_EARNED",title:`+${D.totalXP} XP`,description:"Great work!",tier:"common",details:D.bonuses}),D.reward.tier!=="none"&&p(D.reward),z>F){const K=z-F;for(let te=1;te<=K;te++)g(F+te)}return m(),N(),D},g=M=>{p({type:"LEVEL_UP",title:`🎉 LEVEL ${M}!`,description:"You're getting stronger!",tier:"epic",animation:"levelup",sound:"levelup"});const E={5:{title:"Rising Scholar",xp:100},10:{title:"Dedicated Learner",xp:250},25:{title:"Knowledge Seeker",xp:500},50:{title:"Academic Elite",xp:1e3},75:{title:"Master Scholar",xp:2e3},100:{title:"Academic Legend",xp:5e3,canPrestige:!0}};if(E[M]){const T=E[M];n(D=>({...D,currentTitle:T.title,xp:D.xp+T.xp})),p({type:"MILESTONE",title:`👑 ${T.title}`,description:`Level ${M} milestone! +${T.xp} bonus XP`,tier:M>=100?"legendary":M>=50?"epic":"rare"})}},p=M=>{const E={...M,id:Date.now()+Math.random(),timestamp:new Date().toISOString()};r(T=>[...T,E]),a(!0),setTimeout(()=>{r(T=>T.filter(D=>D.id!==E.id))},M.tier==="legendary"?5e3:3e3)},w={first_session:{id:"first_session",name:"First Steps",description:"Complete your first study session",icon:"🎯",xp:25,condition:()=>t.totalSessions>=1,tier:"common"},session_marathon:{id:"session_marathon",name:"Marathon Master",description:"Study for 3+ hours in one session",icon:"🏃‍♂️",xp:200,condition:()=>t.sessionHistory.some(M=>M.durationMinutes>=180),tier:"rare"},level_10:{id:"level_10",name:"Rising Star",description:"Reach level 10",icon:"⭐",xp:100,condition:()=>t.level>=10,tier:"uncommon"},level_50:{id:"level_50",name:"Academic Weapon",description:"Reach level 50",icon:"⚡",xp:500,condition:()=>t.level>=50,tier:"epic"},hundred_hours:{id:"hundred_hours",name:"Century Scholar",description:"Study for 100+ total hours",icon:"💯",xp:300,condition:()=>t.totalStudyTime>=6e3,tier:"rare"},night_owl:{id:"night_owl",name:"Night Owl",description:"Study after 10 PM",icon:"🦉",xp:50,condition:()=>t.sessionHistory.some(M=>new Date(M.timestamp).getHours()>=22),tier:"uncommon"},early_bird:{id:"early_bird",name:"Early Bird",description:"Study before 6 AM",icon:"🐦",xp:75,condition:()=>t.sessionHistory.some(M=>new Date(M.timestamp).getHours()<6),tier:"uncommon"}},N=()=>{Object.values(w).forEach(M=>{!t.achievements.includes(M.id)&&M.condition()&&j(M)})},j=M=>{n(E=>({...E,achievements:[...E.achievements,M.id],xp:E.xp+M.xp})),p({type:"ACHIEVEMENT",title:`🏆 ${M.name}`,description:M.description,tier:M.tier,xp:M.xp,icon:M.icon,animation:"achievement"})},k=()=>t.prestigeLevel>0?`Prestige ${t.prestigeLevel} ${t.currentTitle}`:t.currentTitle,_=M=>{const E={...M,timestamp:new Date().toISOString(),difficulty:M.difficulty||1,mood:M.mood||"neutral"},T=x(E.durationMinutes,E.subjectName,E.difficulty),D={...E,xpEarned:T.totalXP,bonuses:T.bonuses};return n(F=>({...F,sessionHistory:[D,...F.sessionHistory.slice(0,99)]})),D},$=[{id:"complete_session",name:"Complete 1 study session today",description:"Complete 1 study session today",type:"sessions",target:1,xp:50,icon:"✅"},{id:"study_25_min",name:"Study for at least 25 minutes",description:"Study for at least 25 minutes (Pomodoro length)",type:"time",target:25,xp:75,icon:"⏰"},{id:"finish_task",name:"Finish 1 assigned task",description:"Finish 1 assigned task",type:"tasks",target:1,xp:60,icon:"📋"},{id:"log_reflection",name:"Log a reflection/note",description:"Log a reflection/note about your study",type:"reflection",target:1,xp:30,icon:"📝"},{id:"maintain_streak",name:"Maintain your streak",description:"Maintain your streak (log in + study)",type:"streak",target:1,xp:100,icon:"🔥"},{id:"earn_50_xp",name:"Earn at least 50 XP today",description:"Earn at least 50 XP today",type:"xp",target:50,xp:25,icon:"⭐"},{id:"beat_personal_best",name:"Beat your personal best",description:"Beat your personal best focus time from yesterday",type:"personal_best",target:1,xp:80,icon:"🏆"},{id:"early_bird",name:"Early bird bonus",description:"Use the app before 10 AM (early bird bonus)",type:"early_bird",target:1,xp:60,icon:"🐦"},{id:"night_owl",name:"Night owl bonus",description:"Study after 8 PM (night owl bonus)",type:"night_owl",target:1,xp:60,icon:"🦉"},{id:"new_subject",name:"Explore a new subject",description:"Explore a new subject/topic (not yesterday's)",type:"new_subject",target:1,xp:70,icon:"🌟"},{id:"two_subjects",name:"Study two different subjects",description:"Study two different subjects in one day",type:"subjects",target:2,xp:80,icon:"📚"},{id:"three_sessions",name:"Three separate sessions",description:"Use the app for 3 separate study sessions",type:"sessions",target:3,xp:120,icon:"🔄"}],C=[{id:"weekly_7_sessions",name:"Complete 7 study sessions this week",description:"Complete 7 study sessions this week",type:"sessions",target:7,xp:300,icon:"🏆"},{id:"weekly_5_hours",name:"Study for 5+ total hours this week",description:"Study for 5+ total hours this week",type:"time",target:300,xp:400,icon:"⏳"},{id:"weekly_1000_xp",name:"Earn 1,000 XP this week",description:"Earn 1,000 XP this week",type:"xp",target:1e3,xp:200,icon:"💎"},{id:"weekly_5_day_streak",name:"Hit your streak 5 days in a row",description:"Hit your streak at least 5 days in a row",type:"streak",target:5,xp:350,icon:"🔥"},{id:"weekly_finish_tasks",name:"Finish all scheduled tasks",description:"Finish all your scheduled tasks",type:"tasks",target:1,xp:250,icon:"✅"},{id:"weekly_new_level",name:"Reach a new level",description:"Reach a new level",type:"level",target:1,xp:500,icon:"📈"},{id:"weekly_achievement",name:"Unlock at least 1 achievement",description:"Unlock at least 1 achievement",type:"achievement",target:1,xp:200,icon:"🏅"},{id:"weekly_weekend_study",name:"Study on weekend and weekday",description:"Study on both a weekday and a weekend",type:"week_balance",target:1,xp:150,icon:"📅"},{id:"weekly_mood_tracking",name:"Record mood after every session",description:"Record your mood/energy level after every study session",type:"mood",target:1,xp:180,icon:"😊"},{id:"weekly_double_days",name:"Two double study days",description:"Do two double study days (2+ hours each)",type:"double_days",target:2,xp:400,icon:"⚡"}],W={userStats:t,showRewards:o,rewardQueue:s,achievements:w,awardXP:x,updateStreak:m,useStreakSaver:v,addReward:p,addStudySession:_,getUserRank:k,getXPProgress:f,getXPForLevel:u,generateDailyQuests:()=>{const M=t.sessionHistory.length>0?Math.round(t.sessionHistory.reduce((D,F)=>D+F.durationMinutes,0)/t.sessionHistory.length):25,T=$.filter(D=>(D.type==="time"&&D.target===25&&(D.target=Math.max(15,Math.min(60,M)),D.xp=Math.round(D.target*2)),!0)).sort(()=>Math.random()-.5).slice(0,3).map(D=>({id:D.id+"_"+Date.now(),name:D.name,description:D.description,type:D.type,target:D.target,progress:0,completed:!1,xp:D.xp,icon:D.icon,deadline:new Date(Date.now()+24*60*60*1e3).toISOString()}));n(D=>({...D,dailyQuests:T}))},generateWeeklyQuests:()=>{const M=C.sort(()=>Math.random()-.5).slice(0,5).map(E=>({id:E.id+"_"+Date.now(),name:E.name,description:E.description,type:E.type,target:E.target,progress:0,completed:!1,xp:E.xp,icon:E.icon,deadline:new Date(Date.now()+6048e5).toISOString()}));n(E=>({...E,weeklyQuests:M}))},updateQuestProgress:(M,E=1,T=null)=>{n(D=>{const F=D.dailyQuests.map(z=>{if(z.completed||z.type!==M)return z;let K=z.progress;switch(M){case"time":K+=E;break;case"sessions":K+=1;break;case"subjects":const P=D.sessionHistory.filter(U=>new Date(U.timestamp).toDateString()===new Date().toDateString());K=[...new Set(P.map(U=>U.subjectName))].length;break;case"streak":K=D.currentStreak>0?1:0;break;case"xp":K=D.weeklyXP||0;break}const te=K>=z.target;if(te&&!z.completed){const P=z.xp||0;setTimeout(()=>{n(L=>({...L,xp:L.xp+P,totalXPEarned:(L.totalXPEarned||L.xp||0)+P,weeklyXP:(L.weeklyXP||0)+P,level:h(L.xp+P)})),p({type:"QUEST_COMPLETE",title:`✅ ${z.name}`,description:z.description,tier:"uncommon",xp:P})},100)}return{...z,progress:Math.min(K,z.target),completed:te}}),H=D.weeklyQuests.map(z=>{if(z.completed||z.type!==M)return z;let K=z.progress;switch(M){case"time":const P=new Date;P.setDate(P.getDate()-7),K=D.sessionHistory.filter(ve=>new Date(ve.timestamp)>P).reduce((ve,je)=>ve+je.durationMinutes,0);break;case"sessions":const U=new Date;U.setDate(U.getDate()-7),K=D.sessionHistory.filter(ve=>new Date(ve.timestamp)>U).length;break;case"xp":K=D.weeklyXP||0;break;case"streak":K=D.currentStreak;break}const te=K>=z.target;if(te&&!z.completed){const P=z.xp||0;setTimeout(()=>{n(L=>({...L,xp:L.xp+P,totalXPEarned:(L.totalXPEarned||L.xp||0)+P,weeklyXP:(L.weeklyXP||0)+P,level:h(L.xp+P)})),p({type:"WEEKLY_QUEST_COMPLETE",title:`🏆 ${z.name}`,description:z.description,tier:"epic",xp:P})},100)}return{...z,progress:Math.min(K,z.target),completed:te}});return{...D,dailyQuests:F,weeklyQuests:H}})},checkAchievements:N,unlockAchievement:j,prestige:S,setShowRewards:a,calculateXP:l,getTotalXPForLevel:d,resetUserStats:()=>{localStorage.removeItem("userStats"),n({xp:0,level:1,prestigeLevel:0,totalSessions:0,totalStudyTime:0,sessionHistory:[],currentStreak:0,longestStreak:0,lastStudyDate:null,streakSavers:3,badges:[],achievements:[],unlockedTitles:[],currentTitle:"Rookie Scholar",dailyQuests:[],weeklyQuests:[],completedQuestsToday:0,questStreak:0,weeklyXP:0,weeklyRank:0,friends:[],challenges:[],isPremium:!1,xpMultiplier:1,premiumSkins:[],currentSkin:"default",subjectMastery:{},weeklyGoal:0,weeklyProgress:0,totalXPEarned:0,lastRewardTime:null,rewardStreak:0,luckyStreak:0,jackpotCount:0})}};return i.jsx(Zx.Provider,{value:W,children:e})};function Mn({children:e}){const{user:t,loading:n}=Ms();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-purple-100 to-green-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?e:i.jsx(_j,{to:"/",replace:!0})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),km=e=>{const t=CN(e);return t.charAt(0).toUpperCase()+t.slice(1)},ey=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),EN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:a,...l},c)=>y.createElement("svg",{ref:c,...PN,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:ey("lucide",r),...!o&&!EN(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>y.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=(e,t)=>{const n=y.forwardRef(({className:s,...r},o)=>y.createElement(DN,{ref:o,iconNode:t,className:ey(`lucide-${TN(km(e))}`,`lucide-${e}`,s),...r}));return n.displayName=km(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RN=G("activity",AN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nm=G("arrow-right",MN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jr=G("award",LN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Gt=G("book-open",ON);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],_m=G("book",IN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],zi=G("brain",$N);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],UN=G("calendar-days",FN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wi=G("calendar",VN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ps=G("chart-column",BN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],WN=G("chart-pie",zN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ty=G("chevron-down",HN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tm=G("chevron-right",GN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ny=G("chevron-up",XN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],QN=G("circle-alert",KN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ie=G("circle-check-big",qN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JN=G("circle-x",YN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rt=G("clock",ZN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Tt=G("crown",e2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],n2=G("download",t2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],ut=G("flame",s2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Cm=G("gem",r2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],o2=G("gift",i2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ec=G("heart",a2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Em=G("layout-dashboard",l2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ju=G("lightbulb",c2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Pm=G("list-checks",u2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],h2=G("lock-open",d2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zd=G("lock",f2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],p2=G("log-out",m2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Dm=G("message-square",g2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Am=G("pause",x2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Rm=G("pencil",y2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],fr=G("play",v2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],b2=G("plus",w2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Mm=G("rotate-ccw",j2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],k2=G("settings-2",S2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sy=G("settings",N2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sn=G("shield",_2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],C2=G("smartphone",T2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ct=G("sparkles",E2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],D2=G("square-pen",P2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Lm=G("square",A2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ce=G("star",R2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Te=G("target",M2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],O2=G("timer",L2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sr=G("trash-2",I2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rn=G("trending-up",$2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mt=G("trophy",F2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Om=G("user",U2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Aa=G("users",V2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Im=G("volume-2",B2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],$m=G("volume-x",z2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ra=G("x",W2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kr=G("zap",H2);function G2(){var S,x;const[e,t]=y.useState(!1),[n,s]=y.useState(!1),[r,o]=y.useState(""),[a,l]=y.useState(!1),{user:c,userProfile:u,logout:d,deleteUserAccount:h}=Ms(),f=Qt(),m=y.useRef(null);y.useEffect(()=>{console.log("ProfileDropdown - Current user:",c),console.log("ProfileDropdown - Current userProfile:",u)},[c,u]),y.useEffect(()=>{const g=p=>{m.current&&!m.current.contains(p.target)&&(t(!1),l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const v=async()=>{try{await d(),f("/")}catch(g){console.error("Error logging out:",g)}},b=async()=>{s(!0);try{await h(),f("/")}catch{o("Failed to delete account"),s(!1)}};return i.jsxs("div",{className:"relative",ref:m,children:[i.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 bg-white/20 px-3 py-2 rounded-full text-white hover:bg-white/30 transition",children:[i.jsx(Om,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:u!=null&&u.name?`Hey, ${u.name}`:`Hey, ${((S=c==null?void 0:c.email)==null?void 0:S.split("@")[0])||"there"}`})]}),e&&i.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border z-50",children:[i.jsxs("div",{className:"p-4 border-b",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx(Om,{className:"w-5 h-5 text-purple-600"})}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-800",children:(u==null?void 0:u.name)||((x=c==null?void 0:c.email)==null?void 0:x.split("@")[0])||"User"}),i.jsx("p",{className:"text-sm text-gray-600",children:c==null?void 0:c.email})]})})]}),r&&i.jsx("p",{className:"text-red-500 text-xs mt-2",children:r})]}),i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{onClick:v,className:"flex items-center gap-2 w-full px-3 py-2 text-left hover:bg-gray-50 rounded text-sm",children:[i.jsx(p2,{className:"w-4 h-4"}),"Log Out"]}),i.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 w-full px-3 py-2 text-left hover:bg-red-50 rounded text-sm text-red-600",children:[i.jsx(Sr,{className:"w-4 h-4"}),"Delete Account"]}),a&&i.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded",children:[i.jsx("p",{className:"text-sm text-red-800 mb-2",children:"Are you sure? This action cannot be undone."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:b,disabled:n,className:"px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 disabled:opacity-50",children:n?"Deleting...":"Yes, Delete"}),i.jsx("button",{onClick:()=>l(!1),className:"px-3 py-1 bg-gray-300 text-gray-700 rounded text-xs hover:bg-gray-400",children:"Cancel"})]})]})]})]})]})}const Ln=()=>{var c,u;const[e,t]=y.useState(1),{user:n,logout:s}=Ms(),{userStats:r,showRewards:o,rewardQueue:a}=qt();Qt();const l=un();return y.useEffect(()=>{const d=()=>{const h=window.scrollY,f=Math.max(0,1-h/60);t(f)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),i.jsxs("nav",{className:"w-full flex items-center justify-between px-8 py-4 bg-[#6C5DD3] shadow-md fixed top-0 left-0 z-50 h-20 transition-opacity duration-300",style:{opacity:e},children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx(Ae,{to:"/dashboard",className:"text-2xl font-extrabold text-white whitespace-nowrap",children:"Trackviso"})}),i.jsx("div",{className:"flex flex-col items-center flex-1 min-w-0",children:["/dashboard","/tasks","/schedule","/subjects","/study","/settings","/insights"].includes(l.pathname)&&i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-2xl font-extrabold tracking-widest bg-[linear-gradient(135deg,_#E0BBE4,_white)] text-transparent bg-clip-text",children:[l.pathname==="/dashboard"&&"DASHBOARD",l.pathname==="/tasks"&&"TASKS",l.pathname==="/schedule"&&"SCHEDULE",l.pathname==="/subjects"&&"SUBJECTS",l.pathname==="/study"&&"STUDY",l.pathname==="/settings"&&"SETTINGS",l.pathname==="/insights"&&"INSIGHTS"]}),i.jsx("span",{className:"text-sm font-medium text-[#EDE9FE] mt-1",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),i.jsxs("div",{className:"flex-1 flex justify-end gap-4 min-w-0",children:[!n&&i.jsxs(i.Fragment,{children:[i.jsx(Ae,{to:"/login",className:"px-4 py-2 rounded-lg text-[#6C5DD3] font-semibold hover:bg-[#EDE9FE] transition",children:"Login"}),i.jsx(Ae,{to:"/signup",className:"px-4 py-2 rounded-lg text-[#6C5DD3] font-semibold hover:bg-[#7A6AD9] transition",children:"Sign Up"})]}),n&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 text-white",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1 rounded-full",children:[i.jsx(Ce,{className:"w-4 h-4 text-yellow-300"}),i.jsx("span",{className:"text-sm font-medium",children:(r==null?void 0:r.level)||1})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1 rounded-full",children:[i.jsx(ut,{className:"w-4 h-4 text-orange-300"}),i.jsx("span",{className:"text-sm font-medium",children:(r==null?void 0:r.currentStreak)||0})]})]}),i.jsx(G2,{})]})]}),o&&a&&Array.isArray(a)&&a.length>0&&i.jsx("div",{className:"fixed top-24 right-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white p-4 rounded-2xl shadow-2xl z-50 max-w-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-2xl",children:"🎉"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-lg",children:((c=a[a.length-1])==null?void 0:c.title)||"Session Complete!"}),i.jsx("p",{className:"text-sm opacity-90",children:((u=a[a.length-1])==null?void 0:u.description)||"Great work!"})]})]})})]})};function Je(){return i.jsxs("aside",{className:"fixed left-0 top-0 h-full w-16 hover:w-64 group bg-[#3F3D56] flex flex-col z-40 shadow-lg transition-all duration-300 ease-in-out",children:[i.jsxs("div",{className:"absolute left-0 w-16 z-50 pointer-events-none",children:[i.jsx("div",{className:"absolute w-16 h-12 flex items-center justify-center transition-opacity duration-300 group-hover:opacity-0",style:{top:"96px"},children:i.jsx(Em,{className:"w-5 h-5 text-white"})}),i.jsx("div",{className:"absolute w-16 h-12 flex items-center justify-center transition-opacity duration-300 group-hover:opacity-0",style:{top:"152px"},children:i.jsx(Wi,{className:"w-5 h-5 text-white"})}),i.jsx("div",{className:"absolute w-16 h-12 flex items-center justify-center transition-opacity duration-300 group-hover:opacity-0",style:{top:"208px"},children:i.jsx(_m,{className:"w-5 h-5 text-white"})}),i.jsx("div",{className:"absolute w-16 h-12 flex items-center justify-center transition-opacity duration-300 group-hover:opacity-0",style:{top:"264px"},children:i.jsx(Pm,{className:"w-5 h-5 text-white"})}),i.jsx("div",{className:"absolute w-16 h-12 flex items-center justify-center transition-opacity duration-300 group-hover:opacity-0",style:{top:"320px"},children:i.jsx(zi,{className:"w-5 h-5 text-white"})}),i.jsx("div",{className:"absolute w-16 h-12 flex items-center justify-center transition-opacity duration-300 group-hover:opacity-0",style:{top:"376px"},children:i.jsx(Ps,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"flex flex-col gap-2 w-full pt-24 pb-4",children:[i.jsxs(Ae,{to:"/dashboard",className:"flex items-center gap-3 px-6 py-3 focus:outline-none hover:bg-[#6C5DD3]/10 transition",title:"Dashboard",children:[i.jsx(Em,{className:"w-5 h-5 text-white opacity-1000"}),i.jsx("span",{className:"text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Dashboard"})]}),i.jsxs(Ae,{to:"/schedule",className:"flex items-center gap-3 px-6 py-3 focus:outline-none hover:bg-[#6C5DD3]/10 transition",title:"Study Planner",children:[i.jsx(Wi,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Schedule"})]}),i.jsxs(Ae,{to:"/subjects",className:"flex items-center gap-3 px-6 py-3 focus:outline-none hover:bg-[#6C5DD3]/10 transition",title:"Subjects",children:[i.jsx(_m,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Subjects"})]}),i.jsxs(Ae,{to:"/tasks",className:"flex items-center gap-3 px-6 py-3 focus:outline-none hover:bg-[#6C5DD3]/10 transition",title:"Tasks",children:[i.jsx(Pm,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Tasks"})]}),i.jsxs(Ae,{to:"/study",className:"flex items-center gap-3 px-6 py-3 focus:outline-none hover:bg-[#6C5DD3]/10 transition",title:"Study",children:[i.jsx(zi,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Study"})]}),i.jsxs(Ae,{to:"/insights",className:"flex items-center gap-3 px-6 py-3 focus:outline-none hover:bg-[#6C5DD3]/10 transition",title:"Insights",children:[i.jsx(Ps,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Insights"})]})]}),i.jsxs(Ae,{to:"/privacy",className:"mt-auto flex items-center gap-3 px-6 py-3 focus:outline-none hover:bg-[#6C5DD3]/10 transition",title:"Settings",children:[i.jsx(k2,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Privacy and contact"})]})]})}const eh=y.createContext({});function th(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const nh=typeof window<"u",ry=nh?y.useLayoutEffect:y.useEffect,ul=y.createContext(null);function sh(e,t){e.indexOf(t)===-1&&e.push(t)}function rh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Nn=(e,t,n)=>n>t?t:n<e?e:n;let ih=()=>{};const _n={},iy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function oy(e){return typeof e=="object"&&e!==null}const ay=e=>/^0[^.\s]+$/u.test(e);function oh(e){let t;return()=>(t===void 0&&(t=e()),t)}const Et=e=>e,X2=(e,t)=>n=>t(e(n)),ao=(...e)=>e.reduce(X2),Hi=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ah{constructor(){this.subscriptions=[]}add(t){return sh(this.subscriptions,t),()=>rh(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const on=e=>e*1e3,an=e=>e/1e3;function ly(e,t){return t?e*(1e3/t):0}const cy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,K2=1e-7,Q2=12;function q2(e,t,n,s,r){let o,a,l=0;do a=t+(n-t)/2,o=cy(a,s,r)-e,o>0?n=a:t=a;while(Math.abs(o)>K2&&++l<Q2);return a}function lo(e,t,n,s){if(e===t&&n===s)return Et;const r=o=>q2(o,0,1,e,n);return o=>o===0||o===1?o:cy(r(o),t,s)}const uy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dy=e=>t=>1-e(1-t),hy=lo(.33,1.53,.69,.99),lh=dy(hy),fy=uy(lh),my=e=>(e*=2)<1?.5*lh(e):.5*(2-Math.pow(2,-10*(e-1))),ch=e=>1-Math.sin(Math.acos(e)),py=dy(ch),gy=uy(ch),Y2=lo(.42,0,1,1),J2=lo(0,0,.58,1),xy=lo(.42,0,.58,1),Z2=e=>Array.isArray(e)&&typeof e[0]!="number",yy=e=>Array.isArray(e)&&typeof e[0]=="number",e_={linear:Et,easeIn:Y2,easeInOut:xy,easeOut:J2,circIn:ch,circInOut:gy,circOut:py,backIn:lh,backInOut:fy,backOut:hy,anticipate:my},t_=e=>typeof e=="string",Fm=e=>{if(yy(e)){ih(e.length===4);const[t,n,s,r]=e;return lo(t,n,s,r)}else if(t_(e))return e_[e];return e},Oo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Um={value:null,addProjectionMetrics:null};function n_(e,t){let n=new Set,s=new Set,r=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){a.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const b=m&&r?n:s;return f&&a.add(h),b.has(h)||b.add(h),h},cancel:h=>{s.delete(h),a.delete(h)},process:h=>{if(l=h,r){o=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),t&&Um.value&&Um.value.frameloop[t].push(c),c=0,n.clear(),r=!1,o&&(o=!1,d.process(h))}};return d}const s_=40;function vy(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Oo.reduce((p,w)=>(p[w]=n_(o,t?w:void 0),p),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:v}=a,b=()=>{const p=_n.useManualTiming?r.timestamp:performance.now();n=!1,_n.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(p-r.timestamp,s_),1)),r.timestamp=p,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),m.process(r),v.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(b))},S=()=>{n=!0,s=!0,r.isProcessing||e(b)};return{schedule:Oo.reduce((p,w)=>{const N=a[w];return p[w]=(j,k=!1,_=!1)=>(n||S(),N.schedule(j,k,_)),p},{}),cancel:p=>{for(let w=0;w<Oo.length;w++)a[Oo[w]].cancel(p)},state:r,steps:a}}const{schedule:fe,cancel:ts,state:Ue,steps:tc}=vy(typeof requestAnimationFrame<"u"?requestAnimationFrame:Et,!0);let ta;function r_(){ta=void 0}const ot={now:()=>(ta===void 0&&ot.set(Ue.isProcessing||_n.useManualTiming?Ue.timestamp:performance.now()),ta),set:e=>{ta=e,queueMicrotask(r_)}},wy=e=>t=>typeof t=="string"&&t.startsWith(e),uh=wy("--"),i_=wy("var(--"),dh=e=>i_(e)?o_.test(e.split("/*")[0].trim()):!1,o_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Or={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gi={...Or,transform:e=>Nn(0,1,e)},Io={...Or,default:1},vi=e=>Math.round(e*1e5)/1e5,hh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function a_(e){return e==null}const l_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fh=(e,t)=>n=>!!(typeof n=="string"&&l_.test(n)&&n.startsWith(e)||t&&!a_(n)&&Object.prototype.hasOwnProperty.call(n,t)),by=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,o,a,l]=s.match(hh);return{[e]:parseFloat(r),[t]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},c_=e=>Nn(0,255,e),nc={...Or,transform:e=>Math.round(c_(e))},vs={test:fh("rgb","red"),parse:by("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+nc.transform(e)+", "+nc.transform(t)+", "+nc.transform(n)+", "+vi(Gi.transform(s))+")"};function u_(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Su={test:fh("#"),parse:u_,transform:vs.transform},co=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),In=co("deg"),ln=co("%"),X=co("px"),d_=co("vh"),h_=co("vw"),Vm=(()=>({...ln,parse:e=>ln.parse(e)/100,transform:e=>ln.transform(e*100)}))(),nr={test:fh("hsl","hue"),parse:by("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ln.transform(vi(t))+", "+ln.transform(vi(n))+", "+vi(Gi.transform(s))+")"},Ne={test:e=>vs.test(e)||Su.test(e)||nr.test(e),parse:e=>vs.test(e)?vs.parse(e):nr.test(e)?nr.parse(e):Su.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?vs.transform(e):nr.transform(e),getAnimatableNone:e=>{const t=Ne.parse(e);return t.alpha=0,Ne.transform(t)}},f_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m_(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hh))==null?void 0:t.length)||0)+(((n=e.match(f_))==null?void 0:n.length)||0)>0}const jy="number",Sy="color",p_="var",g_="var(",Bm="${}",x_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xi(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let o=0;const l=t.replace(x_,c=>(Ne.test(c)?(s.color.push(o),r.push(Sy),n.push(Ne.parse(c))):c.startsWith(g_)?(s.var.push(o),r.push(p_),n.push(c)):(s.number.push(o),r.push(jy),n.push(parseFloat(c))),++o,Bm)).split(Bm);return{values:n,split:l,indexes:s,types:r}}function ky(e){return Xi(e).values}function Ny(e){const{split:t,types:n}=Xi(e),s=t.length;return r=>{let o="";for(let a=0;a<s;a++)if(o+=t[a],r[a]!==void 0){const l=n[a];l===jy?o+=vi(r[a]):l===Sy?o+=Ne.transform(r[a]):o+=r[a]}return o}}const y_=e=>typeof e=="number"?0:Ne.test(e)?Ne.getAnimatableNone(e):e;function v_(e){const t=ky(e);return Ny(e)(t.map(y_))}const ns={test:m_,parse:ky,createTransformer:Ny,getAnimatableNone:v_};function sc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function w_({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,o=0,a=0;if(!t)r=o=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=sc(c,l,e+1/3),o=sc(c,l,e),a=sc(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:s}}function Ma(e,t){return n=>n>0?t:e}const ge=(e,t,n)=>e+(t-e)*n,rc=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},b_=[Su,vs,nr],j_=e=>b_.find(t=>t.test(e));function zm(e){const t=j_(e);if(!t)return!1;let n=t.parse(e);return t===nr&&(n=w_(n)),n}const Wm=(e,t)=>{const n=zm(e),s=zm(t);if(!n||!s)return Ma(e,t);const r={...n};return o=>(r.red=rc(n.red,s.red,o),r.green=rc(n.green,s.green,o),r.blue=rc(n.blue,s.blue,o),r.alpha=ge(n.alpha,s.alpha,o),vs.transform(r))},ku=new Set(["none","hidden"]);function S_(e,t){return ku.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function k_(e,t){return n=>ge(e,t,n)}function mh(e){return typeof e=="number"?k_:typeof e=="string"?dh(e)?Ma:Ne.test(e)?Wm:T_:Array.isArray(e)?_y:typeof e=="object"?Ne.test(e)?Wm:N_:Ma}function _y(e,t){const n=[...e],s=n.length,r=e.map((o,a)=>mh(o)(o,t[a]));return o=>{for(let a=0;a<s;a++)n[a]=r[a](o);return n}}function N_(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=mh(e[r])(e[r],t[r]));return r=>{for(const o in s)n[o]=s[o](r);return n}}function __(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],a=e.indexes[o][s[o]],l=e.values[a]??0;n[r]=l,s[o]++}return n}const T_=(e,t)=>{const n=ns.createTransformer(t),s=Xi(e),r=Xi(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?ku.has(e)&&!r.values.length||ku.has(t)&&!s.values.length?S_(e,t):ao(_y(__(s,r),r.values),n):Ma(e,t)};function Ty(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ge(e,t,n):mh(e)(e,t)}const C_=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>fe.update(t,n),stop:()=>ts(t),now:()=>Ue.isProcessing?Ue.timestamp:ot.now()}},Cy=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let o=0;o<r;o++)s+=Math.round(e(o/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},La=2e4;function ph(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<La;)t+=n,s=e.next(t);return t>=La?1/0:t}function E_(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(ph(s),La);return{type:"keyframes",ease:o=>s.next(r*o).value/t,duration:an(r)}}const P_=5;function Ey(e,t,n){const s=Math.max(t-P_,0);return ly(n-e(s),t-s)}const we={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ic=.001;function D_({duration:e=we.duration,bounce:t=we.bounce,velocity:n=we.velocity,mass:s=we.mass}){let r,o,a=1-t;a=Nn(we.minDamping,we.maxDamping,a),e=Nn(we.minDuration,we.maxDuration,an(e)),a<1?(r=u=>{const d=u*a,h=d*e,f=d-n,m=Nu(u,a),v=Math.exp(-h);return ic-f/m*v},o=u=>{const h=u*a*e,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-h),b=Nu(Math.pow(u,2),a);return(-r(u)+ic>0?-1:1)*((f-m)*v)/b}):(r=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-ic+d*h},o=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=R_(r,o,l);if(e=on(e),isNaN(c))return{stiffness:we.stiffness,damping:we.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:e}}}const A_=12;function R_(e,t,n){let s=n;for(let r=1;r<A_;r++)s=s-e(s)/t(s);return s}function Nu(e,t){return e*Math.sqrt(1-t*t)}const M_=["duration","bounce"],L_=["stiffness","damping","mass"];function Hm(e,t){return t.some(n=>e[n]!==void 0)}function O_(e){let t={velocity:we.velocity,stiffness:we.stiffness,damping:we.damping,mass:we.mass,isResolvedFromDuration:!1,...e};if(!Hm(e,L_)&&Hm(e,M_))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,o=2*Nn(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:we.mass,stiffness:r,damping:o}}else{const n=D_(e);t={...t,...n,mass:we.mass},t.isResolvedFromDuration=!0}return t}function Oa(e=we.visualDuration,t=we.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=O_({...n,velocity:-an(n.velocity||0)}),v=f||0,b=u/(2*Math.sqrt(c*d)),S=a-o,x=an(Math.sqrt(c/d)),g=Math.abs(S)<5;s||(s=g?we.restSpeed.granular:we.restSpeed.default),r||(r=g?we.restDelta.granular:we.restDelta.default);let p;if(b<1){const N=Nu(x,b);p=j=>{const k=Math.exp(-b*x*j);return a-k*((v+b*x*S)/N*Math.sin(N*j)+S*Math.cos(N*j))}}else if(b===1)p=N=>a-Math.exp(-x*N)*(S+(v+x*S)*N);else{const N=x*Math.sqrt(b*b-1);p=j=>{const k=Math.exp(-b*x*j),_=Math.min(N*j,300);return a-k*((v+b*x*S)*Math.sinh(_)+N*S*Math.cosh(_))/N}}const w={calculatedDuration:m&&h||null,next:N=>{const j=p(N);if(m)l.done=N>=h;else{let k=N===0?v:0;b<1&&(k=N===0?on(v):Ey(p,N,j));const _=Math.abs(k)<=s,$=Math.abs(a-j)<=r;l.done=_&&$}return l.value=l.done?a:j,l},toString:()=>{const N=Math.min(ph(w),La),j=Cy(k=>w.next(N*k).value,N,30);return N+"ms "+j},toTransition:()=>{}};return w}Oa.applyToOptions=e=>{const t=E_(e,100,Oa);return e.ease=t.ease,e.duration=on(t.duration),e.type="keyframes",e};function _u({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,v=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let b=n*t;const S=h+b,x=a===void 0?S:a(S);x!==S&&(b=x-h);const g=_=>-b*Math.exp(-_/s),p=_=>x+g(_),w=_=>{const $=g(_),C=p(_);f.done=Math.abs($)<=u,f.value=f.done?x:C};let N,j;const k=_=>{m(f.value)&&(N=_,j=Oa({keyframes:[f.value,v(f.value)],velocity:Ey(p,_,f.value),damping:r,stiffness:o,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:_=>{let $=!1;return!j&&N===void 0&&($=!0,w(_),k(_)),N!==void 0&&_>=N?j.next(_-N):(!$&&w(_),f)}}}function I_(e,t,n){const s=[],r=n||_n.mix||Ty,o=e.length-1;for(let a=0;a<o;a++){let l=r(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Et:t;l=ao(c,l)}s.push(l)}return s}function $_(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const o=e.length;if(ih(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=I_(t,s,r),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Hi(e[h],e[h+1],d);return l[h](f)};return n?d=>u(Nn(e[0],e[o-1],d)):u}function F_(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=Hi(0,t,s);e.push(ge(n,1,r))}}function U_(e){const t=[0];return F_(t,e.length-1),t}function V_(e,t){return e.map(n=>n*t)}function B_(e,t){return e.map(()=>t||xy).splice(0,e.length-1)}function wi({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=Z2(s)?s.map(Fm):Fm(s),o={done:!1,value:t[0]},a=V_(n&&n.length===t.length?n:U_(t),e),l=$_(a,t,{ease:Array.isArray(r)?r:B_(t,r)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const z_=e=>e!==null;function gh(e,{repeat:t,repeatType:n="loop"},s,r=1){const o=e.filter(z_),l=r<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||s===void 0?o[l]:s}const W_={decay:_u,inertia:_u,tween:wi,keyframes:wi,spring:Oa};function Py(e){typeof e.type=="string"&&(e.type=W_[e.type])}class xh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const H_=e=>e/100;class yh extends xh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==ot.now()&&this.tick(ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Py(t);const{type:n=wi,repeat:s=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=t;let{keyframes:l}=t;const c=n||wi;c!==wi&&typeof l[0]!="number"&&(this.mixKeyframes=ao(H_,Ty(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=ph(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:v,onUpdate:b,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?x<0:x>r;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let p=this.currentTime,w=s;if(h){const _=Math.min(this.currentTime,r)/l;let $=Math.floor(_),C=_%1;!C&&_>=1&&(C=1),C===1&&$--,$=Math.min($,h+1),!!($%2)&&(f==="reverse"?(C=1-C,m&&(C-=m/l)):f==="mirror"&&(w=a)),p=Nn(0,1,C)*l}const N=g?{done:!1,value:d[0]}:w.next(p);o&&(N.value=o(N.value));let{done:j}=N;!g&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return k&&v!==_u&&(N.value=gh(d,this.options,S,this.speed)),b&&b(N.value),k&&this.finish(),N}then(t,n){return this.finished.then(t,n)}get duration(){return an(this.calculatedDuration)}get time(){return an(this.currentTime)}set time(t){var n;t=on(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ot.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=an(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:t=C_,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(o=(r=this.options).onPlay)==null||o.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function G_(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ws=e=>e*180/Math.PI,Tu=e=>{const t=ws(Math.atan2(e[1],e[0]));return Cu(t)},X_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Tu,rotateZ:Tu,skewX:e=>ws(Math.atan(e[1])),skewY:e=>ws(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Cu=e=>(e=e%360,e<0&&(e+=360),e),Gm=Tu,Xm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Km=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),K_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xm,scaleY:Km,scale:e=>(Xm(e)+Km(e))/2,rotateX:e=>Cu(ws(Math.atan2(e[6],e[5]))),rotateY:e=>Cu(ws(Math.atan2(-e[2],e[0]))),rotateZ:Gm,rotate:Gm,skewX:e=>ws(Math.atan(e[4])),skewY:e=>ws(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Eu(e){return e.includes("scale")?1:0}function Pu(e,t){if(!e||e==="none")return Eu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=K_,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=X_,r=l}if(!r)return Eu(t);const o=s[t],a=r[1].split(",").map(q_);return typeof o=="function"?o(a):a[o]}const Q_=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Pu(n,t)};function q_(e){return parseFloat(e.trim())}const Ir=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$r=(()=>new Set(Ir))(),Qm=e=>e===Or||e===X,Y_=new Set(["x","y","z"]),J_=Ir.filter(e=>!Y_.has(e));function Z_(e){const t=[];return J_.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ss={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Pu(t,"x"),y:(e,{transform:t})=>Pu(t,"y")};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const ks=new Set;let Du=!1,Au=!1,Ru=!1;function Dy(){if(Au){const e=Array.from(ks).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=Z_(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([o,a])=>{var l;(l=s.getValue(o))==null||l.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Au=!1,Du=!1,ks.forEach(e=>e.complete(Ru)),ks.clear()}function Ay(){ks.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Au=!0)})}function eT(){Ru=!0,Ay(),Dy(),Ru=!1}class vh{constructor(t,n,s,r,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ks.add(this),Du||(Du=!0,fe.read(Ay),fe.resolveKeyframes(Dy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const o=r==null?void 0:r.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const l=s.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),r&&o===void 0&&r.set(t[0])}G_(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ks.delete(this)}cancel(){this.state==="scheduled"&&(ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tT=e=>e.startsWith("--");function nT(e,t,n){tT(t)?e.style.setProperty(t,n):e.style[t]=n}const sT=oh(()=>window.ScrollTimeline!==void 0),rT={};function iT(e,t){const n=oh(e);return()=>rT[t]??n()}const Ry=iT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oi=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,qm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oi([0,.65,.55,1]),circOut:oi([.55,0,1,.45]),backIn:oi([.31,.01,.66,-.59]),backOut:oi([.33,1.53,.69,.99])};function My(e,t){if(e)return typeof e=="function"?Ry()?Cy(e,t):"ease-out":yy(e)?oi(e):Array.isArray(e)?e.map(n=>My(n,t)||qm.easeOut):qm[e]}function oT(e,t,n,{delay:s=0,duration:r=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=My(l,r);Array.isArray(h)&&(d.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function Ly(e){return typeof e=="function"&&"applyToOptions"in e}function aT({type:e,...t}){return Ly(e)&&Ry()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class lT extends xh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=t,ih(typeof t.type!="string");const u=aT(t);this.animation=oT(n,s,r,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=gh(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):nT(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return an(Number(t))}get time(){return an(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=on(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&sT()?(this.animation.timeline=t,Et):n(this)}}const Oy={anticipate:my,backInOut:fy,circInOut:gy};function cT(e){return e in Oy}function uT(e){typeof e.ease=="string"&&cT(e.ease)&&(e.ease=Oy[e.ease])}const Ym=10;class dT extends lT{constructor(t){uT(t),Py(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:o,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new yh({...a,autoplay:!1}),c=on(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Ym).value,l.sample(c).value,Ym),l.stop()}}const Jm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ns.test(e)||e==="0")&&!e.startsWith("url("));function hT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function fT(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=Jm(r,t),l=Jm(o,t);return!a||!l?!1:hT(e)||(n==="spring"||Ly(n))&&s}const mT=new Set(["opacity","clipPath","filter","transform"]),pT=oh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gT(e){var d;const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:o,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return pT()&&n&&mT.has(n)&&(n!=="transform"||!u)&&!c&&!s&&r!=="mirror"&&o!==0&&a!=="inertia"}const xT=40;class yT extends xh{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var b,S;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=ot.now();const f={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:o,repeatType:a,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||vh;this.keyframeResolver=new m(l,(b,S,x)=>this.onKeyframesResolved(b,S,f,!x),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,s,r){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=ot.now(),fT(t,o,a,l)||((_n.instantAnimations||!c)&&(d==null||d(gh(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>xT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!u&&gT(f)?new dT({...f,element:f.motionValue.owner.current}):new yh(f);m.finished.then(()=>this.notifyFinished()).catch(Et),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),eT()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const vT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wT(e){const t=vT.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function Iy(e,t,n=1){const[s,r]=wT(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const a=o.trim();return iy(a)?parseFloat(a):a}return dh(r)?Iy(r,t,n+1):r}function wh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const $y=new Set(["width","height","top","left","right","bottom",...Ir]),bT={test:e=>e==="auto",parse:e=>e},Fy=e=>t=>t.test(e),Uy=[Or,X,ln,In,h_,d_,bT],Zm=e=>Uy.find(Fy(e));function jT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ay(e):!0}const ST=new Set(["brightness","contrast","saturate","opacity"]);function kT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(hh)||[];if(!s)return e;const r=n.replace(s,"");let o=ST.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+r+")"}const NT=/\b([a-z-]*)\(.*?\)/gu,Mu={...ns,getAnimatableNone:e=>{const t=e.match(NT);return t?t.map(kT).join(" "):e}},ep={...Or,transform:Math.round},_T={rotate:In,rotateX:In,rotateY:In,rotateZ:In,scale:Io,scaleX:Io,scaleY:Io,scaleZ:Io,skew:In,skewX:In,skewY:In,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:Gi,originX:Vm,originY:Vm,originZ:X},bh={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X,..._T,zIndex:ep,fillOpacity:Gi,strokeOpacity:Gi,numOctaves:ep},TT={...bh,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Mu,WebkitFilter:Mu},Vy=e=>TT[e];function By(e,t){let n=Vy(e);return n!==Mu&&(n=ns),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const CT=new Set(["auto","none","0"]);function ET(e,t,n){let s=0,r;for(;s<e.length&&!r;){const o=e[s];typeof o=="string"&&!CT.has(o)&&Xi(o).values.length&&(r=e[s]),s++}if(r&&n)for(const o of t)e[o]=By(n,r)}class PT extends vh{constructor(t,n,s,r,o){super(t,n,s,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),dh(u))){const d=Iy(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$y.has(s)||t.length!==2)return;const[r,o]=t,a=Zm(r),l=Zm(o);if(a!==l)if(Qm(a)&&Qm(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Ss[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||jT(t[r]))&&s.push(r);s.length&&ET(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ss[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Ss[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function DT(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const r=(n==null?void 0:n[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const zy=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Wy(e){return oy(e)&&"offsetHeight"in e}const tp=30,AT=e=>!isNaN(parseFloat(e));class RT{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var a,l;const o=ot.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ot.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=AT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ah);const s=this.events[t].add(n);return t==="change"?()=>{s(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tp);return ly(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nr(e,t){return new RT(e,t)}const{schedule:jh,cancel:MP}=vy(queueMicrotask,!1),It={x:!1,y:!1};function Hy(){return It.x||It.y}function MT(e){return e==="x"||e==="y"?It[e]?null:(It[e]=!0,()=>{It[e]=!1}):It.x||It.y?null:(It.x=It.y=!0,()=>{It.x=It.y=!1})}function Gy(e,t){const n=DT(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function np(e){return!(e.pointerType==="touch"||Hy())}function LT(e,t,n={}){const[s,r,o]=Gy(e,n),a=l=>{if(!np(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{np(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return s.forEach(l=>{l.addEventListener("pointerenter",a,r)}),o}const Xy=(e,t)=>t?e===t?!0:Xy(e,t.parentElement):!1,Sh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,OT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IT(e){return OT.has(e.tagName)||e.tabIndex!==-1}const na=new WeakSet;function sp(e){return t=>{t.key==="Enter"&&e(t)}}function oc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $T=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=sp(()=>{if(na.has(n))return;oc(n,"down");const r=sp(()=>{oc(n,"up")}),o=()=>oc(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function rp(e){return Sh(e)&&!Hy()}function FT(e,t,n={}){const[s,r,o]=Gy(e,n),a=l=>{const c=l.currentTarget;if(!rp(l))return;na.add(c);const u=t(c,l),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),na.has(c)&&na.delete(c),rp(m)&&typeof u=="function"&&u(m,{success:v})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||Xy(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),Wy(l)&&(l.addEventListener("focus",u=>$T(u,r)),!IT(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function Ky(e){return oy(e)&&"ownerSVGElement"in e}function UT(e){return Ky(e)&&e.tagName==="svg"}const Xe=e=>!!(e&&e.getVelocity),VT=[...Uy,Ne,ns],BT=e=>VT.find(Fy(e)),kh=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class zT extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=Wy(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WT({children:e,isPresent:t,anchorX:n,root:s}){const r=y.useId(),o=y.useRef(null),a=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(kh);return y.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:f}=a.current;if(t||!o.current||!c||!u)return;const m=n==="left"?`left: ${h}`:`right: ${f}`;o.current.dataset.motionPopId=r;const v=document.createElement("style");l&&(v.nonce=l);const b=s??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{b.removeChild(v),b.contains(v)&&b.removeChild(v)}},[t]),i.jsx(zT,{isPresent:t,childRef:o,sizeRef:a,children:y.cloneElement(e,{ref:o})})}const HT=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:o,mode:a,anchorX:l,root:c})=>{const u=th(GT),d=y.useId();let h=!0,f=y.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:r,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;s&&s()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,s]);return o&&h&&(f={...f}),y.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[n]),y.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),a==="popLayout"&&(e=i.jsx(WT,{isPresent:n,anchorX:l,root:c,children:e})),i.jsx(ul.Provider,{value:f,children:e})};function GT(){return new Map}function Qy(e=!0){const t=y.useContext(ul);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,o=y.useId();y.useEffect(()=>{if(e)return r(o)},[e]);const a=y.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,a]:[!0]}const $o=e=>e.key||"";function ip(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const Xt=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=Qy(a),h=y.useMemo(()=>ip(e),[e]),f=a&&!u?[]:h.map($o),m=y.useRef(!0),v=y.useRef(h),b=th(()=>new Map),[S,x]=y.useState(h),[g,p]=y.useState(h);ry(()=>{m.current=!1,v.current=h;for(let j=0;j<g.length;j++){const k=$o(g[j]);f.includes(k)?b.delete(k):b.get(k)!==!0&&b.set(k,!1)}},[g,f.length,f.join("-")]);const w=[];if(h!==S){let j=[...h];for(let k=0;k<g.length;k++){const _=g[k],$=$o(_);f.includes($)||(j.splice(k,0,_),w.push(_))}return o==="wait"&&w.length&&(j=w),p(ip(j)),x(h),null}const{forceRender:N}=y.useContext(eh);return i.jsx(i.Fragment,{children:g.map(j=>{const k=$o(j),_=a&&!u?!1:h===g||f.includes(k),$=()=>{if(b.has(k))b.set(k,!0);else return;let C=!0;b.forEach(V=>{V||(C=!1)}),C&&(N==null||N(),p(v.current),a&&(d==null||d()),s&&s())};return i.jsx(HT,{isPresent:_,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:c,onExitComplete:_?void 0:$,anchorX:l,children:j},k)})})},qy=y.createContext({strict:!1}),op={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_r={};for(const e in op)_r[e]={isEnabled:t=>op[e].some(n=>!!t[n])};function XT(e){for(const t in e)_r[t]={..._r[t],...e[t]}}const KT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ia(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||KT.has(e)}let Yy=e=>!Ia(e);function QT(e){typeof e=="function"&&(Yy=t=>t.startsWith("on")?!Ia(t):e(t))}try{QT(require("@emotion/is-prop-valid").default)}catch{}function qT(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(Yy(r)||n===!0&&Ia(r)||!t&&!Ia(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const dl=y.createContext({});function hl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ki(e){return typeof e=="string"||Array.isArray(e)}const Nh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_h=["initial",...Nh];function fl(e){return hl(e.animate)||_h.some(t=>Ki(e[t]))}function Jy(e){return!!(fl(e)||e.variants)}function YT(e,t){if(fl(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ki(n)?n:void 0,animate:Ki(s)?s:void 0}}return e.inherit!==!1?t:{}}function JT(e){const{initial:t,animate:n}=YT(e,y.useContext(dl));return y.useMemo(()=>({initial:t,animate:n}),[ap(t),ap(n)])}function ap(e){return Array.isArray(e)?e.join(" "):e}const Qi={};function ZT(e){for(const t in e)Qi[t]=e[t],uh(t)&&(Qi[t].isCSSVariable=!0)}function Zy(e,{layout:t,layoutId:n}){return $r.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Qi[e]||e==="opacity")}const eC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tC=Ir.length;function nC(e,t,n){let s="",r=!0;for(let o=0;o<tC;o++){const a=Ir[o],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=zy(l,bh[a]);if(!c){r=!1;const d=eC[a]||a;s+=`${d}(${u}) `}n&&(t[a]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function Th(e,t,n){const{style:s,vars:r,transformOrigin:o}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if($r.has(c)){a=!0;continue}else if(uh(c)){r[c]=u;continue}else{const d=zy(u,bh[c]);c.startsWith("origin")?(l=!0,o[c]=d):s[c]=d}}if(t.transform||(a||n?s.transform=nC(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;s.transformOrigin=`${c} ${u} ${d}`}}const Ch=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ev(e,t,n){for(const s in t)!Xe(t[s])&&!Zy(s,n)&&(e[s]=t[s])}function sC({transformTemplate:e},t){return y.useMemo(()=>{const n=Ch();return Th(n,t,e),Object.assign({},n.vars,n.style)},[t])}function rC(e,t){const n=e.style||{},s={};return ev(s,n,e),Object.assign(s,sC(e,t)),s}function iC(e,t){const n={},s=rC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const oC={offset:"stroke-dashoffset",array:"stroke-dasharray"},aC={offset:"strokeDashoffset",array:"strokeDasharray"};function lC(e,t,n=1,s=0,r=!0){e.pathLength=1;const o=r?oC:aC;e[o.offset]=X.transform(-s);const a=X.transform(t),l=X.transform(n);e[o.array]=`${a} ${l}`}function tv(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:o=1,pathOffset:a=0,...l},c,u,d){if(Th(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&lC(h,r,o,a,!1)}const nv=()=>({...Ch(),attrs:{}}),sv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cC(e,t,n,s){const r=y.useMemo(()=>{const o=nv();return tv(o,t,sv(s),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};ev(o,e.style,e),r.style={...o,...r.style}}return r}const uC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eh(e){return typeof e!="string"||e.includes("-")?!1:!!(uC.indexOf(e)>-1||/[A-Z]/u.test(e))}function dC(e,t,n,{latestValues:s},r,o=!1){const l=(Eh(e)?cC:iC)(t,s,r,e),c=qT(t,typeof e=="string",o),u=e!==y.Fragment?{...c,...l,ref:n}:{},{children:d}=t,h=y.useMemo(()=>Xe(d)?d.get():d,[d]);return y.createElement(e,{...u,children:h})}function lp(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Ph(e,t,n,s){if(typeof t=="function"){const[r,o]=lp(s);t=t(n!==void 0?n:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=lp(s);t=t(n!==void 0?n:e.custom,r,o)}return t}function sa(e){return Xe(e)?e.get():e}function hC({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:fC(n,s,r,e),renderState:t()}}function fC(e,t,n,s){const r={},o=s(e,{});for(const f in o)r[f]=sa(o[f]);let{initial:a,animate:l}=e;const c=fl(e),u=Jy(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!hl(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const v=Ph(e,f[m]);if(v){const{transitionEnd:b,transition:S,...x}=v;for(const g in x){let p=x[g];if(Array.isArray(p)){const w=d?p.length-1:0;p=p[w]}p!==null&&(r[g]=p)}for(const g in b)r[g]=b[g]}}}return r}const rv=e=>(t,n)=>{const s=y.useContext(dl),r=y.useContext(ul),o=()=>hC(e,t,s,r);return n?o():th(o)};function Dh(e,t,n){var o;const{style:s}=e,r={};for(const a in s)(Xe(s[a])||t.style&&Xe(t.style[a])||Zy(a,e)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(r[a]=s[a]);return r}const mC=rv({scrapeMotionValuesFromProps:Dh,createRenderState:Ch});function iv(e,t,n){const s=Dh(e,t,n);for(const r in e)if(Xe(e[r])||Xe(t[r])){const o=Ir.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[o]=e[r]}return s}const pC=rv({scrapeMotionValuesFromProps:iv,createRenderState:nv}),gC=Symbol.for("motionComponentSymbol");function sr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xC(e,t,n){return y.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):sr(n)&&(n.current=s))},[t])}const Ah=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yC="framerAppearId",ov="data-"+Ah(yC),av=y.createContext({});function vC(e,t,n,s,r){var b,S;const{visualElement:o}=y.useContext(dl),a=y.useContext(qy),l=y.useContext(ul),c=y.useContext(kh).reducedMotion,u=y.useRef(null);s=s||a.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=y.useContext(av);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&wC(u.current,n,r,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const m=n[ov],v=y.useRef(!!m&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return ry(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,m)}),v.current=!1))}),d}function wC(e,t,n,s){const{layoutId:r,layout:o,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:lv(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!a||l&&sr(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function lv(e){if(e)return e.options.allowProjection!==!1?e.projection:lv(e.parent)}function ac(e,{forwardMotionProps:t=!1}={},n,s){n&&XT(n);const r=Eh(e)?pC:mC;function o(l,c){let u;const d={...y.useContext(kh),...l,layoutId:bC(l)},{isStatic:h}=d,f=JT(l),m=r(l,h);if(!h&&nh){jC();const v=SC(d);u=v.MeasureLayout,f.visualElement=vC(e,m,d,s,v.ProjectionNode)}return i.jsxs(dl.Provider,{value:f,children:[u&&f.visualElement?i.jsx(u,{visualElement:f.visualElement,...d}):null,dC(e,l,xC(m,f.visualElement,c),m,h,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=y.forwardRef(o);return a[gC]=e,a}function bC({layoutId:e}){const t=y.useContext(eh).id;return t&&e!==void 0?t+"-"+e:e}function jC(e,t){y.useContext(qy).strict}function SC(e){const{drag:t,layout:n}=_r;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function kC(e,t){if(typeof Proxy>"u")return ac;const n=new Map,s=(o,a)=>ac(o,a,e,t),r=(o,a)=>s(o,a);return new Proxy(r,{get:(o,a)=>a==="create"?s:(n.has(a)||n.set(a,ac(a,void 0,e,t)),n.get(a))})}function cv({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function NC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _C(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function lc(e){return e===void 0||e===1}function Lu({scale:e,scaleX:t,scaleY:n}){return!lc(e)||!lc(t)||!lc(n)}function ms(e){return Lu(e)||uv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uv(e){return cp(e.x)||cp(e.y)}function cp(e){return e&&e!=="0%"}function $a(e,t,n){const s=e-n,r=t*s;return n+r}function up(e,t,n,s,r){return r!==void 0&&(e=$a(e,r,s)),$a(e,n,s)+t}function Ou(e,t=0,n=1,s,r){e.min=up(e.min,t,n,s,r),e.max=up(e.max,t,n,s,r)}function dv(e,{x:t,y:n}){Ou(e.x,t.translate,t.scale,t.originPoint),Ou(e.y,n.translate,n.scale,n.originPoint)}const dp=.999999999999,hp=1.0000000000001;function TC(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let o,a;for(let l=0;l<r;l++){o=n[l],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ir(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,dv(e,a)),s&&ms(o.latestValues)&&ir(e,o.latestValues))}t.x<hp&&t.x>dp&&(t.x=1),t.y<hp&&t.y>dp&&(t.y=1)}function rr(e,t){e.min=e.min+t,e.max=e.max+t}function fp(e,t,n,s,r=.5){const o=ge(e.min,e.max,r);Ou(e,t,n,o,s)}function ir(e,t){fp(e.x,t.x,t.scaleX,t.scale,t.originX),fp(e.y,t.y,t.scaleY,t.scale,t.originY)}function hv(e,t){return cv(_C(e.getBoundingClientRect(),t))}function CC(e,t,n){const s=hv(e,n),{scroll:r}=t;return r&&(rr(s.x,r.offset.x),rr(s.y,r.offset.y)),s}const mp=()=>({translate:0,scale:1,origin:0,originPoint:0}),or=()=>({x:mp(),y:mp()}),pp=()=>({min:0,max:0}),Se=()=>({x:pp(),y:pp()}),Iu={current:null},fv={current:!1};function EC(){if(fv.current=!0,!!nh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Iu.current=e.matches;e.addEventListener("change",t),t()}else Iu.current=!1}const PC=new WeakMap;function DC(e,t,n){for(const s in t){const r=t[s],o=n[s];if(Xe(r))e.addValue(s,r);else if(Xe(o))e.addValue(s,Nr(r,{owner:e}));else if(o!==r)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(s);e.addValue(s,Nr(a!==void 0?a:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const gp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AC{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ot.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,fe.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=fl(n),this.isVariantNode=Jy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Xe(m)&&m.set(c[f],!1)}}mount(t){this.current=t,PC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),fv.current||EC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Iu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=$r.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&fe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _r){const n=_r[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Se()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<gp.length;s++){const r=gp[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,a=t[o];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=DC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Nr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(iy(s)||ay(s))?s=parseFloat(s):!BT(s)&&ns.test(n)&&(s=By(t,n)),this.setBaseTarget(t,Xe(s)?s.get():s)),Xe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Ph(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Xe(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ah),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){jh.render(this.render)}}class mv extends AC{constructor(){super(...arguments),this.KeyframeResolver=PT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pv(e,{style:t,vars:n},s,r){const o=e.style;let a;for(a in t)o[a]=t[a];r==null||r.applyProjectionStyles(o,s);for(a in n)o.setProperty(a,n[a])}function RC(e){return window.getComputedStyle(e)}class MC extends mv{constructor(){super(...arguments),this.type="html",this.renderInstance=pv}readValueFromInstance(t,n){var s;if($r.has(n))return(s=this.projection)!=null&&s.isProjecting?Eu(n):Q_(t,n);{const r=RC(t),o=(uh(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return hv(t,n)}build(t,n,s){Th(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Dh(t,n,s)}}const gv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LC(e,t,n,s){pv(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(gv.has(r)?r:Ah(r),t.attrs[r])}class OC extends mv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Se}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($r.has(n)){const s=Vy(n);return s&&s.default||0}return n=gv.has(n)?n:Ah(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return iv(t,n,s)}build(t,n,s){tv(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){LC(t,n,s,r)}mount(t){this.isSVGTag=sv(t.tagName),super.mount(t)}}const IC=(e,t)=>Eh(e)?new OC(t):new MC(t,{allowProjection:e!==y.Fragment});function qi(e,t,n){const s=e.getProps();return Ph(s,t,n!==void 0?n:s.custom,e)}const $u=e=>Array.isArray(e);function $C(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Nr(n))}function FC(e){return $u(e)?e[e.length-1]||0:e}function UC(e,t){const n=qi(e,t);let{transitionEnd:s={},transition:r={},...o}=n||{};o={...o,...s};for(const a in o){const l=FC(o[a]);$C(e,a,l)}}function VC(e){return!!(Xe(e)&&e.add)}function Fu(e,t){const n=e.getValue("willChange");if(VC(n))return n.add(t);if(!n&&_n.WillChange){const s=new _n.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function xv(e){return e.props[ov]}const BC=e=>e!==null;function zC(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(BC),o=t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||s===void 0?r[o]:s}const WC={type:"spring",stiffness:500,damping:25,restSpeed:10},HC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),GC={type:"keyframes",duration:.8},XC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KC=(e,{keyframes:t})=>t.length>2?GC:$r.has(e)?e.startsWith("scale")?HC(t[1]):WC:XC;function QC({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Rh=(e,t,n,s={},r,o)=>a=>{const l=wh(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-on(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:r};QC(l)||Object.assign(d,KC(e,d)),d.duration&&(d.duration=on(d.duration)),d.repeatDelay&&(d.repeatDelay=on(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(_n.instantAnimations||_n.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!o&&t.get()!==void 0){const f=zC(d.keyframes,l);if(f!==void 0){fe.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new yh(d):new yT(d)};function qC({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function yv(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;s&&(o=s);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&qC(u,d))continue;const m={delay:n,...wh(o||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const x=xv(e);if(x){const g=window.MotionHandoffAnimation(x,d,fe);g!==null&&(m.startTime=g,b=!0)}}Fu(e,d),h.start(Rh(d,h,f,e.shouldReduceMotion&&$y.has(d)?{type:!1}:m,e,b));const S=h.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{fe.update(()=>{a&&UC(e,a)})}),c}function Uu(e,t,n={}){var c;const s=qi(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const o=s?()=>Promise.all(yv(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return YC(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function YC(e,t,n=0,s=0,r=0,o=1,a){const l=[],c=e.variantChildren.size,u=(c-1)*r,d=typeof s=="function",h=d?f=>s(f,c):o===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(e.variantChildren).sort(JC).forEach((f,m)=>{f.notify("AnimationStart",t),l.push(Uu(f,t,{...a,delay:n+(d?0:s)+h(m)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function JC(e,t){return e.sortNodePosition(t)}function ZC(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(o=>Uu(e,o,n));s=Promise.all(r)}else if(typeof t=="string")s=Uu(e,t,n);else{const r=typeof t=="function"?qi(e,t,n.custom):t;s=Promise.all(yv(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function vv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const e5=_h.length;function wv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?wv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<e5;n++){const s=_h[n],r=e.props[s];(Ki(r)||r===!1)&&(t[s]=r)}return t}const t5=[...Nh].reverse(),n5=Nh.length;function s5(e){return t=>Promise.all(t.map(({animation:n,options:s})=>ZC(e,n,s)))}function r5(e){let t=s5(e),n=xp(),s=!0;const r=c=>(u,d)=>{var f;const h=qi(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,...b}=h;u={...u,...b,...v}}return u};function o(c){t=c(e)}function a(c){const{props:u}=e,d=wv(e.parent)||{},h=[],f=new Set;let m={},v=1/0;for(let S=0;S<n5;S++){const x=t5[S],g=n[x],p=u[x]!==void 0?u[x]:d[x],w=Ki(p),N=x===c?g.isActive:null;N===!1&&(v=S);let j=p===d[x]&&p!==u[x]&&w;if(j&&s&&e.manuallyAnimateOnMount&&(j=!1),g.protectedKeys={...m},!g.isActive&&N===null||!p&&!g.prevProp||hl(p)||typeof p=="boolean")continue;const k=i5(g.prevProp,p);let _=k||x===c&&g.isActive&&!j&&w||S>v&&w,$=!1;const C=Array.isArray(p)?p:[p];let V=C.reduce(r(x),{});N===!1&&(V={});const{prevResolvedValues:Z={}}=g,ne={...Z,...V},A=E=>{_=!0,f.has(E)&&($=!0,f.delete(E)),g.needsAnimating[E]=!0;const T=e.getValue(E);T&&(T.liveStyle=!1)};for(const E in ne){const T=V[E],D=Z[E];if(m.hasOwnProperty(E))continue;let F=!1;$u(T)&&$u(D)?F=!vv(T,D):F=T!==D,F?T!=null?A(E):f.add(E):T!==void 0&&f.has(E)?A(E):g.protectedKeys[E]=!0}g.prevProp=p,g.prevResolvedValues=V,g.isActive&&(m={...m,...V}),s&&e.blockInitialAnimation&&(_=!1),_&&(!(j&&k)||$)&&h.push(...C.map(E=>({animation:E,options:{type:x}})))}if(f.size){const S={};if(typeof u.initial!="boolean"){const x=qi(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(S.transition=x.transition)}f.forEach(x=>{const g=e.getBaseTarget(x),p=e.getValue(x);p&&(p.liveStyle=!0),S[x]=g??null}),h.push({animation:S})}let b=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=xp(),s=!0}}}function i5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vv(t,e):!1}function us(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xp(){return{animate:us(!0),whileInView:us(),whileHover:us(),whileTap:us(),whileDrag:us(),whileFocus:us(),exit:us()}}class as{constructor(t){this.isMounted=!1,this.node=t}update(){}}class o5 extends as{constructor(t){super(t),t.animationState||(t.animationState=r5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let a5=0;class l5 extends as{constructor(){super(...arguments),this.id=a5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const c5={animation:{Feature:o5},exit:{Feature:l5}};function Yi(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function uo(e){return{point:{x:e.pageX,y:e.pageY}}}const u5=e=>t=>Sh(t)&&e(t,uo(t));function bi(e,t,n,s){return Yi(e,t,u5(n),s)}const bv=1e-4,d5=1-bv,h5=1+bv,jv=.01,f5=0-jv,m5=0+jv;function Ze(e){return e.max-e.min}function p5(e,t,n){return Math.abs(e-t)<=n}function yp(e,t,n,s=.5){e.origin=s,e.originPoint=ge(t.min,t.max,e.origin),e.scale=Ze(n)/Ze(t),e.translate=ge(n.min,n.max,e.origin)-e.originPoint,(e.scale>=d5&&e.scale<=h5||isNaN(e.scale))&&(e.scale=1),(e.translate>=f5&&e.translate<=m5||isNaN(e.translate))&&(e.translate=0)}function ji(e,t,n,s){yp(e.x,t.x,n.x,s?s.originX:void 0),yp(e.y,t.y,n.y,s?s.originY:void 0)}function vp(e,t,n){e.min=n.min+t.min,e.max=e.min+Ze(t)}function g5(e,t,n){vp(e.x,t.x,n.x),vp(e.y,t.y,n.y)}function wp(e,t,n){e.min=t.min-n.min,e.max=e.min+Ze(t)}function Si(e,t,n){wp(e.x,t.x,n.x),wp(e.y,t.y,n.y)}function jt(e){return[e("x"),e("y")]}const Sv=({current:e})=>e?e.ownerDocument.defaultView:null,bp=(e,t)=>Math.abs(e-t);function x5(e,t){const n=bp(e.x,t.x),s=bp(e.y,t.y);return Math.sqrt(n**2+s**2)}class kv{constructor(t,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=uc(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=x5(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:b}=f,{timestamp:S}=Ue;this.history.push({...b,timestamp:S});const{onStart:x,onMove:g}=this.handlers;m||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=cc(m,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=uc(f.type==="pointercancel"?this.lastMoveEventInfo:cc(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,x),b&&b(f,x)},!Sh(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=r||window;const l=uo(t),c=cc(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ue;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,uc(c,this.history)),this.removeListeners=ao(bi(this.contextWindow,"pointermove",this.handlePointerMove),bi(this.contextWindow,"pointerup",this.handlePointerUp),bi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function cc(e,t){return t?{point:t(e.point)}:e}function jp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function uc({point:e},t){return{point:e,delta:jp(e,Nv(t)),offset:jp(e,y5(t)),velocity:v5(t,.1)}}function y5(e){return e[0]}function Nv(e){return e[e.length-1]}function v5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=Nv(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>on(t)));)n--;if(!s)return{x:0,y:0};const o=an(r.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-s.x)/o,y:(r.y-s.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function w5(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ge(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ge(n,e,s.max):Math.min(e,n)),e}function Sp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function b5(e,{top:t,left:n,bottom:s,right:r}){return{x:Sp(e.x,n,r),y:Sp(e.y,t,s)}}function kp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function j5(e,t){return{x:kp(e.x,t.x),y:kp(e.y,t.y)}}function S5(e,t){let n=.5;const s=Ze(e),r=Ze(t);return r>s?n=Hi(t.min,t.max-s,e.min):s>r&&(n=Hi(e.min,e.max-r,t.min)),Nn(0,1,n)}function k5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vu=.35;function N5(e=Vu){return e===!1?e=0:e===!0&&(e=Vu),{x:Np(e,"left","right"),y:Np(e,"top","bottom")}}function Np(e,t,n){return{min:_p(e,t),max:_p(e,n)}}function _p(e,t){return typeof e=="number"?e:e[t]||0}const _5=new WeakMap;class T5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Se(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uo(h).point)},a=(h,f)=>{const{drag:m,dragPropagation:v,onDragStart:b}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=MT(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jt(x=>{let g=this.getAxisMotionValue(x).get()||0;if(ln.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[x];w&&(g=Ze(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),b&&fe.postRender(()=>b(h,f)),Fu(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:b,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=f;if(v&&this.currentDirection===null){this.currentDirection=C5(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),S&&S(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>jt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new kv(t,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:Sv(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&fe.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!Fo(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=w5(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;t&&sr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=b5(s.layoutBox,t):this.constraints=!1,this.elastic=N5(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=k5(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sr(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=CC(s,r.root,this.visualElement.getTransformPagePoint());let a=j5(r.layout.layoutBox,o);if(n){const l=n(NC(a));this.hasMutatedConstraints=!!l,l&&(a=cv(l))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=jt(d=>{if(!Fo(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Fu(this.visualElement,t),s.start(Rh(t,s,0,n,this.visualElement,!1))}stopAnimation(){jt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){jt(n=>{const{drag:s}=this.getProps();if(!Fo(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];o.set(t[n]-ge(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!sr(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};jt(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=S5({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),jt(a=>{if(!Fo(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(ge(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;_5.set(this.visualElement,this);const t=this.visualElement.current,n=bi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();sr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),fe.read(s);const a=Yi(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(jt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=Vu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Fo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function C5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class E5 extends as{constructor(t){super(t),this.removeGroupControls=Et,this.removeListeners=Et,this.controls=new T5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Et}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tp=e=>(t,n)=>{e&&fe.postRender(()=>e(t,n))};class P5 extends as{constructor(){super(...arguments),this.removePointerDownListener=Et}onPointerDown(t){this.session=new kv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Tp(t),onStart:Tp(n),onMove:s,onEnd:(o,a)=>{delete this.session,r&&fe.postRender(()=>r(o,a))}}}mount(){this.removePointerDownListener=bi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ra={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(X.test(e))e=parseFloat(e);else return e;const n=Cp(e,t.target.x),s=Cp(e,t.target.y);return`${n}% ${s}%`}},D5={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=ns.parse(e);if(r.length>5)return s;const o=ns.createTransformer(e),a=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+a]/=l,r[1+a]/=c;const u=ge(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),o(r)}};let Ep=!1;class A5 extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:o}=t;ZT(R5),o&&(n.group&&n.group.add(o),s&&s.register&&r&&s.register(o),Ep&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ra.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:o}=this.props,{projection:a}=s;return a&&(a.isPresent=o,Ep=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||fe.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),jh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _v(e){const[t,n]=Qy(),s=y.useContext(eh);return i.jsx(A5,{...e,layoutGroup:s,switchLayoutGroup:y.useContext(av),isPresent:t,safeToRemove:n})}const R5={borderRadius:{...Jr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jr,borderTopRightRadius:Jr,borderBottomLeftRadius:Jr,borderBottomRightRadius:Jr,boxShadow:D5};function M5(e,t,n){const s=Xe(e)?e:Nr(e);return s.start(Rh("",s,t,n)),s.animation}const L5=(e,t)=>e.depth-t.depth;class O5{constructor(){this.children=[],this.isDirty=!1}add(t){sh(this.children,t),this.isDirty=!0}remove(t){rh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(L5),this.isDirty=!1,this.children.forEach(t)}}function I5(e,t){const n=ot.now(),s=({timestamp:r})=>{const o=r-n;o>=t&&(ts(s),e(o-t))};return fe.setup(s,!0),()=>ts(s)}const Tv=["TopLeft","TopRight","BottomLeft","BottomRight"],$5=Tv.length,Pp=e=>typeof e=="string"?parseFloat(e):e,Dp=e=>typeof e=="number"||X.test(e);function F5(e,t,n,s,r,o){r?(e.opacity=ge(0,n.opacity??1,U5(s)),e.opacityExit=ge(t.opacity??1,0,V5(s))):o&&(e.opacity=ge(t.opacity??1,n.opacity??1,s));for(let a=0;a<$5;a++){const l=`border${Tv[a]}Radius`;let c=Ap(t,l),u=Ap(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Dp(c)===Dp(u)?(e[l]=Math.max(ge(Pp(c),Pp(u),s),0),(ln.test(u)||ln.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ge(t.rotate||0,n.rotate||0,s))}function Ap(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const U5=Cv(0,.5,py),V5=Cv(.5,.95,Et);function Cv(e,t,n){return s=>s<e?0:s>t?1:n(Hi(e,t,s))}function Rp(e,t){e.min=t.min,e.max=t.max}function wt(e,t){Rp(e.x,t.x),Rp(e.y,t.y)}function Mp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Lp(e,t,n,s,r){return e-=t,e=$a(e,1/n,s),r!==void 0&&(e=$a(e,1/r,s)),e}function B5(e,t=0,n=1,s=.5,r,o=e,a=e){if(ln.test(t)&&(t=parseFloat(t),t=ge(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=ge(o.min,o.max,s);e===o&&(l-=t),e.min=Lp(e.min,t,n,l,r),e.max=Lp(e.max,t,n,l,r)}function Op(e,t,[n,s,r],o,a){B5(e,t[n],t[s],t[r],t.scale,o,a)}const z5=["x","scaleX","originX"],W5=["y","scaleY","originY"];function Ip(e,t,n,s){Op(e.x,t,z5,n?n.x:void 0,s?s.x:void 0),Op(e.y,t,W5,n?n.y:void 0,s?s.y:void 0)}function $p(e){return e.translate===0&&e.scale===1}function Ev(e){return $p(e.x)&&$p(e.y)}function Fp(e,t){return e.min===t.min&&e.max===t.max}function H5(e,t){return Fp(e.x,t.x)&&Fp(e.y,t.y)}function Up(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Pv(e,t){return Up(e.x,t.x)&&Up(e.y,t.y)}function Vp(e){return Ze(e.x)/Ze(e.y)}function Bp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class G5{constructor(){this.members=[]}add(t){sh(this.members,t),t.scheduleRender()}remove(t){if(rh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X5(e,t,n){let s="";const r=e.x.translate/t.x,o=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((r||o||a)&&(s=`translate3d(${r}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),v&&(s+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const dc=["","X","Y","Z"],K5=1e3;let Q5=0;function hc(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Dv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=xv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",fe,!(r||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Dv(s)}function Av({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=t==null?void 0:t()){this.id=Q5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J5),this.nodes.forEach(nE),this.nodes.forEach(sE),this.nodes.forEach(Z5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new O5)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ah),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ky(a)&&!UT(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;fe.read(()=>{h=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=I5(f,250),ra.hasAnimatedSinceResize&&(ra.hasAnimatedSinceResize=!1,this.nodes.forEach(Hp)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||lE,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=u.getProps(),x=!this.targetLayout||!Pv(this.targetLayout,m),g=!h&&f;if(this.options.layoutRoot||this.resumeFrom||g||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const p={...wh(v,"layout"),onPlay:b,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p),this.setAnimationOrigin(d,g)}else h||Hp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rE),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tE),this.nodes.forEach(q5),this.nodes.forEach(Y5)):this.nodes.forEach(Wp),this.clearAllSnapshots();const l=ot.now();Ue.delta=Nn(0,1e3/60,l-Ue.timestamp),Ue.timestamp=l,Ue.isProcessing=!0,tc.update.process(Ue),tc.preRender.process(Ue),tc.render.process(Ue),Ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eE),this.sharedNodes.forEach(iE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ze(this.snapshot.measuredBox.x)&&!Ze(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ev(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||ms(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),cE(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Se();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(uE))){const{scroll:d}=this.root;d&&(rr(l.x,d.offset.x),rr(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Se();if(wt(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&wt(l,a),rr(l.x,h.offset.x),rr(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=Se();wt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ir(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ms(d.latestValues)&&ir(c,d.latestValues)}return ms(this.latestValues)&&ir(c,this.latestValues),c}removeTransform(a){const l=Se();wt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ms(u.latestValues))continue;Lu(u.latestValues)&&u.updateSnapshot();const d=Se(),h=u.measurePageBox();wt(d,h),Ip(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ms(this.latestValues)&&Ip(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ue.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),Si(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Se(),this.targetWithTransforms=Se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),g5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wt(this.target,this.layout.layoutBox),dv(this.target,this.targetDelta)):wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),Si(this.relativeTargetOrigin,this.target,m.target),wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lu(this.parent.latestValues)||uv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ue.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;wt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;TC(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Se());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mp(this.prevProjectionDelta.x,this.projectionDelta.x),Mp(this.prevProjectionDelta.y,this.projectionDelta.y)),ji(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Bp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=or(),this.projectionDelta=or(),this.projectionDeltaWithTransform=or()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=or();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Se(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,b=m!==v,S=this.getStack(),x=!S||S.members.length<=1,g=!!(b&&!x&&this.options.crossfade===!0&&!this.path.some(aE));this.animationProgress=0;let p;this.mixTargetDelta=w=>{const N=w/1e3;Gp(h.x,a.x,N),Gp(h.y,a.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Si(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oE(this.relativeTarget,this.relativeTargetOrigin,f,N),p&&H5(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=Se()),wt(p,this.relativeTarget)),b&&(this.animationValues=d,F5(d,u,this.latestValues,N,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{ra.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nr(0)),this.currentAnimation=M5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(K5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Rv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Se();const h=Ze(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Ze(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}wt(l,c),ir(l,d),ji(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new G5),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&hc("z",a,u,this.animationValues);for(let d=0;d<dc.length;d++)hc(`rotate${dc[d]}`,a,u,this.animationValues),hc(`skew${dc[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=sa(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=sa(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ms(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=X5(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Qi){if(d[v]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:x}=Qi[v],g=h==="none"?d[v]:b(d[v],u);if(S){const p=S.length;for(let w=0;w<p;w++)a[S[w]]=g}else x?this.options.visualElement.renderState.vars[v]=g:a[v]=g}this.options.layoutId&&(a.pointerEvents=u===this?sa(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(zp),this.root.sharedNodes.clear()}}}function q5(e){e.updateLayout()}function Y5(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:o}=e.options,a=t.source!==e.layout.source;o==="size"?jt(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],m=Ze(f);f.min=s[h].min,f.max=f.min+m}):Rv(o,t.layoutBox,s)&&jt(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],m=Ze(s[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=or();ji(l,s,t.layoutBox);const c=or();a?ji(c,e.applyTransform(r,!0),t.measuredBox):ji(c,s,t.layoutBox);const u=!Ev(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=Se();Si(v,t.layoutBox,f.layoutBox);const b=Se();Si(b,s,m.layoutBox),Pv(v,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function J5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Z5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eE(e){e.clearSnapshot()}function zp(e){e.clearMeasurements()}function Wp(e){e.isLayoutDirty=!1}function tE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Hp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nE(e){e.resolveTargetDelta()}function sE(e){e.calcProjection()}function rE(e){e.resetSkewAndRotation()}function iE(e){e.removeLeadSnapshot()}function Gp(e,t,n){e.translate=ge(t.translate,0,n),e.scale=ge(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xp(e,t,n,s){e.min=ge(t.min,n.min,s),e.max=ge(t.max,n.max,s)}function oE(e,t,n,s){Xp(e.x,t.x,n.x,s),Xp(e.y,t.y,n.y,s)}function aE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lE={duration:.45,ease:[.4,0,.1,1]},Kp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Qp=Kp("applewebkit/")&&!Kp("chrome/")?Math.round:Et;function qp(e){e.min=Qp(e.min),e.max=Qp(e.max)}function cE(e){qp(e.x),qp(e.y)}function Rv(e,t,n){return e==="position"||e==="preserve-aspect"&&!p5(Vp(t),Vp(n),.2)}function uE(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const dE=Av({attachResizeListener:(e,t)=>Yi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fc={current:void 0},Mv=Av({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fc.current){const e=new dE({});e.mount(window),e.setOptions({layoutScroll:!0}),fc.current=e}return fc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hE={pan:{Feature:P5},drag:{Feature:E5,ProjectionNode:Mv,MeasureLayout:_v}};function Yp(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=s[r];o&&fe.postRender(()=>o(t,uo(t)))}class fE extends as{mount(){const{current:t}=this.node;t&&(this.unmount=LT(t,(n,s)=>(Yp(this.node,s,"Start"),r=>Yp(this.node,r,"End"))))}unmount(){}}class mE extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ao(Yi(this.node.current,"focus",()=>this.onFocus()),Yi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jp(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=s[r];o&&fe.postRender(()=>o(t,uo(t)))}class pE extends as{mount(){const{current:t}=this.node;t&&(this.unmount=FT(t,(n,s)=>(Jp(this.node,s,"Start"),(r,{success:o})=>Jp(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bu=new WeakMap,mc=new WeakMap,gE=e=>{const t=Bu.get(e.target);t&&t(e)},xE=e=>{e.forEach(gE)};function yE({root:e,...t}){const n=e||document;mc.has(n)||mc.set(n,{});const s=mc.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(xE,{root:e,...t})),s[r]}function vE(e,t,n){const s=yE(t);return Bu.set(e,n),s.observe(e),()=>{Bu.delete(e),s.unobserve(e)}}const wE={some:0,all:1};class bE extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:wE[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return vE(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(jE(t,n))&&this.startObserver()}unmount(){}}function jE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const SE={inView:{Feature:bE},tap:{Feature:pE},focus:{Feature:mE},hover:{Feature:fE}},kE={layout:{ProjectionNode:Mv,MeasureLayout:_v}},NE={...c5,...SE,...hE,...kE},O=kC(NE,IC),_E=({variant:e="full",className:t=""})=>{const[n,s]=y.useState([]),[r,o]=y.useState("25"),[a,l]=y.useState(!1),{secondsLeft:c,isRunning:u,subjectName:d,mode:h,stopwatchSeconds:f,isPomodoroBreak:m,pomodoroCount:v,startTimer:b,stopTimer:S,resetTimer:x,setTimerMode:g,setTimerSubject:p,setCustomMinutes:w,getActualElapsedTime:N}=Jd(),{addStudySession:j,updateQuestProgress:k,addReward:_}=qt(),$=[{key:"pomodoro",label:"Pomodoro",duration:25*60},{key:"custom",label:"Custom",duration:null},{key:"stopwatch",label:"Stopwatch",duration:0}];y.useEffect(()=>{const E=localStorage.getItem("subjects");E&&s(JSON.parse(E))},[]);const C=E=>{p(E.target.value)},V=()=>{const E=parseInt(r);E>0&&(w(E),g("custom"),l(!1))},Z=()=>{if(!d){_({type:"XP_EARNED",title:"Session Complete!",description:"Don't forget to select a subject next time for full XP!",tier:"common"});return}const E=h==="stopwatch"?f:N(),T=Math.max(1,Math.round(E/60));j({subjectName:d,durationMinutes:T,mode:h,difficulty:1,mood:"neutral"}),k("time",T),k("sessions",1),k("subjects",1,d),_({type:"XP_EARNED",title:`🎉 ${T} min session complete!`,description:`Great work studying ${d}!`,tier:T>=60?"rare":T>=30?"uncommon":"common"})},ne=()=>{u&&Z(),S()},A=E=>{E==="custom"?l(!0):(l(!1),g(E))},W=()=>{if(h==="stopwatch"){const E=Math.floor(f/60),T=f%60;return`${String(E).padStart(2,"0")}:${String(T).padStart(2,"0")}`}else{const E=Math.floor(c/60),T=c%60;return`${String(E).padStart(2,"0")}:${String(T).padStart(2,"0")}`}},M=()=>{if(h==="stopwatch")return 0;const E=h==="pomodoro"?m?5*60:25*60:h==="custom"?parseInt(r)*60:25*60,T=E-c;return E>0?T/E*100:0};return e==="compact"?i.jsx("div",{className:`bg-white/10 rounded-lg p-3 backdrop-blur ${t}`,children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-xs text-white/80 mb-1",children:d}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg font-mono text-white drop-shadow",children:W()}),u?i.jsx("button",{className:"px-3 py-1 rounded bg-[#FEC260] text-[#23234a] font-bold shadow hover:bg-[#FFD580] transition text-xs",onClick:ne,children:"Stop"}):i.jsx("button",{className:"px-3 py-1 rounded bg-[#6C5DD3] text-white font-bold shadow hover:bg-[#7A6AD9] transition text-xs",onClick:b,disabled:h!=="stopwatch"&&c===0,children:"Start"})]})]})}):i.jsxs("div",{className:`bg-white/10 rounded-2xl p-6 backdrop-blur border border-white/10 ${t}`,children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("select",{className:"w-full p-2 rounded bg-[#1a1a2e] text-white border border-[#6C5DD3] text-sm",value:d,onChange:C,disabled:u,children:[i.jsx("option",{value:"",children:"Select subject"}),n.map(E=>i.jsx("option",{value:E.name,children:E.name},E.id))]})}),i.jsx("div",{className:"flex gap-2 mb-4",children:$.map(E=>i.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition-all ${h===E.key?"bg-[#6C5DD3] text-white shadow":"bg-white/10 text-white/70 hover:bg-[#6C5DD3]/70"}`,onClick:()=>A(E.key),disabled:u,children:E.label},E.key))}),a&&i.jsxs("div",{className:"mb-4 flex gap-2",children:[i.jsx("input",{type:"number",min:"1",max:"480",value:r,onChange:E=>o(E.target.value),className:"flex-1 p-2 rounded bg-[#1a1a2e] text-white border border-[#6C5DD3] text-sm",placeholder:"25"}),i.jsx("button",{onClick:V,className:"px-4 py-2 rounded bg-[#6C5DD3] text-white font-semibold hover:bg-[#7A6AD9] transition text-sm",children:"Set"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative inline-block mb-4",children:[i.jsx("svg",{width:"160",height:"160",className:"absolute top-0 left-0",children:i.jsx("circle",{cx:"80",cy:"80",r:"72",stroke:"#6C5DD3",strokeWidth:"8",fill:"none",strokeDasharray:2*Math.PI*72,strokeDashoffset:2*Math.PI*72*(1-M()/100)})}),i.jsx("div",{className:"w-[130px] h-[130px] rounded-full bg-white/10 flex items-center justify-center mx-auto",children:i.jsx("span",{className:"text-4xl font-mono text-white drop-shadow-lg",children:W()})})]}),i.jsxs("div",{className:"flex justify-center gap-3",children:[u?i.jsx("button",{onClick:ne,className:"px-6 py-2 rounded-xl bg-[#FEC260] text-[#23234a] font-bold shadow hover:bg-[#FFD580] transition",children:"Complete Session"}):i.jsx("button",{onClick:b,disabled:h!=="stopwatch"&&c===0,className:"px-6 py-2 rounded-xl bg-[#6C5DD3] text-white font-bold shadow hover:bg-[#7A6AD9] transition",children:"Start"}),i.jsx("button",{onClick:x,className:"px-6 py-2 rounded-xl bg-white/10 text-white font-bold shadow hover:bg-white/20 transition",children:"Reset"})]})]})]})};function TE(e){const t=new Date(e),n=t.getDay(),s=t.getDate()-n+(n===0?-6:1);return new Date(t.setDate(s))}function Uo(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function CE(e){if(!e||e.length===0)return 0;const t=[...new Set(e.map(l=>Uo(new Date(l.timestamp)).toISOString().split("T")[0]))].sort();if(t.length===0)return 0;const n=Uo(new Date).toISOString().split("T")[0],s=Uo(new Date(Date.now()-24*60*60*1e3)).toISOString().split("T")[0];if(!(t.includes(n)||t.includes(s)))return 0;let o=0,a=new Date;for(;;){const l=Uo(a).toISOString().split("T")[0];if(t.includes(l))o++,a.setDate(a.getDate()-1);else break}return o}function EE(e){if(e.done)return i.jsx(Ie,{className:"w-4 h-4 text-[#B6E4CF]"});if(e.scheduledDate){const t=new Date().toISOString().split("T")[0],n=new Date(e.scheduledDate).toISOString().split("T")[0];if(n<t)return i.jsx(JN,{className:"w-4 h-4 text-red-500"});if(n===t)return i.jsx(Rt,{className:"w-4 h-4 text-[#FEC260]"})}return i.jsx(Rt,{className:"w-4 h-4 text-gray-400"})}function PE(e){const n=Date.now()-7*24*60*60*1e3;return e.filter(s=>s.done&&s.doneAt&&s.doneAt>=n)}function DE(){Ms();const e=Qt(),[t,n]=y.useState([]),[s,r]=y.useState([]),[o,a]=y.useState([]),[l,c]=y.useState({hoursThisWeek:0,totalGoal:0,progress:0}),[u,d]=y.useState(0),[h,f]=y.useState(0),[m,v]=y.useState(!1);new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),y.useEffect(()=>{const k=localStorage.getItem("subjects"),_=localStorage.getItem("studySessions"),$=localStorage.getItem("tasks");k&&n(JSON.parse(k)),_&&r(JSON.parse(_)),$&&a(JSON.parse($))},[]),y.useEffect(()=>{const _=TE(new Date),$=t.reduce((A,W)=>A+(W.goalHours||0),0);s.filter(A=>new Date(A.timestamp)>=_).reduce((A,W)=>A+(W.durationMinutes||0),0);const V=j(),Z=CE(s),ne=PE(o);c({hoursThisWeek:V.hoursThisWeek,totalGoal:$,progress:V.progress}),d(Z),f(ne.length)},[t,s,o]);const x=(()=>{const k=new Date().toISOString().split("T")[0];return o.filter(_=>_.scheduledDate?new Date(_.scheduledDate).toISOString().split("T")[0]===k:!1).slice(0,5)})(),g=k=>{const _=s.filter(($,C)=>C!==k);r(_),localStorage.setItem("studySessions",JSON.stringify(_))},p=({title:k,icon:_,children:$,className:C=""})=>i.jsxs(O.div,{whileHover:{scale:1.015},className:`rounded-xl bg-white/5 p-5 border border-white/10 backdrop-blur shadow-xl ${C}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_&&i.jsx("div",{className:"text-purple-400 text-2xl",children:_}),i.jsx("h2",{className:"text-lg font-semibold text-white",children:k})]}),$]}),w=k=>k===0?"Start your streak today!":k===1?"Great start! Keep it up!":k<7?"You're building momentum!":k<30?"Impressive consistency!":"You're on fire! 🔥",N=k=>k===0?"No tasks completed yet this week":k===1?"Great start! Keep going!":k<5?"You're making progress!":k<10?"Excellent productivity!":"Outstanding work this week!",j=()=>{const k=new Date;k.setDate(k.getDate()-7);const _=s.filter(C=>new Date(C.timestamp)>k),$=_.reduce((C,V)=>C+(V.durationMinutes||0),0);return{sessionsThisWeek:_.length,hoursThisWeek:$/60,progress:totalGoal>0?Math.min($/60/totalGoal*100,100):0}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] to-[#16213e] mt-20 flex",children:[i.jsx(Je,{}),i.jsx(Xt,{children:m&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:()=>v(!1),children:i.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:k=>k.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(kr,{className:"w-6 h-6 text-yellow-500"}),"How the System Works"]}),i.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:i.jsx("span",{className:"text-xl text-gray-500",children:"✕"})})]}),i.jsxs("div",{className:"space-y-6 text-gray-700",children:[i.jsx("p",{className:"text-lg text-gray-600",children:"Trackviso makes studying feel like a game. Every time you study, you earn XP and build your streak. Here's the breakdown:"}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2 flex items-center gap-2",children:"🎯 XP (Experience Points)"}),i.jsxs("ul",{className:"space-y-1 text-blue-700",children:[i.jsx("li",{children:"• Earn XP for every study session."}),i.jsx("li",{children:"• The longer + more focused you study, the more XP you get."}),i.jsx("li",{children:"• Multipliers boost your XP (streak bonus, mastery bonus, and more)."})]})]}),i.jsxs("div",{className:"bg-orange-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-orange-800 mb-2 flex items-center gap-2",children:"🔥 Streaks"}),i.jsxs("ul",{className:"space-y-1 text-orange-700",children:[i.jsx("li",{children:"• Study every day to keep your streak alive."}),i.jsx("li",{children:"• Longer streaks = bigger XP boosts."}),i.jsx("li",{children:"• Miss a day? Use a Streak Saver to protect your progress."})]})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2 flex items-center gap-2",children:"🏆 Levels & Prestige"}),i.jsxs("ul",{className:"space-y-1 text-yellow-700",children:[i.jsx("li",{children:"• Level up as you gain XP."}),i.jsx("li",{children:"• Reach the max level? You can Prestige: reset to Level 1, keep your rewards, and earn a permanent XP boost."})]})]}),i.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2 flex items-center gap-2",children:"🎁 Rewards & Quests"}),i.jsxs("ul",{className:"space-y-1 text-green-700",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Variable Rewards:"})," Sometimes you'll get bonus XP, gems, or rare jackpots after studying."]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Daily Quests:"}),' Extra challenges (e.g. "Study 30 minutes") that give big bonuses.']}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Achievements:"})," Unlock badges for milestones (like hitting a 30-day streak)."]})]})]}),i.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-2 flex items-center gap-2",children:"💎 Gems & Premium"}),i.jsxs("ul",{className:"space-y-1 text-purple-700",children:[i.jsx("li",{children:"• Earn gems from studying, quests, or jackpots."}),i.jsx("li",{children:"• Spend gems on streak savers, boosts, or cosmetic upgrades."}),i.jsx("li",{children:"• Premium users get extra perks + higher rewards."})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-4 text-white",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:"👉 Simple takeaway:"}),i.jsx("p",{className:"text-lg",children:"Study → Earn XP → Level up → Unlock rewards."}),i.jsx("p",{className:"text-indigo-100 mt-1",children:"The more consistent you are, the faster you progress."})]})]}),i.jsx("div",{className:"flex justify-center mt-8",children:i.jsx("button",{onClick:()=>v(!1),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all",children:"Got it!"})})]})})}),i.jsxs("div",{className:"flex-1 ml-16 transition-all duration-300 ease-in-out [body>div>aside:hover_+_div&]:ml-64",children:[i.jsx("div",{className:"flex justify-end p-6",children:i.jsx("button",{onClick:()=>v(!0),className:"p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-all text-white backdrop-blur",title:"How the System Works",children:i.jsx(sy,{className:"w-5 h-5"})})}),i.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 px-6 py-8 bg-#F8F9FC",children:[i.jsxs(p,{title:"This Week's Study",children:[i.jsxs("span",{className:"text-3xl font-bold text-white",children:[l.hoursThisWeek.toFixed(1)," ",i.jsx("small",{className:"text-base font-normal text-gray-300",children:"hrs"})]}),i.jsx("div",{className:"w-full bg-white/10 rounded-full h-3 my-3 overflow-hidden",children:i.jsx("div",{className:"bg-[#6C5DD3] h-3 rounded-full transition-all duration-300",style:{width:`${l.progress}%`}})}),i.jsxs("small",{className:"block text-gray-300 mb-2",children:[Math.round(l.progress),"% of your ",l.totalGoal.toFixed(1)," hr goal"]}),l.progress>=100?i.jsx("p",{className:"text-[#B6E4CF] mt-2",children:"🎯 Goal met!"}):l.progress>=75?i.jsx("p",{className:"text-[#FEC260] mt-2",children:"Almost there!"}):i.jsx("p",{className:"text-[#FEC260] mt-2",children:"Keep going!"})]}),i.jsx(p,{title:"Streak",icon:null,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(ut,{className:`w-7 h-7 ${u>0?"text-orange-400":"text-gray-400"}`}),i.jsxs("span",{className:"text-3xl font-bold text-orange-400",children:[u," ",i.jsx("small",{className:"text-base font-normal text-gray-300",children:"days in a row"})]})]})}),i.jsx("div",{className:"flex-1"}),i.jsx("p",{className:"text-sm text-gray-300 mt-4",children:w(u)})]})}),i.jsxs(p,{title:"Tasks completed this week!",icon:null,children:[i.jsx("div",{className:"mb-6",children:i.jsx("span",{className:"block text-4xl font-extrabold text-white mb-2",children:h})}),i.jsx("p",{className:"text-sm text-gray-300 mb-4",children:N(h)}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[#6C5DD3] text-white font-semibold shadow hover:bg-[#7A6AD9] transition",onClick:()=>e("/tasks"),children:[i.jsx("span",{className:"text-xl",children:"🧠"})," Go to Tasks"]})]})]}),i.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 px-6 py-8",children:[i.jsx(p,{title:"Today's Tasks",icon:"📘",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Today's Tasks"}),x.length>0?i.jsx("div",{className:"space-y-2",children:x.map(k=>i.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-medium text-white",children:k.name}),EE(k)]}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[k.subject," • ",k.time," min"]})]})},k.id))}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"No tasks scheduled"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"Great job staying on top!"})]}),i.jsx("button",{className:"w-full mt-3 px-3 py-2 rounded-lg bg-[#6C5DD3] text-white font-semibold shadow hover:bg-[#7A6AD9] transition text-sm",onClick:()=>e("/tasks"),children:"+ Add Task"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Recent Study Logs"}),i.jsx("div",{className:"max-h-[150px] overflow-y-auto",children:s.length>0?i.jsxs("div",{className:"space-y-2",children:[s.slice(0,5).map((k,_)=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gt,{className:"w-3 h-3 text-[#6C5DD3]"}),i.jsx("span",{className:"text-xs font-medium text-white",children:k.subjectName})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Rt,{className:"w-3 h-3 text-gray-400"}),i.jsxs("span",{className:"text-xs text-gray-300",children:[k.durationMinutes.toFixed(1)," min"]}),i.jsx("span",{className:"text-xs text-gray-500",children:"•"}),i.jsx("span",{className:"text-xs text-gray-300",children:new Date(k.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]}),i.jsx("button",{onClick:()=>g(_),className:"p-1 rounded hover:bg-red-600/20 transition text-red-400 hover:text-red-300",title:"Delete session",children:i.jsx(Sr,{className:"w-3 h-3"})})]},_)),s.length>5&&i.jsx("div",{className:"text-center py-2",children:i.jsxs("span",{className:"text-xs text-gray-400",children:["+",s.length-5," more sessions"]})})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx(Gt,{className:"w-6 h-6 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"No study logs yet"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"Start studying with the timer!"})]})}),s.length>0&&i.jsx("div",{className:"mt-3 pt-2 border-t border-white/10",children:i.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[i.jsxs("span",{children:["Total: ",s.length," sessions"]}),i.jsxs("span",{children:[(s.reduce((k,_)=>k+_.durationMinutes,0)/60).toFixed(1),"h"]})]})})]})]})}),i.jsx(p,{title:"Smart Timer",icon:"⏱️",children:i.jsx(_E,{})})]}),i.jsxs("section",{className:"px-6 py-8 flex flex-wrap gap-4",children:[i.jsx("button",{onClick:()=>e("/subjects"),className:"flex-1 min-w-[200px] px-6 py-4 rounded-2xl bg-[#6C5DD3] text-white font-semibold shadow hover:bg-[#7A6AD9] transition",children:"+ Add Subject"}),i.jsx("button",{onClick:()=>e("/tasks"),className:"flex-1 min-w-[200px] px-6 py-4 rounded-2xl bg-[#6C5DD3] text-white font-semibold shadow hover:bg-[#7A6AD9] transition",children:"+ Add Task"}),i.jsx("button",{onClick:()=>e("/schedule"),className:"flex-1 min-w-[200px] px-6 py-4 rounded-2xl bg-[#6C5DD3] text-white font-semibold shadow hover:bg-[#7A6AD9] transition",children:"+ Schedule tasks"})]}),i.jsx("footer",{className:"py-6 text-center bg-[#3F3D56] text-white mt-10",children:i.jsx("p",{children:"© 2025 Trackviso. Keep learning, keep growing!"})})]})]})}const Fr=e=>()=>{console.log(`Playing sound: ${e}`)},AE=({x:e,y:t,color:n,shape:s,delay:r=0})=>{const o={circle:"rounded-full",square:"rounded-sm",star:"clip-star"};return i.jsx(O.div,{initial:{x:e+"%",y:t+"%",opacity:1,scale:1,rotate:0},animate:{x:e+(Math.random()-.5)*100+"%",y:t+150+Math.random()*50+"%",opacity:0,scale:[1,1.2,.8,0],rotate:[0,180,360]},transition:{duration:3+Math.random()*2,ease:"easeOut",delay:r},className:`absolute w-3 h-3 ${o[s]} pointer-events-none`,style:{backgroundColor:n}})},ml=({intensity:e="medium",colors:t=null,duration:n=3e3})=>{const[s,r]=y.useState([]),o={low:{count:30,spread:60},medium:{count:60,spread:80},high:{count:100,spread:100},extreme:{count:200,spread:120}},l=t||["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471"],{count:c,spread:u}=o[e];return y.useEffect(()=>{const d=Array.from({length:c},(f,m)=>({id:m,x:50+(Math.random()-.5)*u,y:45+Math.random()*20,color:l[Math.floor(Math.random()*l.length)],shape:["circle","square","star"][Math.floor(Math.random()*3)],delay:Math.random()*.5}));r(d);const h=setTimeout(()=>{r([])},n);return()=>clearTimeout(h)},[e,n]),i.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:s.map(d=>i.jsx(AE,{x:d.x,y:d.y,color:d.color,shape:d.shape,delay:d.delay},d.id))})},Lv=({amount:e,bonuses:t={},onComplete:n})=>{const[s,r]=y.useState(0),o=Fr("xp_gain");return y.useEffect(()=>{o();const a=1e3,l=30,c=e/l;let u=0;const d=setInterval(()=>{u++,r(Math.floor(c*u)),u>=l&&(clearInterval(d),r(e),setTimeout(()=>{n==null||n()},1500))},a/l);return()=>clearInterval(d)},[e,n]),i.jsxs(O.div,{initial:{scale:0,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:0,opacity:0,y:-50},className:"fixed top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",children:[i.jsx(O.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:.6,repeat:2,ease:"easeInOut"},className:"bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 text-white px-8 py-6 rounded-3xl shadow-2xl border-4 border-yellow-300",children:i.jsxs("div",{className:"text-center",children:[i.jsx(O.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block mb-3",children:i.jsx(Ce,{className:"w-12 h-12 text-yellow-200"})}),i.jsxs("div",{className:"text-5xl font-bold mb-2",children:["+",s.toLocaleString()]}),i.jsx("div",{className:"text-xl font-semibold",children:"XP GAINED!"}),Object.keys(t).length>0&&i.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-3 text-sm bg-black/20 rounded-lg p-2",children:Object.entries(t).map(([a,l])=>l>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"capitalize",children:[a," Bonus:"]}),i.jsxs("span",{children:["+",l]})]},a))})]})}),i.jsx(ml,{intensity:"medium"})]})},Ov=({newLevel:e,isPrestige:t=!1,onComplete:n})=>{const s=Fr(t?"prestige":"level_up");return y.useEffect(()=>{s();const r=setTimeout(()=>{n==null||n()},4e3);return()=>clearTimeout(r)},[n]),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:[i.jsxs(O.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:20,duration:1},className:`${t?"bg-gradient-to-br from-purple-800 via-pink-600 to-yellow-500":"bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700"} text-white p-8 rounded-3xl shadow-2xl text-center max-w-md mx-4 border-4 border-yellow-400`,children:[i.jsx(O.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:.8,repeat:1/0,repeatDelay:1},children:t?i.jsx(Ct,{className:"w-24 h-24 mx-auto mb-4 text-yellow-300"}):i.jsx(Tt,{className:"w-20 h-20 mx-auto mb-4 text-yellow-400"})}),i.jsx(O.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-4xl font-bold mb-2",children:t?"PRESTIGE UP!":"LEVEL UP!"}),i.jsx(O.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-xl mb-4",children:t?"Welcome to the Elite!":"Congratulations!"}),i.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.7,type:"spring",stiffness:300},className:"text-8xl font-bold text-yellow-300 mb-4",children:t?`P${e}`:e}),i.jsx(O.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"text-lg opacity-90",children:t?"You've transcended!":"Keep pushing your limits!"})]}),i.jsx(ml,{intensity:t?"extreme":"high",colors:t?["#FFD700","#FF1493","#9370DB","#FF6347"]:null})]})},RE=({reward:e,onComplete:t})=>{const n=Fr(`reward_${e.tier}`),s={legendary:{bg:"from-yellow-400 via-orange-500 to-red-600",border:"border-yellow-300",glow:"shadow-yellow-500/50",confetti:"extreme",duration:4e3},epic:{bg:"from-purple-500 via-pink-500 to-red-500",border:"border-purple-300",glow:"shadow-purple-500/40",confetti:"high",duration:3500},rare:{bg:"from-blue-500 via-cyan-500 to-teal-500",border:"border-blue-300",glow:"shadow-blue-500/40",confetti:"medium",duration:3e3},uncommon:{bg:"from-green-500 via-emerald-500 to-teal-500",border:"border-green-300",glow:"shadow-green-500/30",confetti:"medium",duration:2500},common:{bg:"from-gray-500 via-slate-500 to-gray-600",border:"border-gray-300",glow:"shadow-gray-500/20",confetti:"low",duration:2e3}},r=s[e.tier]||s.common;return y.useEffect(()=>{n();const o=setTimeout(()=>{t==null||t()},r.duration);return()=>clearTimeout(o)},[t,r.duration]),i.jsxs(O.div,{initial:{scale:0,opacity:0,rotate:-90},animate:{scale:1,opacity:1,rotate:0},exit:{scale:0,opacity:0,rotate:90},className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",children:[i.jsx(O.div,{animate:{scale:[1,1.05,1],boxShadow:["0 0 20px rgba(255,255,255,0.3)","0 0 40px rgba(255,255,255,0.6)","0 0 20px rgba(255,255,255,0.3)"]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},className:`bg-gradient-to-br ${r.bg} text-white px-8 py-6 rounded-3xl shadow-2xl border-4 ${r.border} ${r.glow} max-w-sm`,children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:`inline-block px-3 py-1 rounded-full bg-white/20 text-sm font-bold mb-3 ${e.tier==="legendary"?"animate-pulse":""}`,children:[e.tier.toUpperCase()," REWARD!"]}),i.jsx(O.div,{animate:{rotate:e.tier==="legendary"?[0,360]:[0,10,-10,0],scale:[1,1.2,1]},transition:{duration:e.tier==="legendary"?2:.6,repeat:1/0,ease:"easeInOut"},className:"text-6xl mb-4",children:e.tier==="legendary"?"💎":e.tier==="epic"?"⚡":e.tier==="rare"?"⭐":e.tier==="uncommon"?"✨":"🎁"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),i.jsx("p",{className:"text-lg opacity-90 mb-4",children:e.description}),e.bonusXP>0&&i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(Ce,{className:"w-6 h-6 text-yellow-300"}),i.jsxs("span",{className:"text-2xl font-bold",children:["+",e.bonusXP," XP"]})]}),e.extras&&i.jsxs("div",{className:"text-sm bg-black/20 rounded-lg p-3",children:[e.extras.title&&i.jsxs("div",{className:"mb-1",children:["🏆 Title: ",e.extras.title]}),e.extras.badge&&i.jsxs("div",{children:["🎖️ Badge: ",e.extras.badge]})]})]})}),i.jsx(ml,{intensity:r.confetti})]})},Iv=({achievement:e,onComplete:t})=>{var s;const n=Fr("achievement");return y.useEffect(()=>{n();const r=setTimeout(()=>{t==null||t()},4e3);return()=>clearTimeout(r)},[t]),i.jsxs(O.div,{initial:{x:400,opacity:0,scale:.8},animate:{x:0,opacity:1,scale:1},exit:{x:400,opacity:0,scale:.8},className:"fixed top-4 right-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-3xl shadow-2xl z-50 max-w-sm border-4 border-yellow-400",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(O.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-4xl",children:e.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(mt,{className:"w-5 h-5 text-yellow-300"}),i.jsx("span",{className:"font-bold text-lg",children:"Achievement Unlocked!"})]}),i.jsx("h3",{className:"font-bold text-xl mb-1",children:e.name}),i.jsx("p",{className:"text-sm opacity-90 mb-2",children:e.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ce,{className:"w-4 h-4 text-yellow-300"}),i.jsxs("span",{className:"text-sm font-semibold",children:["+",e.xp," XP"]}),i.jsx("span",{className:"px-2 py-1 rounded-full bg-white/20 text-xs font-bold ml-auto",children:(s=e.tier)==null?void 0:s.toUpperCase()})]})]})]}),i.jsx(O.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:3.5,ease:"linear"},className:"h-1 bg-yellow-400 rounded-full mt-4"})]})},$v=({streak:e,onComplete:t})=>{const n=Fr("streak_milestone");return y.useEffect(()=>{n();const s=setTimeout(()=>{t==null||t()},3500);return()=>clearTimeout(s)},[t]),i.jsxs(O.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",children:[i.jsxs(O.div,{animate:{scale:[1,1.05,1],rotate:[0,2,-2,0]},transition:{duration:.8,repeat:1/0,ease:"easeInOut"},className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-600 text-white px-10 py-8 rounded-3xl shadow-2xl text-center border-4 border-yellow-400",children:[i.jsx(O.div,{animate:{rotate:[0,15,-15,0],scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,repeatDelay:1},children:i.jsx(ut,{className:"w-20 h-20 mx-auto mb-4 text-yellow-300"})}),i.jsx("h2",{className:"text-3xl font-bold mb-2",children:"🔥 STREAK MILESTONE! 🔥"}),i.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:300},className:"text-7xl font-bold text-yellow-300 mb-3",children:e}),i.jsx("p",{className:"text-xl mb-2",children:"Days of consistent studying!"}),i.jsx("p",{className:"text-lg opacity-80",children:"Keep the fire burning! 🚀"})]}),i.jsx(ml,{intensity:"high",colors:["#FF4500","#FF6347","#FFD700","#FFA500"]})]})},Fv=({quest:e,onComplete:t})=>{const n=Fr("quest_complete");return y.useEffect(()=>{n();const s=setTimeout(()=>{t==null||t()},3e3);return()=>clearTimeout(s)},[t]),i.jsxs(O.div,{initial:{y:-100,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},exit:{y:-100,opacity:0,scale:.8},className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-3xl shadow-2xl z-50 max-w-sm text-center border-4 border-cyan-300",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[i.jsx(O.div,{animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:2},children:i.jsx(Ie,{className:"w-8 h-8 text-green-300"})}),i.jsx("span",{className:"font-bold text-xl",children:"Quest Complete!"})]}),i.jsx("p",{className:"text-lg mb-3",children:e.name}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Ce,{className:"w-5 h-5 text-yellow-300"}),i.jsxs("span",{className:"text-lg font-semibold",children:["+",e.xp," XP"]})]})]})},ME=({notifications:e,onRemove:t})=>i.jsx("div",{className:"fixed top-4 right-4 z-40 space-y-3 max-w-sm",children:i.jsx(Xt,{mode:"popLayout",children:e.map(n=>i.jsx(O.div,{layout:!0,initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},className:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-purple-500",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:n.title}),i.jsx("p",{className:"text-sm text-gray-600",children:n.message})]}),i.jsx("button",{onClick:()=>t(n.id),className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(Ra,{className:"w-4 h-4"})})]})},n.id))})}),pl=({progress:e,label:t,color:n="blue",showPercentage:s=!0,height:r="h-3",animated:o=!0})=>{const a={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",yellow:"from-yellow-500 to-yellow-600",pink:"from-pink-500 to-pink-600"};return i.jsxs("div",{className:"w-full",children:[t&&i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:t}),s&&i.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[Math.round(e),"%"]})]}),i.jsx("div",{className:`w-full bg-gray-200 rounded-full ${r} overflow-hidden`,children:i.jsx(O.div,{initial:{width:0},animate:{width:`${Math.min(100,Math.max(0,e))}%`},transition:{duration:o?1:0,ease:"easeOut"},className:`${r} bg-gradient-to-r ${a[n]} rounded-full shadow-sm relative overflow-hidden`,children:o&&e>0&&i.jsx(O.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})})})]})},Le={ACTIVE:"active",WARNING:"warning",DANGER:"danger",BROKEN:"broken",PROTECTED:"protected"},zu={beginner:{name:"Beginner",days:[1,2],color:"from-gray-400 to-gray-600",icon:"🌱",multiplier:1,description:"Just getting started!"},growing:{name:"Growing",days:[3,6],color:"from-green-400 to-green-600",icon:"🌿",multiplier:1.1,description:"Building momentum!"},strong:{name:"Strong",days:[7,13],color:"from-blue-400 to-blue-600",icon:"💪",multiplier:1.2,description:"Getting stronger!"},blazing:{name:"Blazing",days:[14,29],color:"from-orange-400 to-red-500",icon:"🔥",multiplier:1.3,description:"On fire!"},legendary:{name:"Legendary",days:[30,99],color:"from-purple-400 to-pink-500",icon:"⚡",multiplier:1.5,description:"Unstoppable force!"},godlike:{name:"God-like",days:[100,1/0],color:"from-yellow-400 to-orange-500",icon:"👑",multiplier:2,description:"Transcended mortal limits!"}},LE=e=>Object.values(zu).find(t=>e>=t.days[0]&&e<=t.days[1])||zu.beginner,Wu=()=>{const e=new Date,t=new Date(e);t.setDate(t.getDate()+1),t.setHours(0,0,0,0);const n=t.getTime()-e.getTime(),s=Math.floor(n/(1e3*60*60)),r=Math.floor(n%(1e3*60*60)/(1e3*60));return{hours:s,minutes:r,totalMinutes:Math.floor(n/(1e3*60))}},OE=e=>{const t=new Date().toDateString(),n=e.lastStudyDate?new Date(e.lastStudyDate).toDateString():null;if(n===t)return{status:Le.ACTIVE,message:"Great job! You've studied today!",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"};const s=new Date;s.setDate(s.getDate()-1);const r=s.toDateString();if(n===r){const o=Wu();return o.totalMinutes<=60?{status:Le.DANGER,message:`Danger! Streak expires in ${o.minutes}m`,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",timeLeft:o}:o.totalMinutes<=180?{status:Le.WARNING,message:`Warning! Streak expires in ${o.hours}h ${o.minutes}m`,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",timeLeft:o}:{status:Le.WARNING,message:"Study today to maintain your streak!",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",timeLeft:o}}return{status:Le.BROKEN,message:"Streak broken. Start a new one today!",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}},IE=({isOpen:e,onClose:t,onUseSaver:n,saversLeft:s,streakDays:r})=>e?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:i.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:o=>o.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx(O.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.6,repeat:1/0},children:i.jsx(sn,{className:"w-20 h-20 mx-auto text-blue-500 mb-4"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Streak Protection!"}),i.jsxs("p",{className:"text-gray-600",children:["Your ",r,"-day streak is about to be lost!"]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(ut,{className:"w-8 h-8 text-orange-500"}),i.jsx("span",{className:"text-3xl font-bold text-gray-800",children:r}),i.jsx("span",{className:"text-lg font-medium text-gray-600",children:"day streak"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use a Streak Saver to protect your progress?"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(sn,{className:"w-5 h-5 text-blue-500"}),i.jsxs("span",{className:"font-semibold text-gray-800",children:[s," Streak Savers remaining"]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:t,className:"flex-1 px-6 py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-all",children:"Let it break"}),i.jsx("button",{onClick:n,disabled:s<=0,className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${s>0?"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s>0?"Use Saver":"No Savers Left"})]}),s<=0&&i.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Get more streak savers with premium!"})]})}):null,$E=({sessionHistory:e,currentStreak:t})=>{const[n,s]=y.useState(!1),o=(()=>{const l=[],c=new Date;for(let u=29;u>=0;u--){const d=new Date(c);d.setDate(d.getDate()-u);const h=d.toDateString(),f=e.some(b=>new Date(b.timestamp).toDateString()===h),v=e.filter(b=>new Date(b.timestamp).toDateString()===h).reduce((b,S)=>b+S.durationMinutes,0);l.push({date:d,dateStr:h,hasSession:f,totalMinutes:v,intensity:v>120?"high":v>60?"medium":v>0?"low":"none"})}return l})(),a={none:"bg-gray-200",low:"bg-green-200",medium:"bg-green-400",high:"bg-green-600"};return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(Wi,{className:"w-5 h-5 text-purple-500"}),"Study Calendar"]}),i.jsx("button",{onClick:()=>s(!n),className:"text-gray-500 hover:text-gray-700 transition-colors",children:n?i.jsx(ny,{className:"w-5 h-5"}):i.jsx(ty,{className:"w-5 h-5"})})]}),i.jsx(Xt,{children:n&&i.jsxs(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["S","M","T","W","T","F","S"].map(l=>i.jsx("div",{className:"text-center text-xs font-medium text-gray-500 p-2",children:l},l))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:o.map((l,c)=>i.jsxs(O.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:c*.02},className:`aspect-square rounded-lg ${a[l.intensity]} border-2 ${l.hasSession?"border-green-500":"border-transparent"} flex items-center justify-center text-xs font-medium ${l.intensity==="none"?"text-gray-500":"text-white"} relative group cursor-pointer`,title:`${l.date.toLocaleDateString()}: ${l.totalMinutes}min`,children:[l.date.getDate(),l.dateStr===new Date().toDateString()&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white"})]},l.dateStr))}),i.jsxs("div",{className:"flex items-center justify-between mt-4 text-xs text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"Less"}),i.jsx("div",{className:"flex gap-1",children:Object.entries(a).map(([l,c])=>i.jsx("div",{className:`w-3 h-3 rounded ${c}`},l))}),i.jsx("span",{children:"More"})]}),i.jsxs("span",{className:"font-medium",children:[o.filter(l=>l.hasSession).length," active days"]})]})]})})]})},FE=()=>{const{userStats:e,updateStreak:t,useStreakSaver:n,addReward:s}=qt(),[r,o]=y.useState(!1),[a,l]=y.useState(Wu()),[c,u]=y.useState(!1),[d,h]=y.useState(0),f=OE(e),m=LE(e.currentStreak),v=Object.values(zu).find(g=>g.days[0]>e.currentStreak);y.useEffect(()=>{const g=setInterval(()=>{l(Wu())},6e4);return()=>clearInterval(g)},[]),y.useEffect(()=>{[7,14,30,50,100,365].includes(e.currentStreak)&&e.currentStreak>0&&(h(e.currentStreak),u(!0))},[e.currentStreak]);const b=()=>{f.status===Le.DANGER&&e.streakSavers>0&&o(!0)},S=()=>{n()&&(o(!1),s({type:"STREAK_SAVED",title:"🛡️ Streak Protected!",description:`Your ${e.currentStreak}-day streak is safe!`,tier:"premium"}))},x=()=>{if(!v)return 100;const g=m.days[0],p=v.days[0],w=(e.currentStreak-g)/(p-g)*100;return Math.min(100,Math.max(0,w))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:`rounded-3xl shadow-xl p-8 border-2 ${f.borderColor} ${f.bgColor} transition-all`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(O.div,{animate:{scale:f.status===Le.DANGER?[1,1.1,1]:1,rotate:e.currentStreak>0?[0,5,-5,0]:0},transition:{duration:f.status===Le.DANGER?.5:2,repeat:f.status===Le.DANGER?1/0:0},className:`w-20 h-20 rounded-full bg-gradient-to-r ${m.color} flex items-center justify-center text-4xl shadow-lg`,children:m.icon}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.currentStreak,i.jsx("span",{className:"text-lg font-normal text-gray-600",children:"day streak"})]}),i.jsxs("p",{className:`text-lg font-medium ${f.color}`,children:[m.name," • ",m.description]}),i.jsx("p",{className:`text-sm ${f.color}`,children:f.message})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[f.status===Le.DANGER&&e.streakSavers>0&&i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-xl font-semibold shadow-lg hover:bg-blue-600 transition-all",children:[i.jsx(sn,{className:"w-4 h-4"}),"Protect Streak"]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(sn,{className:"w-4 h-4"}),i.jsxs("span",{children:[e.streakSavers," streak savers"]})]})]})]}),v&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Progress to ",v.name]}),i.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[e.currentStreak," / ",v.days[0]]})]}),i.jsx(pl,{progress:x(),color:"orange",height:"h-4"})]}),(f.status===Le.WARNING||f.status===Le.DANGER)&&a&&i.jsx(O.div,{animate:{scale:f.status===Le.DANGER?[1,1.02,1]:1},transition:{duration:1,repeat:1/0},className:`p-4 rounded-2xl ${f.status===Le.DANGER?"bg-red-100":"bg-orange-100"} border-2 ${f.status===Le.DANGER?"border-red-200":"border-orange-200"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(O2,{className:`w-6 h-6 ${f.status===Le.DANGER?"text-red-600":"text-orange-600"}`}),i.jsxs("div",{children:[i.jsxs("p",{className:`font-semibold ${f.status===Le.DANGER?"text-red-800":"text-orange-800"}`,children:["Time Remaining: ",a.hours,"h ",a.minutes,"m"]}),i.jsx("p",{className:`text-sm ${f.status===Le.DANGER?"text-red-600":"text-orange-600"}`,children:"Study now to maintain your streak!"})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[i.jsxs("div",{className:"bg-white/50 rounded-xl p-4 text-center",children:[i.jsx(Ce,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"XP Multiplier"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[m.multiplier,"x"]})]}),i.jsxs("div",{className:"bg-white/50 rounded-xl p-4 text-center",children:[i.jsx(Tt,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Longest Streak"}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.longestStreak})]})]})]}),i.jsx($E,{sessionHistory:e.sessionHistory,currentStreak:e.currentStreak}),i.jsx(IE,{isOpen:r,onClose:()=>o(!1),onUseSaver:S,saversLeft:e.streakSavers,streakDays:e.currentStreak}),i.jsx(Xt,{children:c&&i.jsx($v,{streak:d,onComplete:()=>u(!1)})})]})},Zr={daily:{name:"Daily Challenges",icon:Wi,color:"blue",resetInterval:24*60*60*1e3,maxQuests:3},weekly:{name:"Weekly Goals",icon:rn,color:"purple",resetInterval:7*24*60*60*1e3,maxQuests:2},special:{name:"Special Events",icon:Ct,color:"gold",resetInterval:null,maxQuests:1}},UE={study_time_short:{id:"study_time_short",name:"Quick Learner",description:"Study for {minutes} minutes today",type:"time",category:"daily",baseXP:40,icon:"⏰",difficulty:"easy",parameters:{minutes:[15,20,25,30]},condition:(e,t)=>e>=t,tips:["Use the Pomodoro technique","Find a quiet study space","Remove distractions"]},study_time_medium:{id:"study_time_medium",name:"Focused Scholar",description:"Study for {minutes} minutes today",type:"time",category:"daily",baseXP:80,icon:"📚",difficulty:"medium",parameters:{minutes:[45,60,75,90]},condition:(e,t)=>e>=t,tips:["Take breaks every 25 minutes","Stay hydrated","Use active recall"]},study_time_long:{id:"study_time_long",name:"Endurance Master",description:"Study for {hours} hours today",type:"time",category:"daily",baseXP:150,icon:"🏆",difficulty:"hard",parameters:{hours:[2,3,4,5]},condition:(e,t)=>e>=t*60,tips:["Plan regular breaks","Vary your subjects","Stay motivated with goals"]},multiple_sessions:{id:"multiple_sessions",name:"Session Warrior",description:"Complete {count} study sessions today",type:"sessions",category:"daily",baseXP:60,icon:"🎯",difficulty:"medium",parameters:{count:[2,3,4,5]},condition:(e,t)=>e>=t,tips:["Space out your sessions","Use different techniques","Track your progress"]},subject_variety:{id:"subject_variety",name:"Knowledge Explorer",description:"Study {count} different subjects today",type:"subjects",category:"daily",baseXP:70,icon:"🗺️",difficulty:"medium",parameters:{count:[2,3,4]},condition:(e,t)=>e>=t,tips:["Mix different types of subjects","Use varied study methods","Keep it interesting"]},streak_guardian:{id:"streak_guardian",name:"Streak Guardian",description:"Maintain your daily study streak",type:"streak",category:"daily",baseXP:50,icon:"🔥",difficulty:"easy",parameters:{streakBonus:[5,10,15,20]},condition:(e,t)=>e>=1,tips:["Study every day","Use streak savers wisely","Start with small sessions"]},weekly_hours:{id:"weekly_hours",name:"Weekly Champion",description:"Study for {hours} hours this week",type:"weekly_time",category:"weekly",baseXP:300,icon:"⚡",difficulty:"hard",parameters:{hours:[10,15,20,25]},condition:(e,t)=>e>=t*60,tips:["Plan your week","Set daily targets","Stay consistent"]},weekly_consistency:{id:"weekly_consistency",name:"Consistency King",description:"Study every day for {days} days",type:"weekly_streak",category:"weekly",baseXP:250,icon:"👑",difficulty:"hard",parameters:{days:[5,6,7]},condition:(e,t)=>e>=t,tips:["Plan ahead","Set reminders","Start small each day"]},weekend_warrior:{id:"weekend_warrior",name:"Weekend Warrior",description:"Study for {hours} hours during the weekend",type:"weekend",category:"special",baseXP:200,icon:"🏋️",difficulty:"medium",parameters:{hours:[3,4,5,6]},condition:(e,t)=>e>=t*60,tips:["Use weekends for deep work","Catch up on difficult topics","Review the week"]},night_owl_challenge:{id:"night_owl_challenge",name:"Night Owl Challenge",description:"Study after 9 PM for {minutes} minutes",type:"night_study",category:"special",baseXP:100,icon:"🦉",difficulty:"medium",parameters:{minutes:[30,45,60]},condition:(e,t)=>e>=t,tips:["Avoid caffeine late","Use blue light filters","Keep sessions shorter"]},early_bird_challenge:{id:"early_bird_challenge",name:"Early Bird Challenge",description:"Study before 7 AM for {minutes} minutes",type:"morning_study",category:"special",baseXP:120,icon:"🐦",difficulty:"hard",parameters:{minutes:[30,45,60]},condition:(e,t)=>e>=t,tips:["Go to bed early","Prepare materials the night before","Start with lighter topics"]},perfectionist:{id:"perfectionist",name:"Perfectionist",description:"Complete all daily quests for {days} consecutive days",type:"quest_streak",category:"special",baseXP:500,icon:"💎",difficulty:"legendary",parameters:{days:[3,5,7]},condition:(e,t)=>e>=t,tips:["Plan your quests","Start early each day","Track your progress"]}},VE={easy:1,medium:1.2,hard:1.5,legendary:2},BE=({quest:e,onComplete:t})=>{if(!e||typeof e!="object")return null;const n=Math.min(e.progress||0,e.target||1),s=n/(e.target||1)*100,r=e.completed||!1,o={easy:"from-green-400 to-green-600",medium:"from-blue-400 to-blue-600",hard:"from-purple-400 to-purple-600",legendary:"from-yellow-400 to-orange-500"};return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-5},className:`p-6 rounded-2xl border-2 transition-all ${r?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 shadow-green-100/50":"bg-white border-gray-200 hover:border-purple-300"} shadow-lg`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-r ${o[e.difficulty||"medium"]} flex items-center justify-center text-2xl shadow-lg`,children:e.icon||"🎯"}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-bold text-lg ${r?"text-green-800":"text-gray-800"}`,children:e.name||"Unknown Quest"}),i.jsx("p",{className:`text-sm ${r?"text-green-600":"text-gray-600"}`,children:e.description||"No description available"})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r?i.jsxs(O.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1 text-green-600",children:[i.jsx(Ie,{className:"w-6 h-6"}),i.jsx("span",{className:"font-semibold",children:"Complete!"})]}):i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[n," / ",e.target||1]}),i.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${e.difficulty==="easy"?"bg-green-100 text-green-700":e.difficulty==="medium"?"bg-blue-100 text-blue-700":e.difficulty==="hard"?"bg-purple-100 text-purple-700":"bg-yellow-100 text-yellow-700"}`,children:(e.difficulty||"medium").toUpperCase()})]}),i.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[i.jsx(Ce,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-semibold",children:["+",e.xp||0," XP"]})]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsx(pl,{progress:s,color:r?"green":"purple",height:"h-3",showPercentage:!1})}),e.tips&&Array.isArray(e.tips)&&e.tips.length>0&&!r&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-gray-50 rounded-lg p-3",children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[i.jsx(zi,{className:"w-4 h-4"}),"Tips:"]}),i.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:e.tips.slice(0,2).map((a,l)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500",children:"•"}),a]},l))})]}),r&&i.jsx(O.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"bg-green-100 rounded-lg p-3 border border-green-200",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-800",children:[i.jsx(mt,{className:"w-5 h-5"}),i.jsx("span",{className:"font-semibold",children:"Quest Complete!"})]})})]})},zE=(e,t)=>{const n=`${e.id}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={};Object.entries(e.parameters).forEach(([f,m])=>{s[f]=m[Math.floor(Math.random()*m.length)]});let r=e.description;Object.entries(s).forEach(([f,m])=>{r=r.replace(`{${f}}`,m)});const o=e.baseXP,a=VE[e.difficulty],l=Math.floor(o*a),c=Object.keys(s)[0],u=s[c],d=new Date;let h;return t==="daily"?(h=new Date(d),h.setDate(h.getDate()+1),h.setHours(0,0,0,0)):t==="weekly"?(h=new Date(d),h.setDate(h.getDate()+7),h.setHours(0,0,0,0)):(h=new Date(d),h.setDate(h.getDate()+3)),{id:n,templateId:e.id,name:e.name,description:r,type:e.type,category:t,xp:l,icon:e.icon,difficulty:e.difficulty,target:u,progress:0,completed:!1,deadline:h.toISOString(),tips:e.tips,parameters:s,createdAt:d.toISOString()}},WE=()=>{const{userStats:e,updateQuestProgress:t,addReward:n,generateDailyQuests:s}=qt(),[r,o]=y.useState("daily"),[a,l]=y.useState(!1),[c,u]=y.useState([]);y.useEffect(()=>{const p=new Date,w=localStorage.getItem("lastDailyQuestReset");(!w||p.getTime()-parseInt(w)>Zr.daily.resetInterval||e.dailyQuests.length===0)&&(d("daily"),localStorage.setItem("lastDailyQuestReset",p.getTime().toString()));const j=localStorage.getItem("lastWeeklyQuestReset");(!j||p.getTime()-parseInt(j)>Zr.weekly.resetInterval||e.weeklyQuests.length===0)&&(d("weekly"),localStorage.setItem("lastWeeklyQuestReset",p.getTime().toString()))},[]);const d=p=>{const w=Zr[p],k=Object.values(UE).filter(_=>_.category===p).sort(()=>Math.random()-.5).slice(0,w.maxQuests).map(_=>zE(_,p));console.log(`Generated ${k.length} new ${p} quests:`,k)},h=p=>{let w=[];switch(p){case"daily":w=e.dailyQuests||[];break;case"weekly":w=e.weeklyQuests||[];break;case"special":w=e.specialQuests||[];break;default:w=[]}return w.filter(N=>N&&typeof N=="object"&&typeof N.name=="string")},f=h(r),m=f.filter(p=>p.completed),v=f.filter(p=>!p.completed),b=a?m:v,S=f.length>0?m.length/f.length*100:0,x=f.reduce((p,w)=>p+(w.xp||0),0),g=m.reduce((p,w)=>p+(w.xp||0),0);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[i.jsx(Te,{className:"w-8 h-8 text-purple-500"}),"Quest Center"]}),i.jsx("p",{className:"text-gray-600",children:"Complete challenges to earn XP and unlock achievements!"})]}),i.jsx("div",{className:"flex gap-4 mb-6",children:Object.entries(Zr).map(([p,w])=>{const N=w.icon,j=h(p),k=j.filter($=>$.completed).length,_=j.length;return i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(p),className:`flex items-center gap-3 px-6 py-4 rounded-2xl font-semibold transition-all ${r===p?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50 shadow"}`,children:[i.jsx(N,{className:"w-5 h-5"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:w.name}),i.jsxs("div",{className:"text-xs opacity-75",children:[k,"/",_," completed"]})]})]},p)})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[Zr[r].name," Overview"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>l(!1),className:`px-4 py-2 rounded-lg font-medium transition-all ${a?"text-gray-500 hover:bg-gray-100":"bg-purple-100 text-purple-700"}`,children:["Active (",v.length,")"]}),i.jsxs("button",{onClick:()=>l(!0),className:`px-4 py-2 rounded-lg font-medium transition-all ${a?"bg-purple-100 text-purple-700":"text-gray-500 hover:bg-gray-100"}`,children:["Completed (",m.length,")"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[S.toFixed(0),"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Complete"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-green-600",children:g}),i.jsx("div",{className:"text-sm text-gray-600",children:"XP Earned"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:x-g}),i.jsx("div",{className:"text-sm text-gray-600",children:"XP Available"})]})]}),i.jsx(pl,{progress:S,label:`Quest Progress (${m.length}/${f.length})`,color:"purple"})]}),i.jsx("div",{className:"space-y-6",children:b.length>0?b.map(p=>i.jsx(BE,{quest:p,onComplete:w=>{u(N=>[...N,w])}},p.id)):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-gray-400 mb-4",children:a?i.jsx(Ie,{className:"w-16 h-16 mx-auto"}):i.jsx(Te,{className:"w-16 h-16 mx-auto"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:a?"No completed quests yet":"No active quests"}),i.jsx("p",{className:"text-gray-500",children:a?"Complete some quests to see them here!":"New quests will appear soon!"})]})}),i.jsx(Xt,{children:c.map(p=>{const w=f.find(N=>N.id===p);return w?i.jsx(Fv,{quest:w,onComplete:()=>{u(N=>N.filter(j=>j!==p))}},p):null})})]})},Uv={common:{name:"Common",color:"from-gray-400 to-gray-600",borderColor:"border-gray-400",textColor:"text-gray-600",glowColor:"shadow-gray-500/20",probability:70},uncommon:{name:"Uncommon",color:"from-green-400 to-green-600",borderColor:"border-green-400",textColor:"text-green-600",glowColor:"shadow-green-500/30",probability:20},rare:{name:"Rare",color:"from-blue-400 to-blue-600",borderColor:"border-blue-400",textColor:"text-blue-600",glowColor:"shadow-blue-500/40",probability:7},epic:{name:"Epic",color:"from-purple-400 to-purple-600",borderColor:"border-purple-400",textColor:"text-purple-600",glowColor:"shadow-purple-500/50",probability:2.5},legendary:{name:"Legendary",color:"from-yellow-400 to-orange-500",borderColor:"border-yellow-400",textColor:"text-yellow-600",glowColor:"shadow-yellow-500/60",probability:.5}},HE={getting_started:{name:"Getting Started",icon:Te,color:"blue",achievements:[{id:"first_session",name:"First Steps",description:"Complete your first study session",icon:"🎯",xp:25,tier:"common",condition:e=>e.totalSessions>=1},{id:"first_hour",name:"Hour Scholar",description:"Study for 1 total hour",icon:"⏰",xp:50,tier:"common",condition:e=>e.totalStudyTime>=60},{id:"first_week",name:"Week Warrior",description:"Study for 7 consecutive days",icon:"📅",xp:100,tier:"uncommon",condition:e=>e.currentStreak>=7}]},session_mastery:{name:"Session Mastery",icon:Rt,color:"green",achievements:[{id:"short_burst",name:"Quick Learner",description:"Complete a 15-minute focused session",icon:"⚡",xp:30,tier:"common",condition:e=>e.sessionHistory.some(t=>t.durationMinutes>=15)},{id:"pomodoro_master",name:"Pomodoro Pro",description:"Complete 4 Pomodoro sessions in one day",icon:"🍅",xp:75,tier:"uncommon",condition:e=>{const t=new Date().toDateString();return e.sessionHistory.filter(s=>new Date(s.timestamp).toDateString()===t&&s.durationMinutes>=25).length>=4}},{id:"marathon_session",name:"Marathon Master",description:"Study for 3+ hours in one session",icon:"🏃‍♂️",xp:200,tier:"rare",condition:e=>e.sessionHistory.some(t=>t.durationMinutes>=180)},{id:"endurance_beast",name:"Endurance Beast",description:"Study for 6+ hours in one session",icon:"🦍",xp:500,tier:"epic",condition:e=>e.sessionHistory.some(t=>t.durationMinutes>=360)},{id:"legendary_focus",name:"Legendary Focus",description:"Study for 12+ hours in one session",icon:"👑",xp:1e3,tier:"legendary",condition:e=>e.sessionHistory.some(t=>t.durationMinutes>=720)}]},streak_achievements:{name:"Streak Master",icon:ut,color:"orange",achievements:[{id:"streak_3",name:"Getting Warmed Up",description:"Maintain a 3-day study streak",icon:"🌱",xp:50,tier:"common",condition:e=>e.currentStreak>=3||e.longestStreak>=3},{id:"streak_7",name:"Week Warrior",description:"Maintain a 7-day study streak",icon:"⚔️",xp:100,tier:"uncommon",condition:e=>e.currentStreak>=7||e.longestStreak>=7},{id:"streak_30",name:"Month Master",description:"Maintain a 30-day study streak",icon:"👑",xp:300,tier:"rare",condition:e=>e.currentStreak>=30||e.longestStreak>=30},{id:"streak_100",name:"Century Club",description:"Maintain a 100-day study streak",icon:"💎",xp:1e3,tier:"epic",condition:e=>e.currentStreak>=100||e.longestStreak>=100},{id:"streak_365",name:"Year Champion",description:"Maintain a 365-day study streak",icon:"🏆",xp:5e3,tier:"legendary",condition:e=>e.currentStreak>=365||e.longestStreak>=365}]},level_progression:{name:"Level Progression",icon:rn,color:"purple",achievements:[{id:"level_5",name:"Rising Scholar",description:"Reach level 5",icon:"⭐",xp:75,tier:"common",condition:e=>e.level>=5},{id:"level_10",name:"Dedicated Learner",description:"Reach level 10",icon:"🌟",xp:150,tier:"uncommon",condition:e=>e.level>=10},{id:"level_25",name:"Knowledge Seeker",description:"Reach level 25",icon:"💫",xp:300,tier:"rare",condition:e=>e.level>=25},{id:"level_50",name:"Academic Weapon",description:"Reach level 50",icon:"⚡",xp:750,tier:"epic",condition:e=>e.level>=50},{id:"level_100",name:"Legend Ascended",description:"Reach level 100",icon:"🔥",xp:2e3,tier:"legendary",condition:e=>e.level>=100}]},time_dedication:{name:"Time Dedication",icon:Gt,color:"indigo",achievements:[{id:"hours_10",name:"Ten Hour Scholar",description:"Study for 10 total hours",icon:"🕙",xp:100,tier:"common",condition:e=>e.totalStudyTime>=600},{id:"hours_50",name:"Fifty Hour Hero",description:"Study for 50 total hours",icon:"📚",xp:250,tier:"uncommon",condition:e=>e.totalStudyTime>=3e3},{id:"hours_100",name:"Century Scholar",description:"Study for 100 total hours",icon:"💯",xp:500,tier:"rare",condition:e=>e.totalStudyTime>=6e3},{id:"hours_500",name:"Dedication Master",description:"Study for 500 total hours",icon:"🏆",xp:1500,tier:"epic",condition:e=>e.totalStudyTime>=3e4},{id:"hours_1000",name:"Time Lord",description:"Study for 1000 total hours",icon:"⏳",xp:5e3,tier:"legendary",condition:e=>e.totalStudyTime>=6e4}]},special_occasions:{name:"Special Occasions",icon:Ct,color:"pink",achievements:[{id:"night_owl",name:"Night Owl",description:"Study after 10 PM",icon:"🦉",xp:50,tier:"uncommon",condition:e=>e.sessionHistory.some(t=>new Date(t.timestamp).getHours()>=22)},{id:"early_bird",name:"Early Bird",description:"Study before 6 AM",icon:"🐦",xp:75,tier:"uncommon",condition:e=>e.sessionHistory.some(t=>new Date(t.timestamp).getHours()<6)},{id:"weekend_warrior",name:"Weekend Warrior",description:"Study on both Saturday and Sunday",icon:"🏋️",xp:100,tier:"rare",condition:e=>{const t=e.sessionHistory.filter(s=>{const r=new Date(s.timestamp).getDay();return r===0||r===6});return t.some(s=>new Date(s.timestamp).getDay()===0)&&t.some(s=>new Date(s.timestamp).getDay()===6)}},{id:"midnight_scholar",name:"Midnight Scholar",description:"Study during midnight hour (12-1 AM)",icon:"🌙",xp:150,tier:"epic",condition:e=>e.sessionHistory.some(t=>new Date(t.timestamp).getHours()===0)}]},social_achievements:{name:"Social & Competition",icon:Aa,color:"cyan",achievements:[{id:"quest_master",name:"Quest Master",description:"Complete 10 daily quests",icon:"🗡️",xp:200,tier:"uncommon",condition:e=>e.completedQuestsToday>=10},{id:"perfectionist",name:"Perfectionist",description:"Complete all daily quests for 7 days straight",icon:"💎",xp:500,tier:"rare",condition:e=>e.questStreak>=7}]},mastery_achievements:{name:"Subject Mastery",icon:zi,color:"emerald",achievements:[{id:"subject_explorer",name:"Subject Explorer",description:"Study 5 different subjects",icon:"🗺️",xp:100,tier:"common",condition:e=>Object.keys(e.subjectMastery).length>=5},{id:"subject_master",name:"Subject Master",description:"Study one subject for 50+ hours",icon:"🎓",xp:300,tier:"rare",condition:e=>Object.values(e.subjectMastery).some(t=>t>=3e3)},{id:"polymath",name:"Polymath",description:"Study 10+ different subjects",icon:"🧠",xp:500,tier:"epic",condition:e=>Object.keys(e.subjectMastery).length>=10}]},legendary_feats:{name:"Legendary Feats",icon:Tt,color:"yellow",achievements:[{id:"prestige_master",name:"Prestige Master",description:"Reach Prestige Level 1",icon:"🌟",xp:2500,tier:"legendary",condition:e=>e.prestigeLevel>=1},{id:"jackpot_hunter",name:"Jackpot Hunter",description:"Hit 5 legendary XP jackpots",icon:"🎰",xp:1e3,tier:"epic",condition:e=>e.jackpotCount>=5},{id:"ultimate_scholar",name:"Ultimate Scholar",description:"Reach 1 million total XP",icon:"👑",xp:1e4,tier:"legendary",condition:e=>e.totalXPEarned>=1e6}]}},GE=({achievement:e,unlocked:t,onClick:n,showLocked:s=!0})=>{const r=Uv[e.tier];return!t&&!s?null:i.jsxs(O.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},onClick:()=>n==null?void 0:n(e),className:`relative cursor-pointer p-4 rounded-2xl border-2 ${t?`bg-gradient-to-br ${r.color} ${r.borderColor} ${r.glowColor} shadow-lg`:"bg-gray-100 border-gray-300 opacity-60"} transition-all duration-300`,children:[t&&i.jsx("div",{className:`absolute -top-1 -right-1 px-2 py-1 rounded-full text-xs font-bold ${r.textColor} bg-white shadow-md`,children:r.name}),i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("div",{className:`text-4xl mb-2 ${t?"":"filter grayscale"}`,children:e.icon}),!t&&i.jsx(Zd,{className:"w-6 h-6 mx-auto text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:`font-bold text-sm mb-1 ${t?"text-white":"text-gray-600"}`,children:e.name}),i.jsx("p",{className:`text-xs ${t?"text-white/90":"text-gray-500"}`,children:e.description}),i.jsxs("div",{className:`flex items-center justify-center gap-1 mt-2 ${t?"text-yellow-200":"text-gray-400"}`,children:[i.jsx(Ce,{className:"w-3 h-3"}),i.jsxs("span",{className:"text-xs font-medium",children:["+",e.xp," XP"]})]})]}),t&&e.tier==="legendary"&&i.jsx(O.div,{animate:{rotate:[0,180,360]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:i.jsx(Ct,{className:"w-6 h-6 text-yellow-300"})})]})},XE=({achievement:e,isOpen:t,onClose:n})=>{if(!t||!e)return null;const s=Uv[e.tier];return i.jsx(Xt,{children:i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:n,children:i.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:r=>r.stopPropagation(),className:`bg-gradient-to-br ${s.color} p-8 rounded-3xl shadow-2xl text-white max-w-md w-full text-center`,children:[i.jsx("div",{className:"text-6xl mb-4",children:e.icon}),i.jsxs("div",{className:"inline-block px-4 py-2 rounded-full bg-white/20 text-sm font-bold mb-4",children:[s.name," Achievement"]}),i.jsx("h2",{className:"text-2xl font-bold mb-3",children:e.name}),i.jsx("p",{className:"text-lg opacity-90 mb-6",children:e.description}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[i.jsx(Ce,{className:"w-6 h-6 text-yellow-300"}),i.jsxs("span",{className:"text-xl font-bold",children:["+",e.xp," XP"]})]}),i.jsx("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 px-6 py-3 rounded-xl font-semibold transition-all",children:"Awesome!"})]})})})},KE=()=>{const{userStats:e}=qt();y.useState("getting_started");const[t,n]=y.useState(null),[s,r]=y.useState(!1),[o,a]=y.useState("all"),c=(()=>{const m=[];return Object.entries(HE).forEach(([v,b])=>{b.achievements.forEach(S=>{const x=e.achievements.includes(S.id)||S.condition(e);m.push({...S,category:v,unlocked:x})})}),m})(),u=c.filter(m=>m.unlocked).length,d=c.length,h=c.filter(m=>o==="unlocked"?m.unlocked:o==="locked"?!m.unlocked:o!=="all"?m.tier===o:!0),f=m=>{n(m),r(!0)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-4 flex items-center gap-3",children:[i.jsx(mt,{className:"w-8 h-8 text-yellow-500"}),"Achievement Gallery"]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Your Progress"}),i.jsxs("p",{className:"text-gray-600",children:[u," of ",d," achievements unlocked"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[Math.round(u/d*100),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Complete"})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${u/d*100}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-purple-500 to-blue-600 rounded-full"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:["all","unlocked","locked","common","uncommon","rare","epic","legendary"].map(m=>i.jsxs("button",{onClick:()=>a(m),className:`px-4 py-2 rounded-full font-medium transition-all ${o===m?"bg-purple-600 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50 shadow"}`,children:[m.charAt(0).toUpperCase()+m.slice(1),m==="unlocked"&&` (${u})`,m==="locked"&&` (${d-u})`]},m))})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:h.map(m=>i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsx(GE,{achievement:m,unlocked:m.unlocked,onClick:f})},m.id))}),i.jsx(XE,{achievement:t,isOpen:s,onClose:()=>r(!1)})]})},hn={scholar:{id:"scholar",name:"Scholar Premium",price:4.99,period:"month",color:"from-blue-500 to-purple-600",icon:Gt,badge:"📚",description:"Perfect for dedicated students",features:[{id:"xp_multiplier",name:"1.5x XP Multiplier",icon:Ce,premium:!0},{id:"streak_savers",name:"5 Streak Savers/month",icon:sn,premium:!0},{id:"exclusive_themes",name:"3 Exclusive Themes",icon:Ct,premium:!0},{id:"priority_support",name:"Priority Support",icon:ec,premium:!0},{id:"advanced_stats",name:"Advanced Analytics",icon:rn,premium:!0}],limits:{xpMultiplier:1.5,streakSavers:5,themes:3,questSlots:5,studyGroups:5}},elite:{id:"elite",name:"Elite Premium",price:9.99,period:"month",color:"from-purple-500 to-pink-600",icon:Tt,badge:"👑",description:"For serious academic achievers",popular:!0,features:[{id:"xp_multiplier",name:"2x XP Multiplier",icon:Ce,premium:!0},{id:"streak_savers",name:"10 Streak Savers/month",icon:sn,premium:!0},{id:"exclusive_themes",name:"10 Exclusive Themes",icon:Ct,premium:!0},{id:"priority_support",name:"Priority Support",icon:ec,premium:!0},{id:"advanced_stats",name:"Advanced Analytics",icon:rn,premium:!0},{id:"exclusive_quests",name:"Elite Quests",icon:Te,premium:!0},{id:"custom_titles",name:"Custom Titles",icon:jr,premium:!0},{id:"leaderboard_badge",name:"Elite Badge",icon:Cm,premium:!0}],limits:{xpMultiplier:2,streakSavers:10,themes:10,questSlots:10,studyGroups:15}},legend:{id:"legend",name:"Legend Premium",price:19.99,period:"month",color:"from-yellow-400 to-orange-500",icon:mt,badge:"🏆",description:"Ultimate experience for legends",features:[{id:"xp_multiplier",name:"3x XP Multiplier",icon:Ce,premium:!0},{id:"streak_savers",name:"Unlimited Streak Savers",icon:sn,premium:!0},{id:"exclusive_themes",name:"All Exclusive Themes",icon:Ct,premium:!0},{id:"priority_support",name:"24/7 VIP Support",icon:ec,premium:!0},{id:"advanced_stats",name:"Advanced Analytics",icon:rn,premium:!0},{id:"exclusive_quests",name:"Legend Quests",icon:Te,premium:!0},{id:"custom_titles",name:"Custom Titles",icon:jr,premium:!0},{id:"leaderboard_badge",name:"Legend Badge",icon:Cm,premium:!0},{id:"private_coaching",name:"Private Study Coach",icon:Aa,premium:!0},{id:"unlimited_groups",name:"Unlimited Study Groups",icon:Aa,premium:!0}],limits:{xpMultiplier:3,streakSavers:-1,themes:-1,questSlots:-1,studyGroups:-1}}},QE={galaxy:{id:"galaxy",name:"Galaxy Explorer",description:"Study among the stars",preview:"from-purple-900 via-blue-900 to-indigo-900",icon:"🌌",tier:"scholar"},forest:{id:"forest",name:"Mystic Forest",description:"Focus in nature's embrace",preview:"from-green-800 via-emerald-700 to-teal-800",icon:"🌲",tier:"scholar"},ocean:{id:"ocean",name:"Deep Ocean",description:"Dive into knowledge",preview:"from-blue-900 via-cyan-800 to-teal-900",icon:"🌊",tier:"scholar"},sunset:{id:"sunset",name:"Golden Sunset",description:"Study in golden hour",preview:"from-orange-600 via-pink-500 to-purple-600",icon:"🌅",tier:"elite"},cyberpunk:{id:"cyberpunk",name:"Cyberpunk City",description:"Futuristic study vibes",preview:"from-pink-600 via-purple-600 to-cyan-500",icon:"🏙️",tier:"elite"},aurora:{id:"aurora",name:"Aurora Borealis",description:"Northern lights magic",preview:"from-green-400 via-blue-500 to-purple-600",icon:"🌌",tier:"legend"}},qE=({feature:e,isUnlocked:t,plan:n})=>{const s=e.icon;return i.jsxs(O.div,{whileHover:{scale:1.02},className:`p-4 rounded-xl border-2 transition-all ${t?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200":"bg-gray-50 border-gray-200 opacity-60"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t?i.jsx(h2,{className:"w-5 h-5 text-green-600"}):i.jsx(Zd,{className:"w-5 h-5 text-gray-400"}),i.jsx(s,{className:`w-5 h-5 ${t?"text-green-600":"text-gray-400"}`}),i.jsx("h3",{className:`font-semibold ${t?"text-green-800":"text-gray-600"}`,children:e.name})]}),!t&&i.jsxs("p",{className:"text-sm text-gray-500",children:["Upgrade to ",n," to unlock this feature"]})]})},YE=({userPlan:e,currentTheme:t,onThemeChange:n})=>{const[s,r]=y.useState(t),o=a=>{if(!e)return!1;const l={scholar:1,elite:2,legend:3},c={scholar:1,elite:2,legend:3};return l[e]>=c[a.tier]};return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx(Ct,{className:"w-6 h-6 text-purple-500"}),"Premium Themes"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(QE).map(([a,l])=>{const c=o(l),u=s===a;return i.jsxs(O.div,{whileHover:{scale:c?1.02:1},whileTap:{scale:c?.98:1},onClick:()=>{c&&(r(a),n==null||n(a))},className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all ${u&&c?"border-purple-500 shadow-purple-200/50":c?"border-gray-200 hover:border-gray-300":"border-gray-200 opacity-50 cursor-not-allowed"}`,children:[i.jsxs("div",{className:`w-full h-20 rounded-lg bg-gradient-to-r ${l.preview} mb-3 relative overflow-hidden`,children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-4xl",children:l.icon}),!c&&i.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:i.jsx(Zd,{className:"w-6 h-6 text-white"})}),u&&c&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(Ie,{className:"w-5 h-5 text-white"})})]}),i.jsx("h4",{className:`font-bold ${c?"text-gray-800":"text-gray-500"}`,children:l.name}),i.jsx("p",{className:`text-sm ${c?"text-gray-600":"text-gray-400"}`,children:l.description}),!c&&i.jsxs("div",{className:"mt-2 px-2 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-bold text-center",children:[l.tier.toUpperCase()," ONLY"]})]},a)})})]})},JE=({userStats:e,userPlan:t})=>{const n=hn[t];if(!n)return null;const s=[{name:"XP Multiplier Active",current:"2.5x",icon:Ce,color:"yellow"},{name:"Streak Savers Used",current:e.streakSavers||0,max:n.limits.streakSavers===-1?"∞":n.limits.streakSavers,icon:sn,color:"blue"},{name:"Elite Quests Completed",current:5,max:10,icon:Te,color:"purple"},{name:"Study Groups Joined",current:3,max:n.limits.studyGroups===-1?"∞":n.limits.studyGroups,icon:Aa,color:"green"}];return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx(rn,{className:"w-6 h-6 text-purple-500"}),"Premium Usage"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((r,o)=>{const a=r.icon,l=r.max&&r.max!=="∞"?r.current/r.max*100:100;return i.jsxs("div",{className:"p-4 rounded-xl bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(a,{className:`w-5 h-5 text-${r.color}-500`}),i.jsx("h4",{className:"font-semibold text-gray-800",children:r.name})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-2xl font-bold text-gray-800",children:r.current}),r.max&&i.jsxs("span",{className:"text-sm text-gray-600",children:["/ ",r.max]})]}),r.max&&r.max!=="∞"&&i.jsx(pl,{progress:l,color:r.color,height:"h-2",showPercentage:!1})]},o)})})]})},ZE=()=>{const[e,t]=y.useState({yes:0,no:0}),[n,s]=y.useState(!1),[r,o]=y.useState(null),[a,l]=y.useState(!1),[c,u]=y.useState(!1);y.useEffect(()=>{(async()=>{var p,w;const{data:S,error:x}=await He.from("premium_poll").select("vote_type, count");if(x)console.error("Error fetching poll data:",x);else if(S){const N=((p=S.find(k=>k.vote_type==="yes"))==null?void 0:p.count)||0,j=((w=S.find(k=>k.vote_type==="no"))==null?void 0:w.count)||0;t({yes:N,no:j})}const{data:{user:g}}=await He.auth.getUser();if(g){const{data:N}=await He.from("premium_poll_votes").select("vote_type").eq("user_id",g.id).single();N&&(s(!0),o(N.vote_type),l(!0))}})();const b=He.channel("poll-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"premium_poll"},S=>{var p,w;const{data:x,error:g}=S;if(g)console.error("Error fetching poll data:",g);else if(x){const N=((p=x.find(k=>k.vote_type==="yes"))==null?void 0:p.count)||0,j=((w=x.find(k=>k.vote_type==="no"))==null?void 0:w.count)||0;t({yes:N,no:j})}}).subscribe();return()=>He.removeChannel(b)},[]);const d=async v=>{var b,S;if(!(n||c)){u(!0),o(v);try{const{data:{user:x}}=await He.auth.getUser();if(!x)throw new Error("User not authenticated");const{data:g}=await He.from("premium_poll_votes").select("vote_type").eq("user_id",x.id).single();if(g){s(!0);return}const{error:p}=await He.from("premium_poll_votes").insert({user_id:x.id,vote_type:v});if(p)throw p;const{error:w}=await He.rpc("increment_poll_count",{vote_type:v});if(w)throw w;const{data:N,error:j}=await He.from("premium_poll").select("vote_type, count");if(j)throw j;const k=((b=N.find($=>$.vote_type==="yes"))==null?void 0:b.count)||0,_=((S=N.find($=>$.vote_type==="no"))==null?void 0:S.count)||0;t({yes:k,no:_}),s(!0),l(!0)}catch(x){console.error("Error submitting vote:",x),s(!1),o(null)}finally{u(!1)}}},h=e.yes+e.no,f=h>0?e.yes/h*100:0,m=100-f;return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx(Ps,{className:"w-6 h-6 text-purple-500"}),"Let Us Know"]}),a?i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n&&i.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[i.jsx(Ie,{className:"w-5 h-5"}),i.jsx("span",{className:"font-semibold",children:"Thank you for voting!"})]}),i.jsxs("p",{className:"text-green-700 text-sm mt-1",children:['Your vote for "',r==="yes"?"There should be a premium":"There should not be a premium",'" has been recorded.']})]}),i.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Poll Results"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-4 h-4 rounded-full ${r==="yes"?"bg-green-500":"bg-gray-300"}`}),i.jsx("span",{className:"font-medium text-gray-800",children:"There should be a premium"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-lg font-bold text-gray-800",children:[f.toFixed(1),"%"]}),i.jsxs("span",{className:"text-sm text-gray-600",children:["(",e.yes," votes)"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${f}%`},transition:{duration:1,ease:"easeOut"},className:"bg-green-500 h-3 rounded-full"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-4 h-4 rounded-full ${r==="no"?"bg-red-500":"bg-gray-300"}`}),i.jsx("span",{className:"font-medium text-gray-800",children:"There should not be a premium"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-lg font-bold text-gray-800",children:[m.toFixed(1),"%"]}),i.jsxs("span",{className:"text-sm text-gray-600",children:["(",e.no," votes)"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:1,ease:"easeOut",delay:.2},className:"bg-red-500 h-3 rounded-full"})})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:i.jsxs("p",{className:"text-center text-gray-600",children:[i.jsx("span",{className:"font-semibold",children:h})," total votes • Results update in real-time"]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"What do you think about premium features?"}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(O.button,{onClick:()=>d("yes"),disabled:c||n,whileHover:{scale:1.02},whileTap:{scale:.98},className:`py-4 px-6 rounded-xl font-semibold transition-all text-left border-2 ${c&&r==="yes"?"bg-green-500 text-white border-green-500":n&&r==="yes"?"bg-green-500 text-white border-green-500 cursor-not-allowed":"bg-gray-50 text-gray-800 hover:bg-gray-100 border-gray-200 hover:border-gray-300"} ${c||n?"cursor-not-allowed":"cursor-pointer"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"There should be a premium"}),c&&r==="yes"&&i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})]})}),i.jsx(O.button,{onClick:()=>d("no"),disabled:c||n,whileHover:{scale:1.02},whileTap:{scale:.98},className:`py-4 px-6 rounded-xl font-semibold transition-all text-left border-2 ${c&&r==="no"?"bg-red-500 text-white border-red-500":n&&r==="no"?"bg-red-500 text-white border-red-500 cursor-not-allowed":"bg-gray-50 text-gray-800 hover:bg-gray-100 border-gray-200 hover:border-gray-300"} ${c||n?"cursor-not-allowed":"cursor-pointer"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"There should not be a premium"}),c&&r==="no"&&i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})]})})]})]})]})},eP=({plan:e,isCurrentPlan:t,onSelect:n})=>{const s=e.icon;return i.jsxs(O.div,{whileHover:{scale:1.02,y:-5},className:`relative p-6 rounded-3xl border-2 transition-all ${e.popular?"border-purple-500 shadow-purple-200/50 bg-gradient-to-br from-purple-50 to-pink-50":"border-gray-200 bg-white hover:border-gray-300"} ${t?"ring-4 ring-green-200":""}`,children:[e.popular&&i.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:i.jsx("div",{className:"px-4 py-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-bold rounded-full",children:"Most Popular"})}),t&&i.jsx("div",{className:"absolute -top-3 right-4",children:i.jsx("div",{className:"px-3 py-1 bg-green-500 text-white text-sm font-bold rounded-full",children:"Current Plan"})}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${e.color} flex items-center justify-center text-white shadow-lg`,children:i.jsx(s,{className:"w-8 h-8"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:e.name}),i.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsxs("span",{className:"text-4xl font-bold text-gray-800",children:["$",e.price]}),i.jsxs("span",{className:"text-gray-600",children:["/",e.period]})]})]}),i.jsx("div",{className:"space-y-3 mb-6",children:e.features.map((r,o)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ie,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-gray-700",children:r.name})]},o))}),i.jsx("button",{onClick:()=>n(e.id),disabled:t,className:`w-full py-3 rounded-xl font-semibold transition-all ${t?"bg-gray-100 text-gray-500 cursor-not-allowed":e.popular?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-lg":"bg-gray-800 text-white hover:bg-gray-900"}`,children:t?"Current Plan":`Upgrade to ${e.name}`})]})},tP=()=>{const{userStats:e}=qt(),[t,n]=y.useState("plans"),[s,r]=y.useState(()=>e.isPremium?e.premiumPlan||"scholar":null),[o,a]=y.useState("galaxy"),l=Qt(),c=[{id:"plans",name:"Premium Plans",icon:Tt},{id:"features",name:"Features",icon:Ce},{id:"themes",name:"Themes",icon:Ct},{id:"usage",name:"Usage Stats",icon:rn},{id:"poll",name:"Let Us Know",icon:Ps}];y.useEffect(()=>{(async()=>{const{data:{user:f}}=await He.auth.getUser();f&&window.location.pathname==="/"&&l("/dashboard")})()},[l]);const u=h=>{console.log("Selected plan:",h),r(h)},d=h=>{a(h),console.log("Changed theme to:",h)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[i.jsx(Tt,{className:"w-8 h-8 text-yellow-500"}),"Premium Experience ( This is a testing beta page and nothing on it is true at the moment )"]}),i.jsx("p",{className:"text-gray-600",children:"Testing need for a premium page."})]}),s&&i.jsx("div",{className:`bg-gradient-to-r ${hn[s].color} rounded-3xl shadow-xl p-6 text-white mb-8`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[hn[s].badge,hn[s].name," Active"]}),i.jsx("p",{className:"opacity-90",children:"Enjoying premium benefits • Next billing: January 15, 2025"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-3xl font-bold",children:[hn[s].limits.xpMultiplier,"x"]}),i.jsx("div",{className:"opacity-90",children:"XP Multiplier"})]})]})}),i.jsx("div",{className:"flex gap-2 mb-8 overflow-x-auto",children:c.map(h=>{const f=h.icon;return i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(h.id),className:`flex-shrink-0 flex items-center gap-2 px-6 py-3 rounded-2xl font-semibold transition-all ${t===h.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50 shadow"}`,children:[i.jsx(f,{className:"w-5 h-5"}),h.name]},h.id)})}),i.jsxs("div",{className:"space-y-8",children:[t==="plans"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Object.values(hn).map(h=>i.jsx(eP,{plan:h,isCurrentPlan:s===h.id,onSelect:u},h.id))}),t==="features"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(hn).flatMap(h=>h.features.map(f=>i.jsx(qE,{feature:f,isUnlocked:s&&hn[s]&&hn[s].features.some(m=>m.id===f.id),plan:h.name},`${h.id}-${f.id}`)))}),t==="themes"&&i.jsx(YE,{userPlan:s,currentTheme:o,onThemeChange:d}),t==="usage"&&i.jsx(JE,{userStats:e,userPlan:s}),t==="poll"&&i.jsx(ZE,{})]}),i.jsxs("div",{className:"mt-12 bg-gradient-to-r from-purple-600 to-blue-600 rounded-3xl shadow-2xl p-8 text-white",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why Go Premium?"}),i.jsx("p",{className:"text-xl opacity-90",children:"Join thousands of successful students who've unlocked their potential"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(kr,{className:"w-12 h-12 mx-auto mb-4 text-yellow-300"}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:"3x Faster Progress"}),i.jsx("p",{className:"opacity-90",children:"Accelerate your learning with premium XP multipliers"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(sn,{className:"w-12 h-12 mx-auto mb-4 text-blue-300"}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:"Never Lose Progress"}),i.jsx("p",{className:"opacity-90",children:"Protect your streaks with unlimited streak savers"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(Tt,{className:"w-12 h-12 mx-auto mb-4 text-purple-300"}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:"Exclusive Access"}),i.jsx("p",{className:"opacity-90",children:"Unlock exclusive themes, quests, and features"})]})]})]})]})},nP=({userStats:e})=>{const{rewardQueue:t,showRewards:n,setShowRewards:s}=qt();return i.jsx(Xt,{mode:"wait",children:t&&t.length>0&&t.map((r,o)=>{switch(r.type){case"XP_EARNED":return i.jsx(Lv,{amount:r.xp||r.amount||0,bonuses:r.bonuses||{},onComplete:()=>s(!1)},r.id);case"LEVEL_UP":return i.jsx(Ov,{newLevel:r.level||e.level,isPrestige:r.isPrestige||!1,onComplete:()=>s(!1)},r.id);case"ACHIEVEMENT":return i.jsx(Iv,{achievement:r,onComplete:()=>s(!1)},r.id);case"STREAK_MILESTONE":return i.jsx($v,{streak:r.streak||e.currentStreak,onComplete:()=>s(!1)},r.id);case"QUEST_COMPLETE":return i.jsx(Fv,{quest:r,onComplete:()=>s(!1)},r.id);case"VARIABLE_REWARD":case"MYSTERY_BOX":return i.jsx(RE,{reward:r,onComplete:()=>s(!1)},r.id);default:return i.jsx(ME,{notifications:[{id:r.id,title:r.title,message:r.description}],onRemove:()=>s(!1)},r.id)}})})},Zp={xp_small:{id:"xp_small",name:"XP Boost",description:"Bonus experience points!",icon:"⭐",type:"xp",value:{min:50,max:150},probability:40,tier:"common",color:"from-blue-400 to-blue-600"},xp_medium:{id:"xp_medium",name:"XP Surge",description:"Major experience boost!",icon:"💫",type:"xp",value:{min:200,max:400},probability:25,tier:"uncommon",color:"from-green-400 to-green-600"},xp_large:{id:"xp_large",name:"XP Explosion",description:"Massive experience reward!",icon:"✨",type:"xp",value:{min:500,max:1e3},probability:15,tier:"rare",color:"from-purple-400 to-purple-600"},streak_saver:{id:"streak_saver",name:"Streak Saver",description:"Protect your study streak!",icon:"🛡️",type:"streak_saver",value:1,probability:10,tier:"rare",color:"from-orange-400 to-orange-600"},title_unlock:{id:"title_unlock",name:"Special Title",description:"Unlock a unique title!",icon:"👑",type:"title",value:["Mystery Master","Lucky Scholar","Box Opener","Surprise Seeker"],probability:5,tier:"epic",color:"from-yellow-400 to-orange-500"},multiplier_boost:{id:"multiplier_boost",name:"XP Multiplier",description:"2x XP for 1 hour!",icon:"⚡",type:"multiplier",value:{multiplier:2,duration:36e5},probability:3,tier:"epic",color:"from-purple-500 to-pink-500"},jackpot:{id:"jackpot",name:"JACKPOT!",description:"Ultimate mystery reward!",icon:"💎",type:"jackpot",value:{xp:2e3,title:"Jackpot Winner",streakSavers:3},probability:2,tier:"legendary",color:"from-yellow-400 via-orange-500 to-red-500"}},sP=({intensity:e=50})=>{const[t,n]=y.useState([]);return y.useEffect(()=>{const s=Array.from({length:e},(o,a)=>({id:a,x:Math.random()*100,y:Math.random()*100,color:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"][Math.floor(Math.random()*5)],size:Math.random()*4+2,speedX:(Math.random()-.5)*4,speedY:Math.random()*2+1}));n(s);const r=setTimeout(()=>n([]),3e3);return()=>clearTimeout(r)},[e]),i.jsx("div",{className:"fixed inset-0 pointer-events-none z-40",children:t.map(s=>i.jsx(O.div,{initial:{x:s.x+"%",y:s.y+"%",opacity:1,scale:1},animate:{x:s.x+s.speedX*10+"%",y:s.y+s.speedY*20+"%",opacity:0,scale:0},transition:{duration:3,ease:"easeOut"},className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:s.color,width:s.size,height:s.size}},s.id))})},rP=({onRewardGenerated:e,onClose:t})=>{const[n,s]=y.useState(!1),[r,o]=y.useState(null),[a,l]=y.useState(!1),c=()=>{const h=Math.random()*100;let f=0;for(const m of Object.values(Zp))if(f+=m.probability,h<=f){let v=m.value;return m.type==="xp"&&typeof m.value=="object"?v=Math.floor(Math.random()*(m.value.max-m.value.min+1))+m.value.min:m.type==="title"&&Array.isArray(m.value)&&(v=m.value[Math.floor(Math.random()*m.value.length)]),{...m,actualValue:v}}return{...Zp.xp_small,actualValue:75}},u=()=>{s(!0),setTimeout(()=>{const h=c();o(h),l(!0),e(h)},2e3)},d=()=>{l(!1),setTimeout(()=>{t()},300)};return i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:[i.jsx(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-purple-600 to-indigo-700 p-8 rounded-3xl shadow-2xl text-white text-center max-w-md mx-4",children:a?i.jsxs(i.Fragment,{children:[i.jsx(O.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring",stiffness:200},className:`w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-r ${r.color} flex items-center justify-center text-4xl shadow-lg`,children:r.icon}),i.jsxs("div",{className:`inline-block px-4 py-2 rounded-full bg-white/20 text-sm font-bold mb-4 ${r.tier==="legendary"?"animate-pulse":""}`,children:[r.tier.toUpperCase()," REWARD!"]}),i.jsx("h2",{className:"text-3xl font-bold mb-2",children:r.name}),i.jsx("p",{className:"text-lg opacity-90 mb-4",children:r.description}),i.jsxs("div",{className:"bg-black/20 rounded-lg p-4 mb-6",children:[r.type==="xp"&&i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Ce,{className:"w-6 h-6 text-yellow-300"}),i.jsxs("span",{className:"text-2xl font-bold",children:["+",r.actualValue," XP"]})]}),r.type==="streak_saver"&&i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(ut,{className:"w-6 h-6 text-orange-300"}),i.jsx("span",{className:"text-xl font-bold",children:"+1 Streak Saver"})]}),r.type==="title"&&i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Tt,{className:"w-6 h-6 text-yellow-300"}),i.jsxs("span",{className:"text-xl font-bold",children:['"',r.actualValue,'"']})]}),r.type==="multiplier"&&i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(kr,{className:"w-6 h-6 text-purple-300"}),i.jsx("span",{className:"text-xl font-bold",children:"2x XP for 1 hour!"})]}),r.type==="jackpot"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Ce,{className:"w-6 h-6 text-yellow-300"}),i.jsxs("span",{className:"text-xl font-bold",children:["+",r.value.xp," XP"]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Tt,{className:"w-5 h-5 text-yellow-300"}),i.jsxs("span",{className:"font-bold",children:['"',r.value.title,'"']})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(ut,{className:"w-5 h-5 text-orange-300"}),i.jsxs("span",{className:"font-bold",children:["+",r.value.streakSavers," Streak Savers"]})]})]})]}),i.jsx("button",{onClick:d,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-bold transition-all",children:"Awesome!"})]}):i.jsxs(i.Fragment,{children:[i.jsx(O.div,{animate:n?{rotateY:[0,180,360],scale:[1,1.2,1],rotateX:[0,15,-15,0]}:{y:[0,-10,0],rotateZ:[0,5,-5,0]},transition:{duration:n?2:1.5,repeat:n?0:1/0,ease:"easeInOut"},className:"text-8xl mb-6",children:"🎁"}),i.jsx("h2",{className:"text-3xl font-bold mb-4",children:n?"Opening...":"Mystery Box"}),i.jsx("p",{className:"text-lg opacity-90 mb-6",children:n?"Something amazing is coming!":"Click to reveal your surprise reward!"}),!n&&i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:u,className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-bold transition-all transform hover:scale-105",children:"Open Box!"}),i.jsx("button",{onClick:t,className:"px-4 py-3 bg-white/20 hover:bg-white/30 rounded-xl transition-all",children:i.jsx(Ra,{className:"w-6 h-6"})})]}),n&&i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(O.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full"}),i.jsx("span",{children:"Opening mystery box..."})]})]})}),a&&i.jsx(sP,{intensity:r.tier==="legendary"?100:50})]})},iP=({available:e=!0,onOpen:t,className:n=""})=>{const[s,r]=y.useState(!1),{addReward:o,userStats:a,setUserStats:l}=qt(),c=()=>{e&&(r(!0),t==null||t())},u=d=>{if(d.type==="xp")l(h=>({...h,xp:h.xp+d.actualValue,totalXPEarned:(h.totalXPEarned||h.xp)+d.actualValue}));else if(d.type==="streak_saver")l(h=>({...h,streakSavers:h.streakSavers+1}));else if(d.type==="title")l(h=>({...h,unlockedTitles:[...h.unlockedTitles||[],d.actualValue],currentTitle:d.actualValue}));else if(d.type==="multiplier"){const h=Date.now()+d.value.duration;l(f=>({...f,xpMultiplier:d.value.multiplier,multiplierEndTime:h}))}else d.type==="jackpot"&&l(h=>({...h,xp:h.xp+d.value.xp,totalXPEarned:(h.totalXPEarned||h.xp)+d.value.xp,streakSavers:h.streakSavers+d.value.streakSavers,unlockedTitles:[...h.unlockedTitles||[],d.value.title],currentTitle:d.value.title,jackpotCount:(h.jackpotCount||0)+1}));o({type:"MYSTERY_BOX",title:`🎁 ${d.name}`,description:d.description,tier:d.tier,xp:d.type==="xp"?d.actualValue:d.type==="jackpot"?d.value.xp:0})};return i.jsxs(i.Fragment,{children:[i.jsxs(O.div,{whileHover:e?{scale:1.05,y:-5}:{},whileTap:e?{scale:.95}:{},onClick:c,className:`relative ${n} ${e?"cursor-pointer":"cursor-not-allowed opacity-50"}`,children:[i.jsx("div",{className:`p-6 rounded-2xl border-2 transition-all ${e?"bg-gradient-to-br from-purple-600 to-indigo-700 border-purple-400 shadow-lg hover:shadow-purple-500/30":"bg-gray-400 border-gray-300"}`,children:i.jsxs(O.div,{animate:e?{rotateY:[0,10,-10,0],y:[0,-5,0]}:{},transition:{duration:2,repeat:e?1/0:0,repeatDelay:3},className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🎁"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Mystery Box"}),i.jsx("p",{className:"text-purple-100 text-sm mb-4",children:e?"Click to open and get a surprise reward!":"Complete more sessions to unlock"}),e&&i.jsx("div",{className:"bg-yellow-500 text-black px-4 py-2 rounded-lg font-bold text-sm",children:"Open Now!"})]})}),e&&i.jsx(O.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:i.jsx(Ct,{className:"w-6 h-6 text-yellow-400"})})]}),i.jsx(Xt,{children:s&&i.jsx(rP,{onRewardGenerated:u,onClose:()=>r(!1)})})]})},oP=()=>{const{userStats:e,getUserRank:t,getXPProgress:n,getXPForLevel:s,addReward:r,generateDailyQuests:o,generateWeeklyQuests:a}=qt(),[l,c]=y.useState("overview"),[u,d]=y.useState(!1);y.useEffect(()=>{e.dailyQuests.length===0&&o(),e.weeklyQuests.length===0&&a()},[]);const h=[{id:"overview",label:"Overview",icon:Ps},{id:"quests",label:"Quests",icon:Te},{id:"achievements",label:"Achievements",icon:mt},{id:"streaks",label:"Streaks",icon:ut},{id:"premium",label:"Premium",icon:Tt}],f=t(),m=n(),v=s(e.level+1),b=w=>w>=100?"from-yellow-400 to-orange-500":w>=50?"from-purple-600 to-pink-600":w>=25?"from-blue-600 to-purple-600":w>=10?"from-green-600 to-blue-600":"from-gray-600 to-gray-700",S=w=>w>=365?"👑":w>=100?"💎":w>=50?"🔥":w>=30?"⚡":w>=7?"💪":"🌟",x=w=>{r({type:"XP_EARNED",title:`Timer set for ${w} minutes`,description:"Focus mode activated! Start studying to earn XP.",tier:"common"})},[g,p]=y.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 mt-20 pl-10",children:[i.jsx(nP,{userStats:e}),i.jsx(Xt,{children:g&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:()=>p(!1),children:i.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:w=>w.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(kr,{className:"w-6 h-6 text-yellow-500"}),"How the System Works"]}),i.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:i.jsx("span",{className:"text-xl text-gray-500",children:"✕"})})]}),i.jsxs("div",{className:"space-y-6 text-gray-700",children:[i.jsx("p",{className:"text-lg text-gray-600",children:"Trackviso makes studying feel like a game. Every time you study, you earn XP and build your streak. Here's the breakdown:"}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2 flex items-center gap-2",children:"🎯 XP (Experience Points)"}),i.jsxs("ul",{className:"space-y-1 text-blue-700",children:[i.jsx("li",{children:"• Earn XP for every study session."}),i.jsx("li",{children:"• The longer + more focused you study, the more XP you get."}),i.jsx("li",{children:"• Multipliers boost your XP (streak bonus, mastery bonus, and more)."})]})]}),i.jsxs("div",{className:"bg-orange-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-orange-800 mb-2 flex items-center gap-2",children:"🔥 Streaks"}),i.jsxs("ul",{className:"space-y-1 text-orange-700",children:[i.jsx("li",{children:"• Study every day to keep your streak alive."}),i.jsx("li",{children:"• Longer streaks = bigger XP boosts."}),i.jsx("li",{children:"• Miss a day? Use a Streak Saver to protect your progress."})]})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2 flex items-center gap-2",children:"🏆 Levels & Prestige"}),i.jsxs("ul",{className:"space-y-1 text-yellow-700",children:[i.jsx("li",{children:"• Level up as you gain XP."}),i.jsx("li",{children:"• Reach the max level? You can Prestige: reset to Level 1, keep your rewards, and earn a permanent XP boost."})]})]}),i.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2 flex items-center gap-2",children:"🎁 Rewards & Quests"}),i.jsxs("ul",{className:"space-y-1 text-green-700",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Variable Rewards:"})," Sometimes you'll get bonus XP, gems, or rare jackpots after studying."]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Daily Quests:"}),' Extra challenges (e.g. "Study 30 minutes") that give big bonuses.']}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Achievements:"})," Unlock badges for milestones (like hitting a 30-day streak)."]})]})]}),i.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-2 flex items-center gap-2",children:"💎 Gems & Premium"}),i.jsxs("ul",{className:"space-y-1 text-purple-700",children:[i.jsx("li",{children:"• Earn gems from studying, quests, or jackpots."}),i.jsx("li",{children:"• Spend gems on streak savers, boosts, or cosmetic upgrades."}),i.jsx("li",{children:"• Premium users get extra perks + higher rewards."})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-4 text-white",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:"👉 Simple takeaway:"}),i.jsx("p",{className:"text-lg",children:"Study → Earn XP → Level up → Unlock rewards."}),i.jsx("p",{className:"text-indigo-100 mt-1",children:"The more consistent you are, the faster you progress."})]})]}),i.jsx("div",{className:"flex justify-center mt-8",children:i.jsx("button",{onClick:()=>p(!1),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all",children:"Got it!"})})]})})}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-700 text-white",children:[i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx(O.div,{whileHover:{scale:1.05,rotate:5},className:`w-24 h-24 rounded-full bg-gradient-to-r ${b(e.level)} flex items-center justify-center text-white text-3xl font-bold shadow-2xl border-4 border-white/20`,children:e.level}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:f}),i.jsxs("p",{className:"text-blue-100 mb-1",children:["Level ",e.level,e.prestigeLevel>0&&i.jsxs("span",{className:"ml-2 px-2 py-1 rounded-full bg-yellow-500/20 text-yellow-200 text-sm",children:["Prestige ",e.prestigeLevel]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ce,{className:"w-4 h-4 text-yellow-300"}),i.jsxs("span",{className:"text-sm font-medium",children:[e.xp.toLocaleString()," /"," ",v.toLocaleString()," XP"]})]})]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("button",{onClick:()=>p(!0),className:"p-2 bg-white/20 hover:bg-white/30 rounded-xl transition-all",children:i.jsx(sy,{className:"w-5 h-5"})})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("span",{className:"text-sm font-medium text-blue-100",children:["Progress to Level ",e.level+1]}),i.jsxs("span",{className:"text-sm font-bold",children:[m.percentage.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-white/20 rounded-full h-4 overflow-hidden",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${m.percentage}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full shadow-sm relative overflow-hidden",children:i.jsx(O.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ut,{className:"w-6 h-6 text-orange-300"}),i.jsx("span",{className:"font-semibold",children:"Current Streak"})]}),i.jsxs("div",{className:"text-2xl font-bold",children:[S(e.currentStreak)," ",e.currentStreak]})]}),i.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Rt,{className:"w-6 h-6 text-blue-300"}),i.jsx("span",{className:"font-semibold",children:"Study Time"})]}),i.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(e.totalStudyTime/60),"h"]})]}),i.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(mt,{className:"w-6 h-6 text-yellow-300"}),i.jsx("span",{className:"font-semibold",children:"Achievements"})]}),i.jsx("div",{className:"text-2xl font-bold",children:e.achievements.length})]}),i.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Te,{className:"w-6 h-6 text-green-300"}),i.jsx("span",{className:"font-semibold",children:"Quests Done"})]}),i.jsx("div",{className:"text-2xl font-bold",children:e.dailyQuests.filter(w=>w.completed).length})]})]})]}),i.jsx(Xt,{children:u&&i.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white/10 backdrop-blur border-t border-white/20 px-6 py-4",children:i.jsx("div",{className:"container mx-auto",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("button",{onClick:()=>x(25),className:"flex items-center gap-2 px-4 py-3 bg-white/20 hover:bg-white/30 rounded-xl font-medium transition-all",children:[i.jsx(Rt,{className:"w-4 h-4"}),"25min Focus"]}),i.jsxs("button",{onClick:()=>x(15),className:"flex items-center gap-2 px-4 py-3 bg-white/20 hover:bg-white/30 rounded-xl font-medium transition-all",children:[i.jsx(kr,{className:"w-4 h-4"}),"15min Quick"]}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 bg-white/20 hover:bg-white/30 rounded-xl font-medium transition-all",children:[i.jsx(Gt,{className:"w-4 h-4"}),"Review Notes"]}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 bg-white/20 hover:bg-white/30 rounded-xl font-medium transition-all",children:[i.jsx(Te,{className:"w-4 h-4"}),"View Quests"]})]})})})})]}),i.jsxs("div",{className:"container mx-auto px-6 py-6",children:[i.jsx("div",{className:"flex gap-2 mb-8 overflow-x-auto",children:h.map(w=>{const N=w.icon;return i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(w.id),className:`flex items-center gap-2 px-6 py-3 rounded-2xl font-semibold transition-all whitespace-nowrap ${l===w.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50 shadow"}`,children:[i.jsx(N,{className:"w-4 h-4"}),w.label,w.id==="premium"&&i.jsx(Tt,{className:"w-4 h-4 text-yellow-500"})]},w.id)})}),i.jsxs("div",{className:"space-y-8",children:[l==="overview"&&i.jsx(aP,{userStats:e}),l==="quests"&&i.jsx(WE,{}),l==="achievements"&&i.jsx(KE,{}),l==="streaks"&&i.jsx(FE,{}),l==="premium"&&i.jsx(tP,{})]})]})]})},aP=({userStats:e})=>{var a;const n=(()=>{var h;const l=new Date;l.setDate(l.getDate()-7);const c=((h=e.sessionHistory)==null?void 0:h.filter(f=>new Date(f.timestamp)>l))||[],u=c.reduce((f,m)=>f+(m.xpEarned||0),0),d=c.reduce((f,m)=>f+(m.durationMinutes||0),0);return{sessionsThisWeek:c.length,xpThisWeek:u,timeThisWeek:Math.round(d/60)}})(),s=[{label:"Total XP Earned",value:(e.totalXPEarned||e.xp||0).toLocaleString(),icon:Ce,color:"from-yellow-500 to-orange-500",change:n.xpThisWeek>0?`+${n.xpThisWeek.toLocaleString()} this week`:"No XP this week"},{label:"Study Sessions",value:e.totalSessions,icon:Gt,color:"from-green-500 to-teal-500",change:n.sessionsThisWeek>0?`+${n.sessionsThisWeek} this week`:"No sessions this week"},{label:"Longest Streak",value:`${e.longestStreak} days`,icon:ut,color:"from-orange-500 to-red-500",change:e.currentStreak===e.longestStreak?"Current record!":"Personal best"},{label:"Total Study Time",value:`${Math.round(e.totalStudyTime/60)}h`,icon:Rt,color:"from-blue-500 to-indigo-500",change:n.timeThisWeek>0?`+${n.timeThisWeek}h this week`:"No study time this week"}],r=e.achievements.slice(-3),o=((a=e.dailyQuests)==null?void 0:a.filter(l=>!l.completed))||[];return i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((l,c)=>{const u=l.icon;return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},whileHover:{scale:1.02,y:-5},className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-r ${l.color} flex items-center justify-center mb-4`,children:i.jsx(u,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:l.value}),i.jsx("p",{className:"text-gray-600 text-sm mb-2",children:l.label}),i.jsx("span",{className:"text-xs text-green-600 font-medium",children:l.change})]},l.label)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(Te,{className:"w-5 h-5 text-blue-500"}),"Active Quests"]}),i.jsxs(O.button,{whileHover:{scale:1.05},onClick:()=>setActiveTab("quests"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1",children:["View All ",i.jsx(Tm,{className:"w-4 h-4"})]})]}),i.jsxs("div",{className:"space-y-3",children:[o.slice(0,3).map((l,c)=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium text-gray-800",children:l.name}),i.jsxs("span",{className:"text-sm text-blue-600",children:["+",l.xp," XP"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${l.progress/l.target*100}%`}})}),i.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[l.progress," / ",l.target]})]},c)),o.length===0&&i.jsxs("div",{className:"text-center py-6 text-gray-500",children:[i.jsx(Te,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"No active quests"}),i.jsx("p",{className:"text-sm",children:"New quests will appear daily!"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(mt,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),i.jsxs(O.button,{whileHover:{scale:1.05},onClick:()=>setActiveTab("achievements"),className:"text-yellow-600 hover:text-yellow-700 font-medium text-sm flex items-center gap-1",children:["View All ",i.jsx(Tm,{className:"w-4 h-4"})]})]}),i.jsxs("div",{className:"space-y-3",children:[r.map((l,c)=>i.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.1},className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg",children:[i.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center",children:i.jsx(mt,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800",children:"Achievement Unlocked"}),i.jsx("p",{className:"text-sm text-gray-600",children:l})]})]},c)),r.length===0&&i.jsxs("div",{className:"text-center py-6 text-gray-500",children:[i.jsx(jr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"No achievements yet"}),i.jsx("p",{className:"text-sm",children:"Complete quests to unlock achievements!"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx(o2,{className:"w-5 h-5 text-purple-500"}),"Mystery Rewards"]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-indigo-100 rounded-2xl p-6",children:[i.jsx("p",{className:"text-gray-700 mb-4",children:"Complete study sessions to earn mystery boxes with surprise rewards! Get bonus XP, streak savers, special titles, and more!"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600",children:[i.jsx(Ct,{className:"w-4 h-4"}),i.jsx("span",{children:"Next box available after 3 more sessions"})]})]})]}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(iP,{available:e.totalSessions>=3&&e.totalSessions%3===0,onOpen:()=>console.log("Mystery box opened!")})})]}),i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl shadow-xl p-8 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[i.jsx(Tt,{className:"w-7 h-7 text-yellow-300"}),"Unlock Premium Power"]}),i.jsx("p",{className:"text-purple-100 mb-4",children:"Get 3x XP multiplier, unlimited streak savers, and exclusive themes!"}),i.jsxs("ul",{className:"space-y-1 text-sm text-purple-100",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Ie,{className:"w-4 h-4 text-green-300"}),"3x Faster Progress"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Ie,{className:"w-4 h-4 text-green-300"}),"Never Lose Your Streak"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Ie,{className:"w-4 h-4 text-green-300"}),"Exclusive Content & Themes"]})]})]}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white text-purple-600 px-8 py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all",children:"Upgrade Now"})]})})]})},lP=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(!1),[r,o]=y.useState(null),[a,l]=y.useState({name:"",color:"#6C5DD3",goalHours:0}),c=Qt(),{setTimerSubject:u}=Jd();qt(),y.useEffect(()=>{const w=JSON.parse(localStorage.getItem("subjects")||"[]");t(w)},[]);const d=w=>{u(w),c(`/study?subject=${encodeURIComponent(w)}`)},h=()=>{if(a.name.trim()){const w=[...e,{...a,id:Date.now()}];t(w),localStorage.setItem("subjects",JSON.stringify(w)),l({name:"",color:"#6C5DD3",goalHours:0}),s(!1)}},f=()=>{if(r&&r.name.trim()){const w=e.map(N=>N.id===r.id?r:N);t(w),localStorage.setItem("subjects",JSON.stringify(w)),o(null),s(!1)}},m=w=>{const N=e.filter(j=>j.id!==w);t(N),localStorage.setItem("subjects",JSON.stringify(N))},v=w=>JSON.parse(localStorage.getItem("studySessions")||"[]").filter(j=>j.subjectName===w).reduce((j,k)=>j+k.durationMinutes,0),b=w=>{const j=JSON.parse(localStorage.getItem("studySessions")||"[]").filter(k=>k.subjectName===w).sort((k,_)=>new Date(_.timestamp)-new Date(k.timestamp));return j.length>0?j[0].timestamp:null},S=w=>Math.floor(w/120)+1,x=(w,N)=>{const j=N*60;return j>0?Math.min(100,w/j*100):0},g=w=>w>=600?{icon:"🏆",name:"Master",color:"text-yellow-500"}:w>=300?{icon:"⭐",name:"Expert",color:"text-purple-500"}:w>=120?{icon:"🎯",name:"Intermediate",color:"text-blue-500"}:w>=60?{icon:"📚",name:"Beginner",color:"text-green-500"}:{icon:"🌱",name:"New",color:"text-gray-500"},p=w=>{const N=w.match(/[A-Za-z0-9]{2}/g).map(j=>parseInt(j,16));return(.299*N[0]+.587*N[1]+.114*N[2])/255};return i.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16213e] min-h-screen mt-20 pl-[100px] pr-6 py-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"Subjects"}),i.jsx("p",{className:"text-gray-600",children:"Manage your study subjects and track progress"})]}),i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"flex items-center space-x-2 px-6 py-3 bg-[#6C5DD3] text-white rounded-xl font-semibold shadow-lg hover:bg-[#7A6AD9] transition-colors",children:[i.jsx(b2,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Subject"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>{const N=v(w.name),j=b(w.name),k=S(N),_=x(N,w.goalHours),$=g(N),C=p(w.color)>.5?"text-gray-800":"text-white";return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},className:"relative overflow-hidden rounded-2xl shadow-lg",style:{backgroundColor:w.color},children:[i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("div",{className:`${$.color} text-2xl`,children:$.icon})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`text-xl font-bold ${C} mb-1`,children:w.name}),i.jsxs("p",{className:`text-sm ${C} opacity-80`,children:[$.name," Level ",k]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{o(w),s(!0)},className:`p-2 rounded-lg ${C} opacity-70 hover:opacity-100 transition-opacity`,children:i.jsx(D2,{className:"w-4 h-4"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(w.id),className:`p-2 rounded-lg ${C} opacity-70 hover:opacity-100 transition-opacity`,children:i.jsx(Sr,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:`text-sm ${C} opacity-80`,children:"Total Studied"}),i.jsxs("span",{className:`font-semibold ${C}`,children:[Math.round(N/60),"h ",Math.round(N%60),"m"]})]}),w.goalHours>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:`text-sm ${C} opacity-80`,children:"Weekly Goal"}),i.jsxs("span",{className:`text-sm ${C} opacity-80`,children:[Math.round(_),"%"]})]}),i.jsx("div",{className:"w-full bg-black bg-opacity-20 rounded-full h-2",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${_}%`},transition:{duration:1,ease:"easeOut"},className:"bg-white bg-opacity-80 h-2 rounded-full"})})]}),j&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:`text-sm ${C} opacity-80`,children:"Last Studied"}),i.jsx("span",{className:`text-sm ${C} opacity-80`,children:new Date(j).toLocaleDateString()})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(w.name),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-4 rounded-lg font-semibold transition-colors ${C==="text-white"?"bg-white bg-opacity-20 text-white hover:bg-opacity-30":"bg-black bg-opacity-10 text-gray-800 hover:bg-opacity-20"}`,children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{children:"Start Timer"})]}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center justify-center p-2 rounded-lg transition-colors ${C==="text-white"?"bg-white bg-opacity-20 text-white hover:bg-opacity-30":"bg-black bg-opacity-10 text-gray-800 hover:bg-opacity-20"}`,children:i.jsx(Gt,{className:"w-4 h-4"})})]})]})]},w.id)})}),e.length===0&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[i.jsx(Gt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No subjects yet"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Add your first subject to start tracking your study progress"}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"px-6 py-3 bg-[#6C5DD3] text-white rounded-xl font-semibold shadow-lg hover:bg-[#7A6AD9] transition-colors",children:"Add Your First Subject"})]}),n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:r?"Edit Subject":"Add New Subject"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Name"}),i.jsx("input",{type:"text",value:r?r.name:a.name,onChange:w=>{r?o({...r,name:w.target.value}):l({...a,name:w.target.value})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6C5DD3] focus:border-transparent",placeholder:"Enter subject name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),i.jsx("input",{type:"color",value:r?r.color:a.color,onChange:w=>{r?o({...r,color:w.target.value}):l({...a,color:w.target.value})},className:"w-full h-12 border border-gray-300 rounded-lg cursor-pointer"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weekly Goal (hours)"}),i.jsx("input",{type:"number",value:r?r.goalHours:a.goalHours,onChange:w=>{r?o({...r,goalHours:parseFloat(w.target.value)||0}):l({...a,goalHours:parseFloat(w.target.value)||0})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6C5DD3] focus:border-transparent",placeholder:"0",min:"0",step:"0.5"})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{s(!1),o(null),l({name:"",color:"#6C5DD3",goalHours:0})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r?f:h,className:"flex-1 px-4 py-2 bg-[#6C5DD3] text-white rounded-lg font-semibold hover:bg-[#7A6AD9] transition-colors",children:r?"Save Changes":"Add Subject"})]})]})})]})},cP=()=>{const e=un(),t=Qt(),[n,s]=y.useState(""),[r,o]=y.useState(""),[a,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(""),[f,m]=y.useState(""),[v,b]=y.useState(2);y.useState(!1);const[S,x]=y.useState(!1),[g,p]=y.useState([]),[w,N]=y.useState([]),[j,k]=y.useState([]),[_,$]=y.useState(!1),[C,V]=y.useState(!1),[Z,ne]=y.useState("25"),[A,W]=y.useState(0),M=y.useRef(null),E=y.useRef(null),T=y.useRef(0),D=y.useRef("work"),{isRunning:F,mode:H,secondsLeft:z,stopwatchSeconds:K,isPomodoroBreak:te,pomodoroCount:P,startTimer:L,stopTimer:U,resetTimer:q,setTimerMode:ve,setTimerSubject:je,setCustomMinutes:Cn,customMinutes:Mt,getActualElapsedTime:gl}=Jd(),{userStats:Ur,addStudySession:oe,updateQuestProgress:En,awardXP:Vv,addReward:Bv,rewardQueue:xl,showRewards:wP,setShowRewards:Ls}=qt();y.useEffect(()=>{Mt&&ne(String(Mt))},[Mt]),y.useEffect(()=>()=>{E.current&&clearInterval(E.current)},[]);const Pn=()=>H==="pomodoro"?(D.current==="break"?5:25)*60:H==="custom"?(Mt||25)*60:0,Mh=()=>{H==="pomodoro"?D.current=te?"break":"work":D.current="";const R=Date.now();M.current=R-T.current*1e3,E.current&&clearInterval(E.current),E.current=setInterval(()=>{const se=Date.now()-M.current;W(Math.floor(se/1e3))},100)},yl=()=>{E.current&&clearInterval(E.current),T.current=A},Vr=()=>{E.current&&clearInterval(E.current),M.current=null,T.current=0,W(0)},zv=R=>{const se=new Date(R),ie=se.getDay(),de=se.getDate()-ie+(ie===0?-6:1);return new Date(se.setDate(de))},Me=(()=>new URLSearchParams(e.search).get("subject"))();y.useEffect(()=>{const R=localStorage.getItem("subjects"),se=localStorage.getItem("studySessions"),ie=localStorage.getItem("tasks");R&&p(JSON.parse(R)),se&&k(JSON.parse(se)),ie&&N(JSON.parse(ie))},[]),y.useEffect(()=>{Me&&je(Me)},[Me,je]);const Lh=(()=>w.filter(R=>R.subject===Me))(),Oh=()=>{const R=parseInt(Z);R>0&&R<=480&&(Cn(R),ve("custom"),Vr(),$(!1))},Ih=R=>{R==="custom"?$(!0):($(!1),ve(R),Vr())},$h=()=>{if(H==="stopwatch"){const R=Math.floor(A/60),se=A%60;return`${String(R).padStart(2,"0")}:${String(se).padStart(2,"0")}`}else{const R=Pn(),se=Math.max(0,A-R);if(H==="pomodoro"&&D.current==="work"&&se>0){const dt=Math.floor(se/60),vt=se%60;return`${String(dt).padStart(2,"0")}:${String(vt).padStart(2,"0")}`}const ie=Math.max(0,R-A),de=Math.floor(ie/60),Qe=ie%60;return`${String(de).padStart(2,"0")}:${String(Qe).padStart(2,"0")}`}},Fh=()=>{if(H==="stopwatch")return 0;const R=Pn();return R>0?Math.min(100,A/R*100):0},Wv=()=>{const R=new Date,se=new Date(R.getFullYear(),R.getMonth(),R.getDate()),ie=j.filter(Qe=>new Date(Qe.timestamp)>=se&&Qe.subjectName===Me),de=ie.reduce((Qe,dt)=>Qe+dt.durationMinutes,0);return{sessions:ie.length,minutes:de}},Hv=()=>{if(j.length===0)return 0;const R=[...new Set(j.filter(de=>de.subjectName===Me).map(de=>new Date(de.timestamp).toDateString()))].sort();let se=0;const ie=new Date;for(let de=0;de<30;de++){const Qe=new Date(ie);Qe.setDate(ie.getDate()-de);const dt=Qe.toDateString();if(R.includes(dt))se++;else break}return se},Gv=()=>{const se=zv(new Date),de=j.filter(vt=>new Date(vt.timestamp)>=se&&vt.subjectName===Me).reduce((vt,Bh)=>vt+Bh.durationMinutes,0),Qe=g.find(vt=>vt.name===Me),dt=Qe?Qe.goalHours*60:0;return{studied:de,goal:dt,percentage:dt>0?de/dt*100:0}},ho=Wv(),fo=Hv(),Dn=Gv();if(!Me)return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0f0f23] via-[#1a1a2e] to-[#16213e] mt-20 flex",children:[i.jsx(Je,{}),i.jsx("div",{className:"flex-1 ml-16 transition-all duration-300 ease-in-out [body>div>aside:hover_+_div&]:ml-64",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Ready to Study?"}),i.jsx("p",{className:"text-xl text-gray-300",children:"Choose a subject to begin your study session"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(R=>i.jsxs(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10 cursor-pointer hover:border-[#6C5DD3]/50 transition-all duration-300",onClick:()=>t(`/study?subject=${encodeURIComponent(R.name)}`),children:[i.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center text-2xl font-bold text-white",style:{backgroundColor:R.color},children:R.name.charAt(0).toUpperCase()}),i.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:R.name}),i.jsxs("p",{className:"text-gray-300 text-center text-sm",children:["Goal: ",R.goalHours,"h/week"]})]},R.id))}),g.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No subjects added yet!"}),i.jsx("button",{onClick:()=>t("/subjects"),className:"px-6 py-3 bg-[#6C5DD3] text-white rounded-lg hover:bg-[#7A6AD9] transition",children:"Add Your First Subject"})]})]})})]});const Uh=()=>{yl(),U(),u(!0)},Xv=()=>{const R=Math.max(1,Math.round(A/60*100)/100),se={subjectName:Me,durationMinutes:R,timestamp:new Date().toISOString(),notes:n,task:r,mood:d,reflection:f,difficulty:v,isTaskComplete:a},ie=Vv(R,Me,v),de={...se,xpEarned:ie.totalXP,bonuses:ie.bonuses};oe(de);const Qe=[...j,de];if(localStorage.setItem("studySessions",JSON.stringify(Qe)),k(Qe),a&&r){const dt=w.map(vt=>vt.name===r?{...vt,done:!0,doneAt:Date.now()}:vt);localStorage.setItem("tasks",JSON.stringify(dt)),N(dt)}En("time",R),En("sessions",1),En("subjects",1,Me),En("streak",1),Bv({type:"SESSION_COMPLETE",title:"🎉 Session Complete!",description:`You studied ${Me} for ${R.toFixed(1)} minutes and earned ${ie.totalXP} XP!`,tier:"uncommon",xp:ie.totalXP,bonuses:ie.bonuses}),s(""),o(""),l(!1),u(!1),h(""),m(""),b(2),Vr(),q(),Ls(!0)},Kv=R=>{const se=j.filter((ie,de)=>de!==R);localStorage.setItem("studySessions",JSON.stringify(se)),k(se)},Qv=R=>{o(R),R&&l(!0)},Vh=[{key:"pomodoro",label:"Pomodoro",duration:25*60},{key:"custom",label:"Custom",duration:null},{key:"stopwatch",label:"Stopwatch",duration:0}],qv=[{emoji:"😄",label:"Great",value:"great"},{emoji:"🙂",label:"Good",value:"good"},{emoji:"😐",label:"Okay",value:"okay"},{emoji:"😫",label:"Struggled",value:"struggled"}];return c?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0f0f23] via-[#1a1a2e] to-[#16213e] flex items-center justify-center p-4 mt-20",children:i.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-md w-full border border-white/20",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Session Complete! 🎉"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-white text-sm font-medium mb-3",children:"How did it go?"}),i.jsx("div",{className:"flex justify-center gap-4",children:qv.map(R=>i.jsxs("button",{onClick:()=>h(R.value),className:`p-3 rounded-xl transition-all ${d===R.value?"bg-[#6C5DD3] text-white shadow-lg scale-110":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[i.jsx("div",{className:"text-2xl mb-1",children:R.emoji}),i.jsx("div",{className:"text-xs",children:R.label})]},R.value))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"What did you work on?"}),i.jsx("textarea",{value:f,onChange:R=>m(R.target.value),className:"w-full p-3 rounded-lg bg-[#1a1a2e] text-white border border-[#6C5DD3] resize-none",rows:"3",placeholder:"Briefly describe what you studied..."})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Difficulty Level"}),i.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(R=>i.jsx("button",{onClick:()=>b(R),className:`flex-1 py-2 rounded-lg transition-all ${v===R?"bg-[#FEC260] text-[#23234a] font-bold":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:R},R))})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 rounded-lg bg-white/10 text-white font-semibold hover:bg-white/20 transition",children:"Continue Studying"}),i.jsx("button",{onClick:Xv,className:"flex-1 px-4 py-3 rounded-lg bg-[#6C5DD3] text-white font-semibold hover:bg-[#7A6AD9] transition",children:"Save & Finish"})]})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0f0f23] via-[#1a1a2e] to-[#16213e] mt-20 flex",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 ml-16 transition-all duration-300 ease-in-out [body>div>aside:hover_+_div&]:ml-64",children:[C&&i.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-[#0f0f23] via-[#1a1a2e] to-[#16213e] z-50 flex items-center justify-center p-8",children:i.jsx("div",{className:"w-full max-w-2xl",children:i.jsx("div",{className:"bg-white/5 backdrop-blur rounded-3xl p-12 border border-white/10 shadow-2xl",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:Me}),r&&i.jsx("p",{className:"text-gray-300 text-lg",children:r})]}),_&&i.jsxs("div",{className:"w-full mb-8 p-6 bg-white/5 rounded-xl border border-[#6C5DD3]/30",children:[i.jsx("label",{className:"block text-white text-lg font-medium mb-3",children:"Custom Duration (minutes)"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("input",{type:"number",min:"1",max:"480",value:Z,onChange:R=>ne(R.target.value),className:"flex-1 p-3 rounded-lg bg-[#1a1a2e] text-white border border-[#6C5DD3] text-lg",placeholder:"25"}),i.jsx("button",{onClick:Oh,className:"px-6 py-3 rounded-lg bg-[#6C5DD3] text-white font-semibold hover:bg-[#7A6AD9] transition text-lg",children:"Set"})]})]}),i.jsx("div",{className:"flex gap-3 mb-8",children:Vh.map(R=>i.jsx("button",{className:`px-6 py-3 rounded-full font-semibold transition-all text-lg ${H===R.key?"bg-[#6C5DD3] text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-[#6C5DD3]/70"}`,onClick:()=>Ih(R.key),disabled:F,children:R.label},R.key))}),H==="pomodoro"&&i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"text-xl text-white font-medium",children:te?"Break Time":"Work Time"}),i.jsxs("div",{className:"text-gray-300 text-lg",children:[P," pomodoros completed"]})]}),i.jsxs("div",{className:"relative mb-12 w-[320px] h-[320px]",children:[H!=="stopwatch"&&i.jsxs("svg",{width:"320",height:"320",className:"absolute inset-0",children:[i.jsx("circle",{cx:"160",cy:"160",r:"144",stroke:"rgba(255,255,255,0.15)",strokeWidth:"12",fill:"none"}),i.jsx("circle",{cx:"160",cy:"160",r:"144",stroke:H==="pomodoro"&&A>Pn()&&D.current==="work"?"#EF4444":"#6C5DD3",strokeWidth:"12",fill:"none",strokeDasharray:2*Math.PI*144,strokeDashoffset:2*Math.PI*144*(1-Fh()/100),style:{transition:"stroke-dashoffset 0.5s, stroke 0.2s"}})]}),i.jsx("div",{className:`absolute inset-0 rounded-full bg-white/10 flex items-center justify-center ${H==="pomodoro"&&A>Pn()&&D.current==="work"?"text-red-400":"text-white"}`,children:i.jsx("span",{className:"text-8xl font-mono drop-shadow-2xl",children:$h()})})]}),i.jsxs("div",{className:"flex gap-6 mb-8",children:[F?i.jsxs("button",{onClick:()=>{yl(),U()},className:"px-12 py-4 rounded-xl bg-[#FEC260] text-[#23234a] font-bold shadow-lg hover:bg-[#FFD580] transition flex items-center gap-3 text-xl",children:[i.jsx(Am,{className:"w-6 h-6"}),"Pause"]}):i.jsxs("button",{onClick:()=>{Mh(),L()},disabled:H!=="stopwatch"&&Pn()===0,className:"px-12 py-4 rounded-xl bg-[#6C5DD3] text-white font-bold shadow-lg hover:bg-[#7A6AD9] transition flex items-center gap-3 text-xl",children:[i.jsx(fr,{className:"w-6 h-6"}),"Start"]}),i.jsxs("button",{onClick:()=>{Vr(),q()},className:"px-8 py-4 rounded-xl bg-white/10 text-white font-bold shadow-lg hover:bg-white/20 transition flex items-center gap-3 text-xl",children:[i.jsx(Mm,{className:"w-6 h-6"}),"Reset"]}),i.jsxs("button",{onClick:Uh,className:"px-8 py-4 rounded-xl bg-red-600 text-white font-bold shadow-lg hover:bg-red-700 transition flex items-center gap-3 text-xl",children:[i.jsx(Lm,{className:"w-6 h-6"}),"End"]})]}),i.jsxs("div",{className:"text-sm text-gray-400 mb-6 text-center",children:[i.jsxs("div",{children:["Mode: ",H]}),i.jsxs("div",{children:["Running: ",F?"Yes":"No"]}),i.jsxs("div",{children:["Seconds Left: ",z]}),i.jsxs("div",{children:["Stopwatch: ",K]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("button",{onClick:()=>V(!1),className:"px-6 py-3 rounded-lg bg-white/10 text-white font-semibold hover:bg-white/20 transition flex items-center gap-2",children:[i.jsx(Te,{className:"w-5 h-5"}),"Exit Focus Mode"]}),i.jsxs("button",{onClick:()=>t("/subjects"),className:"px-6 py-3 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition flex items-center gap-2",children:[i.jsx(Ra,{className:"w-5 h-5"}),"Cancel Study"]}),i.jsxs("button",{onClick:()=>x(!S),className:`px-6 py-3 rounded-lg transition flex items-center gap-2 ${S?"bg-[#6C5DD3] text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[S?i.jsx(Im,{className:"w-5 h-5"}):i.jsx($m,{className:"w-5 h-5"}),"Ambient Sound"]})]})]})})})}),i.jsxs("div",{className:`transition-opacity duration-500 ${C?"opacity-0 pointer-events-none":"opacity-100"}`,children:[i.jsx("div",{className:"bg-white/5 backdrop-blur border-b border-white/10 p-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-white",children:Me||"Select Subject"}),r&&i.jsx("p",{className:"text-sm text-gray-300",children:r})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Rt,{className:"w-4 h-4"}),i.jsxs("span",{children:[ho.minutes.toFixed(1),"min today"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ut,{className:"w-4 h-4 text-[#FEC260]"}),i.jsxs("span",{children:[fo," day streak"]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right mr-4",children:[i.jsx("div",{className:"text-sm text-gray-300",children:"Weekly Progress"}),i.jsxs("div",{className:"text-lg font-bold text-white",children:[Math.round(Dn.studied/60),"h /"," ",Math.round(Dn.goal/60),"h"]}),i.jsxs("div",{className:"text-xs text-gray-400",children:[Dn.percentage,"% complete"]})]}),i.jsxs("button",{onClick:()=>t("/subjects"),className:"px-6 py-3 rounded-xl bg-red-600 text-white font-semibold shadow hover:bg-red-700 transition flex items-center gap-2",children:[i.jsx(Ra,{className:"w-4 h-4"}),"Cancel Study"]})]})]})}),i.jsx("div",{className:"max-w-7xl mx-auto p-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-8 border border-white/10",children:i.jsxs("div",{className:"flex flex-col items-center",children:[_&&i.jsxs("div",{className:"w-full mb-6 p-4 bg-white/5 rounded-lg border border-[#6C5DD3]/30",children:[i.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Custom Duration (minutes)"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"number",min:"1",max:"480",value:Z,onChange:R=>ne(R.target.value),className:"flex-1 p-2 rounded bg-[#1a1a2e] text-white border border-[#6C5DD3] text-sm",placeholder:"25"}),i.jsx("button",{onClick:Oh,className:"px-4 py-2 rounded bg-[#6C5DD3] text-white font-semibold hover:bg-[#7A6AD9] transition text-sm",children:"Set"})]})]}),i.jsx("div",{className:"flex gap-2 mb-6",children:Vh.map(R=>i.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition-all ${H===R.key?"bg-[#6C5DD3] text-white shadow":"bg-white/10 text-white/70 hover:bg-[#6C5DD3]/70"}`,onClick:()=>Ih(R.key),disabled:F,children:R.label},R.key))}),H==="pomodoro"&&i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"text-sm text-white font-medium",children:te?"Break Time":"Work Time"}),i.jsxs("div",{className:"text-xs text-gray-300",children:[P," pomodoros completed"]})]}),i.jsxs("div",{className:"relative mb-8 w-[160px] h-[160px]",children:[H!=="stopwatch"&&i.jsxs("svg",{width:"160",height:"160",className:"absolute inset-0",children:[i.jsx("circle",{cx:"80",cy:"80",r:"64",stroke:"rgba(255,255,255,0.15)",strokeWidth:"8",fill:"none"}),i.jsx("circle",{cx:"80",cy:"80",r:"64",stroke:H==="pomodoro"&&A>Pn()&&D.current==="work"?"#EF4444":"#6C5DD3",strokeWidth:"8",fill:"none",strokeDasharray:2*Math.PI*64,strokeDashoffset:2*Math.PI*64*(1-Fh()/100),style:{transition:"stroke-dashoffset 0.5s, stroke 0.2s"}})]}),i.jsx("div",{className:`absolute inset-0 rounded-full bg-white/10 flex items-center justify-center ${H==="pomodoro"&&A>Pn()&&D.current==="work"?"text-red-400":"text-white"}`,children:i.jsx("span",{className:"text-6xl font-mono drop-shadow-lg",children:$h()})})]}),i.jsxs("div",{className:"flex gap-4 mb-6",children:[F?i.jsxs("button",{onClick:()=>{yl(),U()},className:"px-8 py-3 rounded-xl bg-[#FEC260] text-[#23234a] font-bold shadow hover:bg-[#FFD580] transition flex items-center gap-2",children:[i.jsx(Am,{className:"w-5 h-5"}),"Pause"]}):i.jsxs("button",{onClick:()=>{Mh(),L()},disabled:H!=="stopwatch"&&Pn()===0,className:"px-8 py-3 rounded-xl bg-[#6C5DD3] text-white font-bold shadow hover:bg-[#7A6AD9] transition flex items-center gap-2",children:[i.jsx(fr,{className:"w-5 h-5"}),"Start"]}),i.jsxs("button",{onClick:()=>{Vr(),q()},className:"px-6 py-3 rounded-xl bg-white/10 text-white font-bold shadow hover:bg-white/20 transition flex items-center gap-2",children:[i.jsx(Mm,{className:"w-5 h-5"}),"Reset"]}),i.jsxs("button",{onClick:Uh,className:"px-6 py-3 rounded-xl bg-red-600 text-white font-bold shadow hover:bg-red-700 transition flex items-center gap-2",children:[i.jsx(Lm,{className:"w-5 h-5"}),"End"]})]}),i.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:[i.jsxs("div",{children:["Mode: ",H]}),i.jsxs("div",{children:["Running: ",F?"Yes":"No"]}),i.jsxs("div",{children:["Seconds Left: ",z]}),i.jsxs("div",{children:["Stopwatch: ",K]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("button",{onClick:()=>V(!C),className:`px-4 py-2 rounded-lg transition flex items-center gap-2 ${C?"bg-[#6C5DD3] text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[i.jsx(Te,{className:"w-4 h-4"}),C?"Exit Focus":"Focus Mode"]}),i.jsxs("button",{onClick:()=>x(!S),className:`px-4 py-2 rounded-lg transition flex items-center gap-2 ${S?"bg-[#6C5DD3] text-white":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[S?i.jsx(Im,{className:"w-4 h-4"}):i.jsx($m,{className:"w-4 h-4"}),"Ambient Sound"]})]})]})}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Te,{className:"w-5 h-5"}),"Current Task/Topic"]}),i.jsx("div",{className:"mb-4",children:i.jsxs("select",{value:r,onChange:R=>Qv(R.target.value),className:"w-full p-3 rounded-lg bg-[#1a1a2e] text-white border border-[#6C5DD3]",disabled:F,children:[i.jsx("option",{value:"",children:"Select a task or enter custom topic"}),Lh.length>0?Lh.map(R=>i.jsxs("option",{value:R.name,children:[R.name," (",R.time," min - ",R.priority,")"]},R.id)):i.jsxs("option",{value:"",disabled:!0,children:["No tasks available for ",Me]})]})}),i.jsx("div",{className:"mb-4",children:i.jsx("input",{type:"text",value:r,onChange:R=>o(R.target.value),className:"w-full p-3 rounded-lg bg-[#1a1a2e] text-white border border-[#6C5DD3]",placeholder:"Or type a custom topic..."})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"taskComplete",checked:a,onChange:R=>l(R.target.checked),className:"rounded"}),i.jsx("label",{htmlFor:"taskComplete",className:"text-white text-sm",children:"Mark task as complete"})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5"}),"Today's Progress"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Sessions"}),i.jsx("span",{className:"text-white font-bold",children:ho.sessions})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Time Studied"}),i.jsxs("span",{className:"text-white font-bold",children:[Math.round(ho.minutes)," min"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Current Streak"}),i.jsxs("span",{className:"text-white font-bold flex items-center gap-1",children:[i.jsx(ut,{className:"w-4 h-4 text-[#FEC260]"}),fo," days"]})]})]})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Wi,{className:"w-5 h-5"}),"Weekly Goal"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Studied"}),i.jsxs("span",{className:"text-white font-bold",children:[Math.round(Dn.studied/60),"h"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Goal"}),i.jsxs("span",{className:"text-white font-bold",children:[Math.round(Dn.goal/60),"h"]})]}),i.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:i.jsx("div",{className:"bg-[#6C5DD3] h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Dn.percentage,100)}%`}})}),i.jsxs("div",{className:"text-center text-sm text-gray-300",children:[Dn.percentage,"% complete"]})]})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(Gt,{className:"w-5 h-5"}),"Recent Study Logs"]}),i.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:j.filter(R=>R.subjectName===Me).length>0?i.jsx("div",{className:"space-y-3",children:j.filter(R=>R.subjectName===Me).slice(0,5).map((R,se)=>{const ie={great:"😄",good:"🙂",okay:"😐",struggled:"😫"}[R.mood]||"";return i.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rt,{className:"w-4 h-4 text-[#6C5DD3]"}),i.jsxs("span",{className:"text-sm font-medium text-white",children:[R.durationMinutes.toFixed(1)," min"]})]}),i.jsx("span",{className:"text-xs text-gray-400",children:new Date(R.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),R.task&&i.jsxs("div",{className:"text-xs text-gray-300 mb-1",children:[i.jsx("span",{className:"font-medium",children:"Task:"})," ",R.task]}),R.reflection&&i.jsxs("div",{className:"text-xs text-gray-300 mb-2 italic",children:['"',R.reflection,'"']}),i.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[R.mood&&i.jsxs("span",{className:"text-gray-400 flex items-center gap-1",children:[i.jsx("span",{children:ie}),i.jsx("span",{className:"capitalize",children:R.mood})]}),R.difficulty&&i.jsxs("span",{className:"text-gray-400",children:["Difficulty: ",R.difficulty,"/4"]})]}),i.jsx("button",{onClick:()=>Kv(j.indexOf(R)),className:"mt-2 p-1 rounded hover:bg-red-600/20 transition text-red-400 hover:text-red-300",title:"Delete session",children:i.jsx(Sr,{className:"w-3 h-3"})})]},se)})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Gt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"No study logs yet for this subject"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"Complete a session to see your logs here!"})]})})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(jr,{className:"w-5 h-5"}),"Recent Achievements"]}),i.jsxs("div",{className:"space-y-3",children:[fo>=3&&i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-[#6C5DD3]/20 border border-[#6C5DD3]/30",children:[i.jsx(ut,{className:"w-5 h-5 text-[#FEC260]"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white text-sm font-medium",children:"Streak Master"}),i.jsxs("div",{className:"text-gray-300 text-xs",children:[fo," day streak!"]})]})]}),ho.minutes>=120&&i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-[#6C5DD3]/20 border border-[#6C5DD3]/30",children:[i.jsx(kr,{className:"w-5 h-5 text-[#FEC260]"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white text-sm font-medium",children:"Study Warrior"}),i.jsx("div",{className:"text-gray-300 text-xs",children:"2+ hours today!"})]})]}),Dn.percentage>=80&&i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-[#6C5DD3]/20 border border-[#6C5DD3]/30",children:[i.jsx(Te,{className:"w-5 h-5 text-[#FEC260]"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white text-sm font-medium",children:"Goal Crusher"}),i.jsx("div",{className:"text-gray-300 text-xs",children:"80%+ weekly goal!"})]})]}),j.length===0&&i.jsxs("div",{className:"text-center py-4",children:[i.jsx(jr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Complete your first session to unlock achievements!"})]})]})]})]})]})})]})]}),i.jsx(Xt,{children:xl&&xl.length>0&&xl.map((R,se)=>R.type==="SESSION_COMPLETE"?i.jsx(O.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-50},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:i.jsxs(O.div,{initial:{scale:.8},animate:{scale:1},className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-8 rounded-3xl shadow-2xl text-center max-w-md mx-4 border-4 border-yellow-400",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),i.jsx("h2",{className:"text-3xl font-bold mb-4",children:R.title}),i.jsx("p",{className:"text-lg mb-6",children:R.description}),R.bonuses&&Object.keys(R.bonuses).length>0&&i.jsxs("div",{className:"bg-black/20 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"XP Breakdown:"}),Object.entries(R.bonuses).map(([ie,de])=>de>0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"capitalize",children:[ie," Bonus:"]}),i.jsxs("span",{children:["+",de," XP"]})]},ie))]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>{Ls(!1),t("/dashboard")},className:"flex-1 bg-white/20 hover:bg-white/30 px-6 py-3 rounded-xl font-semibold transition-all",children:"View Dashboard"}),i.jsx("button",{onClick:()=>Ls(!1),className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-semibold transition-all",children:"Continue Studying"})]})]})},R.id):R.type==="XP_EARNED"?i.jsx(Lv,{amount:R.xp||0,bonuses:R.bonuses||{},onComplete:()=>Ls(!1)},R.id):R.type==="LEVEL_UP"?i.jsx(Ov,{newLevel:Ur.level,onComplete:()=>Ls(!1)},R.id):R.type==="ACHIEVEMENT"?i.jsx(Iv,{achievement:R,onComplete:()=>Ls(!1)},R.id):null)})]})},e0=[{label:"Low",color:"border-blue-500"},{label:"Medium",color:"border-yellow-500"},{label:"High",color:"border-red-500"}];function uP(){const[e,t]=y.useState([]),[n,s]=y.useState([]),[r,o]=y.useState({name:"",subject:"",time:"",priority:"Low",scheduledDate:""}),[a,l]=y.useState(""),[c,u]=y.useState(!1),[d,h]=y.useState("todo"),[f,m]=y.useState(null),[v,b]=y.useState("subject"),[S,x]=y.useState(null);y.useEffect(()=>{const A=localStorage.getItem("tasks");A&&t(JSON.parse(A))},[]),y.useEffect(()=>{const A=localStorage.getItem("subjects");if(A)s(JSON.parse(A));else{const W=[{id:1,name:"Math",color:"#6C5DD3",goalHours:5},{id:2,name:"English",color:"#B6E4CF",goalHours:4},{id:3,name:"Biology",color:"#FEC260",goalHours:6},{id:4,name:"History",color:"#FF6B6B",goalHours:3}];s(W),localStorage.setItem("subjects",JSON.stringify(W))}},[]),y.useEffect(()=>{localStorage.setItem("tasks",JSON.stringify(e))},[e]);const g=()=>{if(!r.name.trim()||!r.subject.trim()||!r.time.trim()){l("Please enter a task name, subject, and duration.");return}t(S?e.map(A=>A.id===S?{...A,...r}:A):[...e,{...r,id:Date.now(),done:!1}]),o({name:"",subject:"",time:"",priority:"Low",scheduledDate:""}),l(""),u(!1),x(null)},p=A=>{t(e.map(W=>W.id===A?W.done?{...W,done:!1,doneAt:void 0}:{...W,done:!0,doneAt:Date.now()}:W)),m(A),setTimeout(()=>m(null),350)},w=A=>{var W;return((W=e0.find(M=>M.label===A))==null?void 0:W.color)||"border-gray-300"},N=A=>{if(!A)return null;const W=new Date,M=new Date(A),E=M.toDateString()===W.toDateString(),T=new Date(W.getFullYear(),W.getMonth(),W.getDate()+1),D=M.toDateString()===T.toDateString();return E?"Today":D?"Tomorrow":M<W.setHours(0,0,0,0)?"Overdue":M.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},j=A=>{let W=[...A];if(v==="subject")W.sort((M,E)=>(M.subject||"").localeCompare(E.subject||""));else if(v==="difficulty"){const M={High:0,Medium:1,Low:2};W.sort((E,T)=>(M[E.priority]??3)-(M[T.priority]??3))}else v==="schedule"&&W.sort((M,E)=>!M.scheduledDate&&!E.scheduledDate?0:M.scheduledDate?E.scheduledDate?new Date(M.scheduledDate)-new Date(E.scheduledDate):-1:1);return W},k=new Date,_=new Date(k.getFullYear(),k.getMonth(),k.getDate());new Date(k.getFullYear(),k.getMonth(),k.getDate()-6);const $=e.filter(A=>!A.done).length,C=e.filter(A=>A.done).length,V=e.filter(A=>{if(!A.time)return!1;const W=new Date(`${k.toISOString().slice(0,10)}T${A.time}`);return W>=_&&W<new Date(_.getTime()+24*60*60*1e3)}).length;mw.useEffect(()=>{const A=Date.now(),W=7*24*60*60*1e3,M=e.filter(E=>!E.done||!E.doneAt||A-E.doneAt<W);M.length!==e.length&&t(M)},[e]);const Z=A=>{o({name:A.name,subject:A.subject,time:A.time,priority:A.priority,scheduledDate:A.scheduledDate||""}),x(A.id),u(!0)},ne=A=>{t(e.filter(W=>W.id!==A))};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] to-[#16213e] mt-20 flex",children:[i.jsx(Je,{}),i.jsx("div",{className:"flex-1 ml-16 transition-all duration-300 ease-in-out [body>div>aside:hover_+_div&]:ml-64",children:i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Your Tasks"}),i.jsx("div",{className:"flex gap-2",children:i.jsx("button",{className:"rounded-2xl bg-[#6C5DD3] text-white px-4 py-2 font-semibold shadow hover:bg-[#7A6AD9] transition",onClick:()=>u(!0),children:"+ Add Task"})})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("label",{className:"text-white font-semibold",children:"Sort by:"}),i.jsxs("select",{className:"rounded bg-[#23234a] text-white px-3 py-1 border border-[#6C5DD3]",value:v,onChange:A=>b(A.target.value),children:[i.jsx("option",{value:"subject",children:"Subject"}),i.jsx("option",{value:"difficulty",children:"Hardest"}),i.jsx("option",{value:"schedule",children:"Earliest Due"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[i.jsxs("div",{className:"bg-[#23234a] rounded-xl px-4 py-2 text-white text-sm font-semibold shadow",children:["To Do: ",i.jsx("span",{className:"text-[#FEC260] font-bold",children:$})]}),i.jsxs("div",{className:"bg-[#23234a] rounded-xl px-4 py-2 text-white text-sm font-semibold shadow",children:["Done: ",i.jsx("span",{className:"text-[#B6E4CF] font-bold",children:C})]}),i.jsxs("div",{className:"bg-[#23234a] rounded-xl px-4 py-2 text-white text-sm font-semibold shadow",children:["Scheduled Today: ",i.jsx("span",{className:"text-[#6C5DD3] font-bold",children:V})]})]}),c&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:i.jsxs("div",{className:"bg-[#23234a] p-6 rounded-2xl shadow-xl w-full max-w-md space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-lg font-bold text-white",children:"Add Task"}),i.jsx("button",{className:"text-white text-xl",onClick:()=>{u(!1),l("")},children:"×"})]}),a&&i.jsx("div",{className:"bg-red-500/80 text-white text-sm rounded px-3 py-2 mb-2",children:a}),i.jsx("label",{className:"block text-white mb-1",children:"Task Name"}),i.jsx("input",{className:"w-full p-2 rounded bg-[#1a1a2e] text-white border border-[#6C5DD3] mb-2",value:r.name,onChange:A=>o({...r,name:A.target.value})}),i.jsx("label",{className:"block text-white mb-1",children:"Subject"}),i.jsxs("select",{className:"w-full p-2 rounded bg-[#1a1a2e] text-white border border-[#6C5DD3] mb-2",value:r.subject,onChange:A=>o({...r,subject:A.target.value}),children:[i.jsx("option",{value:"",children:"Select Subject"}),n.map(A=>i.jsx("option",{value:A.name,children:A.name},A.id))]}),i.jsx("label",{className:"block text-white mb-1",children:"Duration (minutes)"}),i.jsx("input",{type:"number",min:"1",className:"w-full p-2 rounded bg-[#1a1a2e] text-white border border-[#6C5DD3] mb-2",value:r.time,onChange:A=>o({...r,time:A.target.value.replace(/[^0-9]/g,"")}),placeholder:"e.g. 25"}),i.jsx("label",{className:"block text-white mb-1",children:"Importance"}),i.jsx("select",{className:"w-full p-2 rounded bg-[#1a1a2e] text-white border border-[#6C5DD3] mb-4",value:r.priority,onChange:A=>o({...r,priority:A.target.value}),children:e0.map(A=>i.jsx("option",{value:A.label,children:A.label},A.label))}),i.jsx("label",{className:"block text-white mb-1",children:"Scheduled Date (optional)"}),i.jsx("input",{type:"date",className:"w-full p-2 rounded bg-[#1a1a2e] text-white border border-[#6C5DD3] mb-4",value:r.scheduledDate,onChange:A=>o({...r,scheduledDate:A.target.value})}),i.jsx("button",{className:"w-full rounded-2xl bg-[#6C5DD3] text-white px-4 py-2 font-semibold shadow hover:bg-[#7A6AD9] transition",onClick:g,children:"Save Task"})]})}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"grid grid-cols-2 w-1/2 mx-auto bg-[#23234a] rounded-xl overflow-hidden",children:[i.jsx("button",{className:`py-2 font-semibold transition ${d==="todo"?"bg-[#6C5DD3] text-white":"text-white/70"}`,onClick:()=>h("todo"),children:"To Do"}),i.jsx("button",{className:`py-2 font-semibold transition ${d==="done"?"bg-[#6C5DD3] text-white":"text-white/70"}`,onClick:()=>h("done"),children:"Done"})]})}),d==="todo"&&i.jsxs("div",{className:"space-y-4",children:[j(e.filter(A=>!A.done)).map(A=>i.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl bg-[#23234a] border-l-8 ${w(A.priority)} transition-transform duration-200 hover:scale-105 ${f===A.id?"animate-pop":""}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"font-semibold text-lg text-white",children:A.name}),i.jsxs("p",{className:"text-sm text-gray-400",children:[A.subject,A.time?` | ${A.time} min`:""]})]}),i.jsx("div",{className:"flex flex-col items-center mx-4",children:A.scheduledDate?(()=>{const W=N(A.scheduledDate);let M="bg-[#23234a] text-white/80";return W==="Overdue"?M="bg-red-600 text-white border border-red-600":W==="Today"?M="bg-orange-500 text-white border border-orange-500":W==="Tomorrow"&&(M="bg-green-500 text-white border border-green-500"),i.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${M}`,children:W})})():i.jsx("a",{href:"/schedule",className:"inline-block text-xs font-semibold px-2 py-1 rounded bg-[#6C5DD3] text-white hover:bg-[#7A6AD9] transition",children:"Schedule"})}),i.jsxs("div",{className:"flex flex-col items-center gap-2 mx-2",children:[i.jsx("button",{onClick:()=>Z(A),className:"p-1 rounded hover:bg-[#6C5DD3] transition",title:"Edit",children:i.jsx(Rm,{className:"w-4 h-4 text-white"})}),i.jsx("button",{onClick:()=>ne(A.id),className:"p-1 rounded hover:bg-red-600 transition",title:"Delete",children:i.jsx(Sr,{className:"w-4 h-4 text-white"})})]}),i.jsx("input",{type:"checkbox",checked:A.done,onChange:()=>p(A.id),className:"w-5 h-5 accent-[#6C5DD3]"})]},A.id)),e.filter(A=>!A.done).length===0&&i.jsx("div",{className:"text-center text-gray-400",children:"No tasks to do!"})]}),d==="done"&&i.jsxs("div",{className:"space-y-4",children:[j(e.filter(A=>A.done)).map(A=>i.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl bg-[#23234a] border-l-8 ${w(A.priority)} opacity-60 transition-transform duration-200 hover:scale-105`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"line-through font-medium text-white",children:A.name}),i.jsxs("p",{className:"text-sm text-gray-400",children:[A.subject,A.time?` | ${A.time} min`:""]})]}),i.jsx("div",{className:"flex flex-col items-center mx-4",children:A.scheduledDate?(()=>{const W=N(A.scheduledDate);let M="bg-[#23234a] text-white/80";return W==="Overdue"?M="bg-red-600 text-white border border-red-600":W==="Today"?M="bg-orange-500 text-white border border-orange-500":W==="Tomorrow"&&(M="bg-green-500 text-white border border-green-500"),i.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${M}`,children:W})})():i.jsx("a",{href:"/schedule",className:"inline-block text-xs font-semibold px-2 py-1 rounded bg-[#6C5DD3] text-white hover:bg-[#7A6AD9] transition",children:"Schedule"})}),i.jsxs("div",{className:"flex flex-col items-center gap-2 mx-2",children:[i.jsx("button",{onClick:()=>Z(A),className:"p-1 rounded hover:bg-[#6C5DD3] transition",title:"Edit",children:i.jsx(Rm,{className:"w-4 h-4 text-white"})}),i.jsx("button",{onClick:()=>ne(A.id),className:"p-1 rounded hover:bg-red-600 transition",title:"Delete",children:i.jsx(Sr,{className:"w-4 h-4 text-white"})})]}),i.jsx("input",{type:"checkbox",checked:A.done,onChange:()=>p(A.id),className:"w-5 h-5 accent-[#6C5DD3]"})]},A.id)),e.filter(A=>A.done).length===0&&i.jsx("div",{className:"text-center text-gray-400",children:"No completed tasks yet!"})]})]})})})]})}function dP(){const[e,t]=y.useState([]);y.useEffect(()=>{const j=localStorage.getItem("tasks");j&&t(JSON.parse(j))},[]);const n=new Date,s=n.toISOString().slice(0,10),r=e.filter(j=>j.scheduledDate===s),[o,a]=y.useState(n.getMonth()),[l,c]=y.useState(n.getFullYear()),u=new Date(l,o,1),h=new Date(l,o+1,0).getDate(),f=u.getDay(),m=[];for(let j=0;j<f;j++)m.push(null);for(let j=1;j<=h;j++)m.push(j);const v=["January","February","March","April","May","June","July","August","September","October","November","December"];Array.from({length:11},(j,k)=>n.getFullYear()-5+k);const b=()=>{o===0?(a(11),c(l-1)):a(o-1)},S=()=>{o===11?(a(0),c(l+1)):a(o+1)},[x,g]=y.useState(null),p=e.filter(j=>!j.scheduledDate),w=j=>{if(!x)return;const k=e.map(_=>_.id===x?{..._,scheduledDate:j}:_);t(k),g(null),localStorage.setItem("tasks",JSON.stringify(k))},N=j=>j==="High"?"bg-red-500":j==="Medium"?"bg-yellow-400":j==="Low"?"bg-blue-500":"bg-gray-400";return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] to-[#16213e] mt-20 flex",children:[i.jsx(Je,{}),i.jsx("div",{className:"flex-1 ml-16 transition-all duration-300 ease-in-out [body>div>aside:hover_+_div&]:ml-64",children:i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-[#23234a] rounded-xl p-6 shadow-md",children:[i.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:"Today's Scheduled Tasks"}),r.length===0?i.jsx("div",{className:"text-gray-400",children:"No tasks scheduled for today."}):i.jsx("ul",{className:"space-y-2",children:r.map(j=>i.jsxs("li",{className:"text-white flex flex-col md:flex-row md:items-center md:gap-4",children:[i.jsx("span",{className:"font-semibold",children:j.name}),i.jsxs("span",{className:"text-sm text-gray-400",children:[j.subject,j.time?` | ${j.time} min`:""]})]},j.id))})]})}),i.jsxs("div",{className:"flex gap-6",children:[i.jsxs("div",{className:"bg-[#23234a] rounded-xl p-3 shadow-md mb-6 w-2/3 h-[calc(100vh-5rem-4rem)] flex flex-col flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 justify-center",children:[i.jsx("button",{onClick:b,className:"text-white px-1 py-0.5 rounded hover:bg-[#35357a] transition text-base",children:"←"}),i.jsxs("span",{className:"text-base font-bold text-white select-none",children:[v[o]," ",l]}),i.jsx("button",{onClick:S,className:"text-white px-1 py-0.5 rounded hover:bg-[#35357a] transition text-base",children:"→"})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-white/80 h-full w-full items-stretch",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>i.jsx("div",{className:"font-semibold text-[10px] pb-0.5",children:j},j)),m.map((j,k)=>{const _=j?`${l}-${String(o+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`:null,$=j?e.filter(C=>C.scheduledDate===_):[];return i.jsxs("div",{className:`w-full h-full min-h-[2.2rem] flex flex-col items-center justify-start rounded text-xs pt-1 transition-transform duration-200
                        ${l===n.getFullYear()&&o===n.getMonth()&&j===n.getDate()?"bg-[#6C5DD3] text-white font-bold":j?"hover:bg-[#35357a] hover:scale-110 transition":""}
                        ${j?"cursor-pointer":""}`,onDragOver:C=>j&&C.preventDefault(),onDrop:j?()=>w(_):void 0,children:[i.jsx("div",{children:j||""}),i.jsx("div",{className:"flex flex-col gap-0.5 mt-0.5 w-full items-start",children:$.map(C=>i.jsxs("div",{className:"flex items-center gap-0.5 w-full truncate",children:[i.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${N(C.priority)} border border-white flex-shrink-0`}),i.jsx("span",{className:"text-[10px] text-white truncate font-semibold max-w-[4.5rem]",children:C.name}),i.jsxs("span",{className:"text-[10px] text-gray-400 truncate max-w-[4.5rem]",children:[C.subject,C.time?` | ${C.time} min`:""]})]},C.id))})]},k)})]})]}),i.jsxs("div",{className:"bg-[#23234a] rounded-xl p-4 shadow-md mb-6 w-1/3 h-[calc(100vh-5rem-4rem)] flex flex-col",children:[i.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Schedule Tasks"}),p.length===0?i.jsx("div",{className:"text-gray-400",children:"No unscheduled tasks."}):i.jsx("ul",{className:"space-y-2 flex-1 overflow-y-auto",children:p.map(j=>i.jsxs("li",{className:"bg-[#1a1a2e] rounded px-3 py-2 text-white flex items-center justify-between cursor-grab hover:bg-[#35357a] transition",draggable:!0,onDragStart:()=>g(j.id),onDragEnd:()=>g(null),children:[i.jsx("span",{className:"font-semibold",children:j.name}),i.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[j.subject,j.time?` | ${j.time} min`:""]})]},j.id))}),i.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Drag a task onto a calendar day to schedule it."})]})]})]})})]})}function ei(e){const t=new Date(e),n=t.getDay(),s=t.getDate()-n+(n===0?-6:1);return new Date(t.setDate(s))}function pc(e){return new Date(e.getFullYear(),e.getMonth(),1)}function hP(e,t){const n=t==="week"?7:t==="month"?30:365,s=new Date(e);s.setDate(s.getDate()-1);const r=new Date(e);return r.setDate(r.getDate()-n),{startDate:r,endDate:s}}function fP(){const[e,t]=y.useState([]),[n,s]=y.useState([]),[r,o]=y.useState([]),[a,l]=y.useState("week");y.useEffect(()=>{const P=localStorage.getItem("subjects"),L=localStorage.getItem("studySessions"),U=localStorage.getItem("tasks");P&&t(JSON.parse(P)),L&&s(JSON.parse(L)),U&&o(JSON.parse(U))},[]);const u=(()=>{const P=new Date;let L;switch(a){case"week":L=ei(P);break;case"month":L=pc(P);break;case"all":return n;default:L=ei(P)}return n.filter(U=>new Date(U.timestamp)>=L)})(),d=u.reduce((P,L)=>P+L.durationMinutes,0),h=u.length,f=h>0?d/h:0,m=u.length>0?u.reduce((P,L)=>L.durationMinutes>P.durationMinutes?L:P):null,b=(()=>{const P={};return u.forEach(L=>{P[L.subjectName]||(P[L.subjectName]=0),P[L.subjectName]+=L.durationMinutes}),P})(),x=(()=>{const P={};return n.forEach(L=>{P[L.subjectName]||(P[L.subjectName]=0),P[L.subjectName]+=L.durationMinutes}),Object.entries(P).map(([L,U])=>({subjectName:L,totalMinutes:U,totalHours:Math.round(U/60),totalMinutesRemaining:Math.round(U%60)})).sort((L,U)=>U.totalMinutes-L.totalMinutes)})(),p=(()=>{const P=new Date;let L;switch(a){case"week":L=ei(P);break;case"month":L=pc(P);break;case"all":return{total:r.length,completed:r.filter(q=>q.done).length,rate:r.length>0?r.filter(q=>q.done).length/r.length*100:0};default:L=ei(P)}const U=r.filter(q=>q.doneAt?new Date(q.doneAt)>=L:new Date(q.id)>=L);return{total:U.length,completed:U.filter(q=>q.done).length,rate:U.length>0?U.filter(q=>q.done).length/U.length*100:0}})(),N=(()=>{if(u.length===0)return 0;const P=[...new Set(u.map(U=>new Date(U.timestamp).toDateString()))];let L;switch(a){case"week":L=7;break;case"month":L=30;break;case"all":L=Math.max(P.length,1);break;default:L=7}return P.length/L*100})(),k=(()=>{const P=[...new Set(n.map(je=>new Date(je.timestamp).toDateString()))].sort();let L=0,U=0,q=0;const ve=new Date;for(let je=0;je<30;je++){const Cn=new Date(ve);Cn.setDate(ve.getDate()-je);const Mt=Cn.toDateString();if(P.includes(Mt))L++;else break}for(let je=0;je<P.length;je++)if(je===0)q=1;else{const Cn=new Date(P[je-1]);(new Date(P[je])-Cn)/(1e3*60*60*24)===1?q++:(U=Math.max(U,q),q=1)}return U=Math.max(U,q),{currentStreak:L,longestStreak:U}})(),$=(()=>{const P=Array(24).fill(0);return u.forEach(L=>{const U=new Date(L.timestamp).getHours();P[U]++}),P})(),V=(()=>{const P=Array(7).fill(0);return u.forEach(L=>{const U=new Date(L.timestamp).getDay();P[U]+=L.durationMinutes}),P})(),ne=(()=>{const P=new Date,L=new Date(P);return L.setDate(P.getDate()+7),r.filter(U=>!U.done&&U.scheduledDate&&new Date(U.scheduledDate)>=P&&new Date(U.scheduledDate)<=L).sort((U,q)=>new Date(U.scheduledDate)-new Date(q.scheduledDate))})(),W=(()=>{const P=new Date;let L;switch(a){case"week":L=ei(P);break;case"month":L=pc(P);break;default:return{studyTimeChange:0,sessionsChange:0,tasksChange:0}}const{startDate:U,endDate:q}=hP(L,a),ve=n.filter(oe=>new Date(oe.timestamp)>=L),je=n.filter(oe=>new Date(oe.timestamp)>=U&&new Date(oe.timestamp)<=q),Cn=ve.reduce((oe,En)=>oe+En.durationMinutes,0),Mt=je.reduce((oe,En)=>oe+En.durationMinutes,0),gl=r.filter(oe=>oe.doneAt?new Date(oe.doneAt)>=L:new Date(oe.id)>=L),Ur=r.filter(oe=>oe.doneAt?new Date(oe.doneAt)>=U&&new Date(oe.doneAt)<=q:new Date(oe.id)>=U&&new Date(oe.id)<=q);return{studyTimeChange:Mt>0?(Cn-Mt)/Mt*100:0,sessionsChange:je.length>0?(ve.length-je.length)/je.length*100:0,tasksChange:Ur.length>0?(gl.filter(oe=>oe.done).length-Ur.filter(oe=>oe.done).length)/Ur.filter(oe=>oe.done).length*100:0}})(),E=(()=>{const P=u.filter(U=>U.mood);if(P.length===0)return null;const L={great:0,good:0,okay:0,struggled:0};return P.forEach(U=>{L[U.mood]++}),L})(),D=(()=>{const P=e.reduce((L,U)=>L+U.goalHours*60,0);return{current:d,goal:P,percentage:P>0?d/P*100:0}})(),H=(()=>u.filter(P=>P.reflection).sort((P,L)=>new Date(L.timestamp)-new Date(P.timestamp)).slice(0,3))(),K=(()=>{const P=[];return N<50&&P.push("Try to study at least 4 days a week to build consistency"),f<25&&P.push("Consider longer study sessions for better focus and retention"),p.rate<70&&P.push("Break down large tasks into smaller, manageable chunks"),k.currentStreak<3&&P.push("Start with shorter daily sessions to build your study habit"),P.length===0&&P.push("Great job! Keep up the excellent study habits"),P})(),te=()=>{const P={timeRange:a,totalStudyTime:d,totalSessions:h,averageSessionLength:f,consistencyScore:N,taskStats:p,goalProgress:D,streakHistory:k,subjectTimeDistribution:b,date:new Date().toISOString()},L=JSON.stringify(P,null,2),U=new Blob([L],{type:"application/json"}),q=URL.createObjectURL(U),ve=document.createElement("a");ve.href=q,ve.download=`study-insights-${a}-${new Date().toISOString().split("T")[0]}.json`,ve.click(),URL.revokeObjectURL(q)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0f0f23] via-[#1a1a2e] to-[#16213e] mt-20 flex",children:[i.jsx(Je,{}),i.jsx("div",{className:"flex-1 ml-16 transition-all duration-300 ease-in-out [body>div>aside:hover_+_div&]:ml-64",children:i.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Study Insights"}),i.jsx("p",{className:"text-gray-300",children:"Track your progress and discover your study patterns"})]}),i.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 bg-[#6C5DD3] text-white rounded-lg hover:bg-[#7A6AD9] transition",children:[i.jsx(n2,{className:"w-4 h-4"}),"Export Data"]})]}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"flex gap-2 bg-white/5 rounded-lg p-1 w-fit",children:[{key:"week",label:"This Week"},{key:"month",label:"This Month"},{key:"all",label:"All Time"}].map(P=>i.jsx("button",{onClick:()=>l(P.key),className:`px-4 py-2 rounded-md text-sm font-medium transition ${a===P.key?"bg-[#6C5DD3] text-white":"text-gray-300 hover:text-white"}`,children:P.label},P.key))})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Rt,{className:"w-6 h-6 text-[#6C5DD3]"}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Total Study Time"})]}),i.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:[Math.round(d/60),"h ",Math.round(d%60),"m"]}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[h," sessions"]}),W.studyTimeChange!==0&&i.jsxs("div",{className:`flex items-center gap-1 text-xs mt-2 ${W.studyTimeChange>0?"text-green-400":"text-red-400"}`,children:[W.studyTimeChange>0?i.jsx(ny,{className:"w-3 h-3"}):i.jsx(ty,{className:"w-3 h-3"}),Math.abs(W.studyTimeChange).toFixed(1),"% vs previous"]})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Te,{className:"w-6 h-6 text-[#FEC260]"}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Avg Session"})]}),i.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:[Math.round(f),"m"]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"per session"})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(ut,{className:"w-6 h-6 text-[#FF6B6B]"}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Current Streak"})]}),i.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:k.currentStreak}),i.jsxs("p",{className:"text-gray-400 text-sm",children:["days (best: ",k.longestStreak,")"]})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Ie,{className:"w-6 h-6 text-[#B6E4CF]"}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Task Completion"})]}),i.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:[p.rate.toFixed(1),"%"]}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[p.completed,"/",p.total," tasks"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(mt,{className:"w-5 h-5"}),"Longest Session"]}),m?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-3xl font-bold text-white",children:[Math.round(m.durationMinutes)," minutes"]}),i.jsxs("div",{className:"text-gray-300",children:[i.jsxs("div",{children:["Subject: ",m.subjectName]}),i.jsxs("div",{children:["Date: ",new Date(m.timestamp).toLocaleDateString()]}),m.task&&i.jsxs("div",{children:["Task: ",m.task]})]})]}):i.jsx("div",{className:"text-gray-400",children:"No sessions recorded yet"})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(Ce,{className:"w-5 h-5"}),"Study Consistency"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-3xl font-bold text-white",children:[N.toFixed(1),"%"]}),i.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:i.jsx("div",{className:"bg-[#6C5DD3] h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(N,100)}%`}})}),i.jsxs("div",{className:"text-gray-300 text-sm",children:["Studied ",Math.round(N/100*(a==="week"?7:a==="month"?30:365))," out of ",a==="week"?7:a==="month"?30:365," days"]})]})]})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10 mb-8",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(WN,{className:"w-5 h-5"}),"Subject Time Distribution"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(b).map(([P,L])=>{const U=d>0?L/d*100:0,q=e.find(ve=>ve.name===P);return i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(q==null?void 0:q.color)||"#6C5DD3"}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:P}),i.jsxs("div",{className:"text-gray-300 text-sm",children:[Math.round(L/60),"h (",U.toFixed(1),"%)"]})]})]},P)})})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10 mb-8",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(mt,{className:"w-5 h-5"}),"Subject Leaderboard (All Time)"]}),x.length>0?i.jsx("div",{className:"space-y-4",children:x.map((P,L)=>i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-[#6C5DD3] flex items-center justify-center text-white font-bold text-sm",children:L+1}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-semibold text-lg",children:P.subjectName}),i.jsxs("div",{className:"text-gray-300 text-sm",children:[P.totalHours,"h ",P.totalMinutesRemaining,"m total"]})]})]}),i.jsxs("div",{className:"text-right",children:[L===0&&i.jsxs("div",{className:"flex items-center gap-2 text-[#FEC260] mb-1",children:[i.jsx(mt,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Top Studier"})]}),i.jsxs("div",{className:"text-2xl font-bold text-white",children:[P.totalHours,"h ",P.totalMinutesRemaining,"m"]})]})]},P.subjectName))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-400 text-lg",children:"No study data yet!"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Complete your first study session to see the leaderboard"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(RN,{className:"w-5 h-5"}),"Time of Day Heatmap"]}),i.jsx("div",{className:"grid grid-cols-12 gap-1",children:$.map((P,L)=>{const U=Math.max(...$),q=U>0?P/U:0;return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400 mb-1",children:L}),i.jsx("div",{className:"w-full rounded transition-all duration-300",style:{height:"20px",backgroundColor:`rgba(108, 93, 211, ${q})`}})]},L)})})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(UN,{className:"w-5 h-5"}),"Day of Week Breakdown"]}),i.jsx("div",{className:"space-y-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((P,L)=>{const U=V[L],q=Math.max(...V),ve=q>0?U/q*100:0;return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 text-sm text-gray-300",children:P}),i.jsx("div",{className:"flex-1 bg-white/10 rounded-full h-3",children:i.jsx("div",{className:"bg-[#6C5DD3] h-3 rounded-full transition-all duration-300",style:{width:`${ve}%`}})}),i.jsxs("div",{className:"w-12 text-sm text-gray-300 text-right",children:[Math.round(U/60),"h"]})]},P)})})]})]}),E&&i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10 mb-8",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(Dm,{className:"w-5 h-5"}),"Mood Trends"]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(E).map(([P,L])=>{const U={great:"😄",good:"🙂",okay:"😐",struggled:"😫"}[P];return i.jsxs("div",{className:"text-center p-4 rounded-lg bg-white/5",children:[i.jsx("div",{className:"text-2xl mb-2",children:U}),i.jsx("div",{className:"text-white font-medium capitalize",children:P}),i.jsxs("div",{className:"text-gray-300 text-sm",children:[L," sessions"]})]},P)})})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10 mb-8",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(Te,{className:"w-5 h-5"}),"Goal Progress"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white",children:"Weekly Goal Progress"}),i.jsxs("span",{className:"text-white font-bold",children:[D.percentage.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:i.jsx("div",{className:"bg-[#6C5DD3] h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(D.percentage,100)}%`}})}),i.jsxs("div",{className:"text-gray-300 text-sm",children:[Math.round(D.current/60),"h / ",Math.round(D.goal/60),"h"]})]})]}),H.length>0&&i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10 mb-8",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(Dm,{className:"w-5 h-5"}),"Recent Reflections"]}),i.jsx("div",{className:"space-y-4",children:H.map((P,L)=>i.jsxs("div",{className:"p-4 rounded-lg bg-white/5",children:[i.jsxs("div",{className:"text-gray-300 text-sm mb-2",children:[new Date(P.timestamp).toLocaleDateString()," - ",P.subjectName]}),i.jsxs("div",{className:"text-white italic",children:['"',P.reflection,'"']})]},L))})]}),ne.length>0&&i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10 mb-8",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(QN,{className:"w-5 h-5"}),"Upcoming Deadlines"]}),i.jsx("div",{className:"space-y-3",children:ne.map((P,L)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-medium",children:P.name}),i.jsx("div",{className:"text-gray-300 text-sm",children:P.subject})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-white text-sm",children:new Date(P.scheduledDate).toLocaleDateString()}),i.jsxs("div",{className:"text-gray-300 text-xs",children:[P.time," min"]})]})]},L))})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10 mb-8",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(ju,{className:"w-5 h-5"}),"Personalized Suggestions"]}),i.jsx("div",{className:"space-y-3",children:K.map((P,L)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-[#6C5DD3]/10 border border-[#6C5DD3]/20",children:[i.jsx(ju,{className:"w-5 h-5 text-[#FEC260] mt-0.5"}),i.jsx("div",{className:"text-white",children:P})]},L))})]})]})})]})}function mP(){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] to-[#16213e] mt-20 flex",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 ml-16 transition-all duration-300 ease-in-out [body>div>aside:hover_+_div&]:ml-64",children:[i.jsxs("div",{className:"p-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Privacy policy"}),i.jsx("p",{className:"text-white/80 mb-4",children:"📜 Privacy Policy for Trackviso Last updated: [22.8.25] Trackviso (“we,” “our,” or “us”) respects your privacy and is committed to protecting the personal information you share with us. This Privacy Policy explains how we collect, use, and safeguard your information when you use our website and app. 1. Information We Collect We may collect the following types of information when you use Trackademic: Personal Information: such as your name, email address, or account details when you sign up. Usage Data: information about how you use Trackademic (study sessions, tasks completed, device type, browser type, etc.). Cookies and Tracking Data: to improve your experience, track analytics, and serve ads (including Google AdSense, if enabled). 2. How We Use Your Information We use the information we collect to: Provide and improve our services. Personalize your study dashboard and insights. Communicate with you about updates, features, or support. Show relevant ads (if AdSense or other ad networks are enabled). Ensure the security and functionality of Trackademic. 3. Cookies and Third-Party Services We use cookies to enhance your experience. You can control cookies through your browser settings. If Google AdSense is active, Google may use cookies to serve ads based on your prior visits to Trackademic or other websites. You can opt out of personalized advertising by visiting Google Ads Settings . 4. Data Sharing and Disclosure We do not sell or rent your personal data to third parties. We may share information only in the following cases: With service providers that help us run the site (e.g., hosting, analytics). If required by law, regulation, or legal request. To protect our rights, safety, or property. 5. Data Retention and Security We retain your data only as long as necessary to provide our services or as required by law. We use reasonable security measures to protect your information, but no online system is 100% secure. 6. Your Rights Depending on your location, you may have rights to: Access, correct, or delete your personal data. Opt out of marketing communications. Manage cookies and ad preferences. To exercise these rights, contact us at [your email address]. 7. Children’s Privacy Trackademic is not directed at children under 13 (or the age of digital consent in your country). We do not knowingly collect personal information from children. 8. Changes to This Policy We may update this Privacy Policy from time to time. If we make significant changes, we’ll notify you through the site or by email."})]}),i.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Contact"}),i.jsx("p",{className:"text-white/80 mb-4",children:"Email contact: dskhedekar7@gmail.com"})]})]})}const pP=()=>{const[e,t]=y.useState(!1),{user:n,loading:s}=Ms(),r=Qt();if(y.useEffect(()=>{!s&&n&&r("/dashboard")},[n,s,r]),s)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-purple-100 to-green-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});const o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},l=c=>{const u=document.getElementById(c);u&&u.scrollIntoView({behavior:"smooth"})};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-cyan-50",children:[i.jsx("nav",{className:"fixed top-0 w-full bg-white/90 backdrop-blur-md z-50 border-b border-gray-100",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-blue-600 rounded-lg flex items-center justify-center",children:i.jsx(Te,{className:"w-5 h-5 text-white"})}),i.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:"Trackviso"})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[i.jsx("button",{onClick:()=>l("features"),className:"text-gray-600 hover:text-gray-900 transition-colors cursor-pointer",children:"Features"}),i.jsx("button",{onClick:()=>l("how-it-works"),className:"text-gray-600 hover:text-gray-900 transition-colors cursor-pointer",children:"How It Works"}),i.jsx("button",{onClick:()=>l("pricing"),className:"text-gray-600 hover:text-gray-900 transition-colors cursor-pointer",children:"Pricing"}),i.jsx("button",{onClick:()=>l("testimonials"),className:"text-gray-600 hover:text-gray-900 transition-colors cursor-pointer",children:"Reviews"}),i.jsx(Ae,{to:"/login",className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"Login"}),i.jsx(Ae,{to:"/signup",className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:"Let's go!"})]})]})})}),i.jsx("section",{className:"pt-24 pb-16 px-4",children:i.jsxs(O.div,{className:"max-w-7xl mx-auto text-center",variants:o,initial:"hidden",animate:"visible",children:[i.jsx(O.div,{variants:a,className:"mb-8",children:i.jsxs("div",{className:"inline-flex items-center bg-emerald-100 text-emerald-800 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[i.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Track your academic journey like never before"]})}),i.jsxs(O.h1,{className:"text-5xl lg:text-7xl font-bold leading-tight mb-8",variants:a,children:["Make every"," ",i.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-blue-600 bg-clip-text text-transparent",children:"Study Session"})," ","Count."]}),i.jsx(O.p,{className:"text-xl lg:text-2xl text-gray-600 mb-12 max-w-4xl mx-auto",variants:a,children:"Your revision dashboard: study tracker, analytics, calendar, and XP system in one."}),i.jsxs(O.div,{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",variants:a,children:[i.jsxs(Ae,{to:"/signup",className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:["It's 100% Free",i.jsx(Nm,{className:"ml-2 w-5 h-5"})]}),i.jsxs("button",{onClick:()=>l("demo"),className:"border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-xl font-semibold text-lg hover:border-emerald-500 hover:text-emerald-600 transition-all duration-300 flex items-center justify-center",children:[i.jsx(fr,{className:"mr-2 w-5 h-5"}),"Watch Demo"]})]}),i.jsx(O.div,{className:"mt-16 relative",variants:a,children:i.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-4xl mx-auto",children:i.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-blue-50 rounded-2xl p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(Rt,{className:"w-6 h-6 text-emerald-500"}),i.jsx("span",{className:"text-sm text-gray-500",children:"This Week"})]}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"32.5h"}),i.jsx("div",{className:"text-sm text-emerald-600",children:"+18% from last week"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(mt,{className:"w-6 h-6 text-blue-500"}),i.jsx("span",{className:"text-sm text-gray-500",children:"Goals"})]}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"8/10"}),i.jsx("div",{className:"text-sm text-blue-600",children:"Completed"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(rn,{className:"w-6 h-6 text-purple-500"}),i.jsx("span",{className:"text-sm text-gray-500",children:"Progress"})]}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"94%"}),i.jsx("div",{className:"text-sm text-purple-600",children:"On track"})]})]})})})})]})}),i.jsx("section",{id:"features",className:"py-20 px-4 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:["Powerful Features for"," ",i.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-blue-600 bg-clip-text text-transparent",children:"Academic Excellence"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to track, analyze, and improve your academic performance"})]}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsxs(O.div,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-3xl p-8 text-white",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[i.jsx(Ps,{className:"w-12 h-12 mb-6"}),i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Track every session"}),i.jsx("p",{className:"text-emerald-100 text-lg mb-6",children:"Smart revision timer with inbuilt pomodoro mode, custom, and stopwatch features. Log every session you do."}),i.jsxs("div",{className:"bg-white/20 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"Time left"}),i.jsx("span",{className:"text-sm font-semibold",children:"2 minutes"})]}),i.jsx("div",{className:"w-full bg-white/30 rounded-full h-2",children:i.jsx("div",{className:"bg-white h-2 rounded-full",style:{width:"96%"}})})]})]}),i.jsxs(O.div,{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-3xl p-8 text-white",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},children:[i.jsx(Te,{className:"w-12 h-12 mb-6"}),i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Gamified experience"}),i.jsx("p",{className:"text-blue-100 text-lg mb-6",children:"Become addicted to studying with streaks, xp, levels, achievements, quests, and more!"}),i.jsxs("div",{className:"bg-white/20 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm",children:"Level 3 - 234 XP needed"}),i.jsx("span",{className:"text-sm font-semibold",children:"87%"})]}),i.jsx("div",{className:"w-full bg-white/30 rounded-full h-2",children:i.jsx("div",{className:"bg-white h-2 rounded-full",style:{width:"87%"}})})]})]}),i.jsxs(O.div,{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-3xl p-8 text-white",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[i.jsx(zi,{className:"w-12 h-12 mb-6"}),i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Get the best Insights"}),i.jsx("p",{className:"text-purple-100 text-lg mb-6",children:"Get personalized recommendations and insights to optimize your study schedule and improve performance."}),i.jsxs("div",{className:"bg-white/20 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(ju,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Smart Tip"})]}),i.jsx("p",{className:"text-sm text-purple-100",children:"Study math between 2-4 PM for 23% better retention"})]})]})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16",children:[{icon:Rt,title:"Time Tracking",desc:"Log your study sessions"},{icon:jr,title:"Achievement System",desc:"Gamified progress rewards"},{icon:sn,title:"Privacy First",desc:"Your data stays secure"},{icon:C2,title:"Cross-Platform",desc:"Works on all devices"}].map((c,u)=>i.jsxs(O.div,{className:"bg-gray-50 rounded-2xl p-6 hover:bg-white hover:shadow-lg transition-all duration-300",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:u*.1},viewport:{once:!0},children:[i.jsx(c.icon,{className:"w-8 h-8 text-emerald-500 mb-4"}),i.jsx("h4",{className:"text-lg font-semibold mb-2",children:c.title}),i.jsx("p",{className:"text-gray-600 text-sm",children:c.desc})]},u))})]})}),i.jsx("section",{id:"how-it-works",className:"py-20 px-4 bg-gradient-to-br from-gray-50 to-blue-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:["How Trackviso"," ",i.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-blue-600 bg-clip-text text-transparent",children:"Works"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Get started in minutes and see immediate improvements in your academic tracking"})]}),i.jsx("div",{className:"grid lg:grid-cols-3 gap-12",children:[{step:"01",title:"Connect Your Courses",desc:"Add your own subjects and tasks to create your own study experience.",icon:Gt,color:"emerald"},{step:"02",title:"Track Your Progress",desc:"Log study sessions, assignments, and achievements. Earn XP and level up.",icon:Ps,color:"blue"},{step:"03",title:"Optimize & Improve",desc:"Get personalized insights and recommendations to maximize your academic performance.",icon:rn,color:"purple"}].map((c,u)=>i.jsxs(O.div,{className:"text-center",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:u*.2},viewport:{once:!0},children:[i.jsx("div",{className:`w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-${c.color}-500 to-${c.color}-600 flex items-center justify-center text-white shadow-lg`,children:i.jsx(c.icon,{className:"w-10 h-10"})}),i.jsx("div",{className:`text-4xl font-bold text-${c.color}-500 mb-4`,children:c.step}),i.jsx("h3",{className:"text-2xl font-bold mb-4",children:c.title}),i.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:c.desc})]},u))})]})}),i.jsx("section",{id:"demo",className:"py-20 px-4 bg-white",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs(O.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[i.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:["See Trackviso in"," ",i.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-blue-600 bg-clip-text text-transparent",children:"Action"})]}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Watch how students are transforming their academic journey with intelligent tracking and insights."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ie,{className:"w-6 h-6 text-emerald-500"}),i.jsx("span",{className:"text-lg",children:"Real-time progress tracking"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ie,{className:"w-6 h-6 text-emerald-500"}),i.jsx("span",{className:"text-lg",children:"Personalized study insights"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ie,{className:"w-6 h-6 text-emerald-500"}),i.jsx("span",{className:"text-lg",children:"Goal achievement system"})]})]})]}),i.jsx(O.div,{className:"relative",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},viewport:{once:!0},children:i.jsx("div",{className:"relative bg-gradient-to-br from-emerald-600 to-blue-700 rounded-3xl overflow-hidden group cursor-pointer aspect-video flex items-center justify-center",onClick:()=>t(!e),children:e?i.jsxs("div",{className:"text-white text-center",children:[i.jsx("p",{className:"text-xl",children:"If the video does not play, feel free to contact us"}),i.jsx("button",{className:"mt-4 bg-white/20 px-4 py-2 rounded-lg",onClick:c=>{c.stopPropagation(),t(!1)},children:"Close"})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:i.jsx(fr,{className:"w-10 h-10 text-white ml-1"})}),i.jsx("p",{className:"text-white text-xl font-semibold",children:"Watch 2-minute demo"})]})})})]})})}),i.jsx("section",{id:"pricing",className:"py-20 px-4 bg-gradient-to-br from-gray-50 to-purple-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:["Simple"," ",i.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-blue-600 bg-clip-text text-transparent",children:"Pricing"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Start free, Stay free. No hidden fees, No Paywalls."})]}),i.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-blue-600 rounded-3xl shadow-xl text-white relative px-48 py-8",children:[i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:i.jsx("div",{className:"bg-yellow-400 text-yellow-900 px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"The Scholar"}),i.jsxs("div",{className:"text-4xl font-bold mb-4",children:["$0",i.jsx("span",{className:"text-lg text-emerald-100",children:"/month"})]}),i.jsx("p",{className:"text-emerald-100",children:"It's all free"})]}),i.jsxs("ul",{className:"space-y-4 mb-8",children:[i.jsxs("li",{className:"flex items-center space-x-3",children:[i.jsx(Ie,{className:"w-5 h-5 text-emerald-200"}),i.jsx("span",{children:"Unlimited subjects"})]}),i.jsxs("li",{className:"flex items-center space-x-3",children:[i.jsx(Ie,{className:"w-5 h-5 text-emerald-200"}),i.jsx("span",{children:"Unlimited logging"})]}),i.jsxs("li",{className:"flex items-center space-x-3",children:[i.jsx(Ie,{className:"w-5 h-5 text-emerald-200"}),i.jsx("span",{children:"Full insight access"})]}),i.jsxs("li",{className:"flex items-center space-x-3",children:[i.jsx(Ie,{className:"w-5 h-5 text-emerald-200"}),i.jsx("span",{children:"Full gamification access"})]})]}),i.jsx(Ae,{to:"/signup",className:"w-full bg-white text-emerald-600 py-3 rounded-xl font-semibold text-center block hover:bg-gray-50 transition-colors",children:"Start for free"})]}),i.jsx("div",{className:"grid lg:grid-cols-3 gap-8 max-w-5xl mx-auto"})]})}),i.jsx("section",{id:"testimonials",className:"py-20 px-4 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:["What Students"," ",i.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-blue-600 bg-clip-text text-transparent",children:"Say"})]}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Join thousands of students who have transformed their academic journey"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Sara_672",role:"Computer Science Major",text:"Trackviso saved my junior year, I used to journal all of my sessions but I became so burnt out, now this keeps me going!",rating:5},{name:"IDK875_9",role:"Secondary school student",text:"It actually helped me study a fair bit, I wasn't getting lost anymore and I could keep track while having fun.",rating:5},{name:"Emma_GOAT_",role:"Engineering Student",text:"Finally, a tool that actually helps me stay organized. The gamification feature keeps me motivated every day.",rating:5}].map((c,u)=>i.jsxs(O.div,{className:"bg-gray-50 p-8 rounded-2xl hover:shadow-lg transition-all duration-300",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:u*.1},viewport:{once:!0},children:[i.jsx("div",{className:"flex justify-center mb-4",children:[...Array(c.rating)].map((d,h)=>i.jsx(Ce,{className:"w-5 h-5 text-yellow-400 fill-current"},h))}),i.jsxs("p",{className:"text-gray-700 mb-6 text-lg leading-relaxed",children:['"',c.text,'"']}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-lg",children:c.name}),i.jsx("div",{className:"text-gray-500",children:c.role})]})]},u))})]})}),i.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-emerald-600 to-blue-700",children:i.jsxs(O.div,{className:"max-w-4xl mx-auto text-center text-white",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Ready to Transform Your Academic Journey?"}),i.jsx("p",{className:"text-xl text-emerald-100 mb-10",children:"Join thousands of students who are already achieving better results with Trackviso"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[i.jsxs(Ae,{to:"/signup",className:"bg-white text-emerald-600 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-50 transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:["Start Now",i.jsx(Nm,{className:"ml-2 w-5 h-5"})]}),i.jsxs("button",{onClick:()=>l("demo"),className:"border-2 border-white text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-white hover:text-emerald-600 transition-all duration-300 flex items-center justify-center",children:[i.jsx(fr,{className:"mr-2 w-5 h-5"}),"Watch Demo"]})]})]})}),i.jsx("footer",{className:"bg-gray-900 text-white py-16 px-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-blue-600 rounded-lg flex items-center justify-center",children:i.jsx(Te,{className:"w-5 h-5 text-white"})}),i.jsx("span",{className:"text-xl font-bold",children:"Trackviso"})]}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Empowering students to achieve academic excellence through intelligent tracking and insights."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),i.jsxs("div",{className:"space-y-3 text-gray-400",children:[i.jsx("button",{onClick:()=>l("features"),className:"block hover:text-white transition-colors",children:"Features"}),i.jsx("button",{onClick:()=>l("pricing"),className:"block hover:text-white transition-colors",children:"Pricing"}),i.jsx("button",{onClick:()=>l("demo"),className:"block hover:text-white transition-colors",children:"Demo"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Company"}),i.jsxs("div",{className:"space-y-3 text-gray-400",children:[i.jsx("div",{className:"hover:text-white transition-colors cursor-pointer",children:"Privacy"}),i.jsx("div",{className:"hover:text-white transition-colors cursor-pointer",children:"Terms"})]})]})]}),i.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-400",children:i.jsx("p",{children:"© 2025 Trackviso. All rights reserved. Built with ❤️ for students."})})]})})]})};function gP(){const{login:e}=Ms(),[t,n]=y.useState(""),[s,r]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(!1),u=Qt(),d=async h=>{h.preventDefault(),a(""),c(!0);try{await e(t,s),u("/dashboard")}catch(f){console.error("Login error:",f),a("Failed to log in. Check your credentials and make sure your email is confirmed.")}finally{c(!1)}};return i.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gradient-to-br from-blue-100 via-purple-100 to-green-100",children:[i.jsxs("form",{onSubmit:d,className:"max-w-md w-full mx-auto bg-white rounded-2xl shadow-lg p-8",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login"}),o&&i.jsx("p",{className:"text-red-500 mb-4",children:o}),i.jsx("input",{className:"block w-full border p-2 mb-3 rounded",type:"email",placeholder:"Email",value:t,onChange:h=>n(h.target.value),required:!0}),i.jsx("input",{className:"block w-full border p-2 mb-4 rounded",type:"password",placeholder:"Password",value:s,onChange:h=>r(h.target.value),required:!0}),i.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:opacity-50",disabled:l,children:l?"Logging in...":"Log In"})]}),i.jsxs("div",{className:"text-center mt-4",children:[i.jsx("span",{children:"Don't have an account? "}),i.jsx(Ae,{to:"/signup",className:"text-blue-500 underline",children:"Sign Up"})]})]})}function xP(){const{signup:e}=Ms(),[t,n]=y.useState(""),[s,r]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(!1),u=Qt(),d=async h=>{h.preventDefault(),a(""),c(!0);try{const{data:f}=await e(t,s);f!=null&&f.user&&!f.session?a("Please check your email and click the confirmation link to complete signup."):f!=null&&f.session&&u("/dashboard")}catch(f){a("Failed to sign up. "+f.message)}finally{c(!1)}};return i.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gradient-to-br from-blue-100 via-purple-100 to-green-100",children:[i.jsxs("form",{onSubmit:d,className:"max-w-md w-full mx-auto bg-white rounded-2xl shadow-lg p-8",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sign Up"}),o&&i.jsx("p",{className:"text-red-500 mb-4",children:o}),i.jsx("input",{className:"block w-full border p-2 mb-3 rounded",type:"email",placeholder:"Email",value:t,onChange:h=>n(h.target.value),required:!0}),i.jsx("input",{className:"block w-full border p-2 mb-4 rounded",type:"password",placeholder:"Password (min 6 characters)",value:s,onChange:h=>r(h.target.value),minLength:6,required:!0}),i.jsx("button",{className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 disabled:opacity-50",disabled:l,children:l?"Signing up...":"Sign Up"})]}),i.jsxs("div",{className:"text-center mt-4",children:[i.jsx("span",{children:"Have an account? "}),i.jsx(Ae,{to:"/login",className:"text-blue-500 underline",children:"Log in"})]})]})}const yP=()=>{const[e,t]=y.useState(!1),[n,s]=y.useState(0),r=[{title:"Welcome 🚀",text:"Start by setting your subjects in the subjects page."},{title:"Track ⏱️",text:"Log your study sessions and keep streaks alive inside the Study page. Create tasks and schedule them in the Tasks and Schedule page."},{title:"Insights 📊",text:"Get stats and insights on your progress from the dashboard as well as our detailed Insights page."}];y.useEffect(()=>{localStorage.getItem("seenOnboarding")||t(!0)},[]);const o=()=>{t(!1),localStorage.setItem("seenOnboarding","true")};return e?i.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 w-96 shadow-lg text-center",children:[i.jsx("h2",{className:"text-xl font-bold",children:r[n].title}),i.jsx("p",{className:"text-gray-600 mt-2",children:r[n].text}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[n>0?i.jsx("button",{className:"px-4 py-2 text-sm text-gray-500",onClick:()=>s(n-1),children:"Back"}):i.jsx("div",{}),n<r.length-1?i.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg",onClick:()=>s(n+1),children:"Next"}):i.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded-lg",onClick:o,children:"Finish"})]})]})}):null};function vP(){return i.jsx(Yx,{children:i.jsx(_N,{children:i.jsx(NN,{children:i.jsx(Zj,{children:i.jsxs(Cj,{children:[i.jsx(bt,{path:"/",element:i.jsx(pP,{})}),i.jsx(bt,{path:"/login",element:i.jsx(gP,{})}),i.jsx(bt,{path:"/signup",element:i.jsx(xP,{})}),i.jsx(bt,{path:"/dashboard",element:i.jsx(Mn,{children:i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Ln,{}),i.jsxs("main",{className:"flex-1 overflow-auto",children:[i.jsx(yP,{}),i.jsx(oP,{})]})]})]})})}),i.jsx(bt,{path:"/classic-dashboard",element:i.jsx(Mn,{children:i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Ln,{}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(DE,{})})]})]})})}),i.jsx(bt,{path:"/subjects",element:i.jsx(Mn,{children:i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Ln,{}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(lP,{})})]})]})})}),i.jsx(bt,{path:"/study",element:i.jsx(Mn,{children:i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Ln,{}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(cP,{})})]})]})})}),i.jsx(bt,{path:"/tasks",element:i.jsx(Mn,{children:i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Ln,{}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(uP,{})})]})]})})}),i.jsx(bt,{path:"/schedule",element:i.jsx(Mn,{children:i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Ln,{}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(dP,{})})]})]})})}),i.jsx(bt,{path:"/insights",element:i.jsx(Mn,{children:i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Ln,{}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(fP,{})})]})]})})}),i.jsx(bt,{path:"/privacy",element:i.jsx(Mn,{children:i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(Je,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Ln,{}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(mP,{})})]})]})})})]})})})})})}gc.createRoot(document.getElementById("root")).render(i.jsx(Yx,{children:i.jsx(vP,{})}));
